!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,(function(e,t){"use strict";var n=[],o=Object.getPrototypeOf,r=n.slice,i=n.flat?function(e){return n.flat.call(e)}:function(e){return n.concat.apply([],e)},s=n.push,a=n.indexOf,l={},c=l.toString,d=l.hasOwnProperty,u=d.toString,f=u.call(Object),m={},p=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},h=function(e){return null!=e&&e===e.window},g=e.document,v={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var o,r,i=(n=n||g).createElement("script");if(i.text=e,t)for(o in v)(r=t[o]||t.getAttribute&&t.getAttribute(o))&&i.setAttribute(o,r);n.head.appendChild(i).parentNode.removeChild(i)}function y(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[c.call(e)]||"object":typeof e}var C="3.5.1",_=function(e,t){return new _.fn.init(e,t)};function w(e){var t=!!e&&"length"in e&&e.length,n=y(e);return!p(e)&&!h(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}_.fn=_.prototype={jquery:C,constructor:_,length:0,toArray:function(){return r.call(this)},get:function(e){return null==e?r.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=_.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return _.each(this,e)},map:function(e){return this.pushStack(_.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(_.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(_.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},_.extend=_.fn.extend=function(){var e,t,n,o,r,i,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||p(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)o=e[t],"__proto__"!==t&&s!==o&&(c&&o&&(_.isPlainObject(o)||(r=Array.isArray(o)))?(n=s[t],i=r&&!Array.isArray(n)?[]:r||_.isPlainObject(n)?n:{},r=!1,s[t]=_.extend(c,i,o)):void 0!==o&&(s[t]=o));return s},_.extend({expando:"jQuery"+(C+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==c.call(e)||(t=o(e))&&("function"!=typeof(n=d.call(t,"constructor")&&t.constructor)||u.call(n)!==f))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,o=0;if(w(e))for(n=e.length;o<n&&!1!==t.call(e[o],o,e[o]);o++);else for(o in e)if(!1===t.call(e[o],o,e[o]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(w(Object(e))?_.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:a.call(t,e,n)},merge:function(e,t){for(var n=+t.length,o=0,r=e.length;o<n;o++)e[r++]=t[o];return e.length=r,e},grep:function(e,t,n){for(var o=[],r=0,i=e.length,s=!n;r<i;r++)!t(e[r],r)!==s&&o.push(e[r]);return o},map:function(e,t,n){var o,r,s=0,a=[];if(w(e))for(o=e.length;s<o;s++)null!=(r=t(e[s],s,n))&&a.push(r);else for(s in e)null!=(r=t(e[s],s,n))&&a.push(r);return i(a)},guid:1,support:m}),"function"==typeof Symbol&&(_.fn[Symbol.iterator]=n[Symbol.iterator]),_.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){l["[object "+t+"]"]=t.toLowerCase()}));var x=function(e){var t,n,o,r,i,s,a,l,c,d,u,f,m,p,h,g,v,b,y,C="sizzle"+1*new Date,_=e.document,w=0,x=0,E=le(),S=le(),k=le(),N=le(),T=function(e,t){return e===t&&(u=!0),0},A={}.hasOwnProperty,R=[],O=R.pop,D=R.push,B=R.push,L=R.slice,P=function(e,t){for(var n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},I="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",j="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",F="\\["+M+"*("+j+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+j+"))|)"+M+"*\\]",H=":("+j+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",U=new RegExp(M+"+","g"),q=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),z=new RegExp("^"+M+"*,"+M+"*"),$=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),W=new RegExp(M+"|>"),V=new RegExp(H),K=new RegExp("^"+j+"$"),X={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+I+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,G=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},oe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,re=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){f()},se=Ce((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{B.apply(R=L.call(_.childNodes),_.childNodes)}catch(t){B={apply:R.length?function(e,t){D.apply(e,L.call(t))}:function(e,t){for(var n=e.length,o=0;e[n++]=t[o++];);e.length=n-1}}}function ae(e,t,o,r){var i,a,c,d,u,p,v,b=t&&t.ownerDocument,_=t?t.nodeType:9;if(o=o||[],"string"!=typeof e||!e||1!==_&&9!==_&&11!==_)return o;if(!r&&(f(t),t=t||m,h)){if(11!==_&&(u=Z.exec(e)))if(i=u[1]){if(9===_){if(!(c=t.getElementById(i)))return o;if(c.id===i)return o.push(c),o}else if(b&&(c=b.getElementById(i))&&y(t,c)&&c.id===i)return o.push(c),o}else{if(u[2])return B.apply(o,t.getElementsByTagName(e)),o;if((i=u[3])&&n.getElementsByClassName&&t.getElementsByClassName)return B.apply(o,t.getElementsByClassName(i)),o}if(n.qsa&&!N[e+" "]&&(!g||!g.test(e))&&(1!==_||"object"!==t.nodeName.toLowerCase())){if(v=e,b=t,1===_&&(W.test(e)||$.test(e))){for((b=ee.test(e)&&ve(t.parentNode)||t)===t&&n.scope||((d=t.getAttribute("id"))?d=d.replace(oe,re):t.setAttribute("id",d=C)),a=(p=s(e)).length;a--;)p[a]=(d?"#"+d:":scope")+" "+ye(p[a]);v=p.join(",")}try{return B.apply(o,b.querySelectorAll(v)),o}catch(t){N(e,!0)}finally{d===C&&t.removeAttribute("id")}}}return l(e.replace(q,"$1"),t,o,r)}function le(){var e=[];return function t(n,r){return e.push(n+" ")>o.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function ce(e){return e[C]=!0,e}function de(e){var t=m.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var n=e.split("|"),r=n.length;r--;)o.attrHandle[n[r]]=t}function fe(e,t){var n=t&&e,o=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(o)return o;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function me(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function he(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&se(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ge(e){return ce((function(t){return t=+t,ce((function(n,o){for(var r,i=e([],n.length,t),s=i.length;s--;)n[r=i[s]]&&(n[r]=!(o[r]=n[r]))}))}))}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ae.support={},i=ae.isXML=function(e){var t=(e.ownerDocument||e).documentElement;return!Y.test(e.namespaceURI||t&&t.nodeName||"HTML")},f=ae.setDocument=function(e){var t,r,s=e?e.ownerDocument||e:_;return s!=m&&9===s.nodeType&&s.documentElement&&(p=(m=s).documentElement,h=!i(m),_!=m&&(r=m.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ie,!1):r.attachEvent&&r.attachEvent("onunload",ie)),n.scope=de((function(e){return p.appendChild(e).appendChild(m.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=de((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=de((function(e){return e.appendChild(m.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=J.test(m.getElementsByClassName),n.getById=de((function(e){return p.appendChild(e).id=C,!m.getElementsByName||!m.getElementsByName(C).length})),n.getById?(o.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},o.find.ID=function(e,t){if(void 0!==t.getElementById&&h){var n=t.getElementById(e);return n?[n]:[]}}):(o.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},o.find.ID=function(e,t){if(void 0!==t.getElementById&&h){var n,o,r,i=t.getElementById(e);if(i){if((n=i.getAttributeNode("id"))&&n.value===e)return[i];for(r=t.getElementsByName(e),o=0;i=r[o++];)if((n=i.getAttributeNode("id"))&&n.value===e)return[i]}return[]}}),o.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,o=[],r=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[r++];)1===n.nodeType&&o.push(n);return o}return i},o.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&h)return t.getElementsByClassName(e)},v=[],g=[],(n.qsa=J.test(m.querySelectorAll))&&(de((function(e){var t;p.appendChild(e).innerHTML="<a id='"+C+"'></a><select id='"+C+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+M+"*(?:value|"+I+")"),e.querySelectorAll("[id~="+C+"-]").length||g.push("~="),(t=m.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||g.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+C+"+*").length||g.push(".#.+[+~]"),e.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")})),de((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=m.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=J.test(b=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&de((function(e){n.disconnectedMatch=b.call(e,"*"),b.call(e,"[s!='']:x"),v.push("!=",H)})),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=J.test(p.compareDocumentPosition),y=t||J.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,o=t&&t.parentNode;return e===o||!(!o||1!==o.nodeType||!(n.contains?n.contains(o):e.compareDocumentPosition&&16&e.compareDocumentPosition(o)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},T=t?function(e,t){if(e===t)return u=!0,0;var o=!e.compareDocumentPosition-!t.compareDocumentPosition;return o||(1&(o=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===o?e==m||e.ownerDocument==_&&y(_,e)?-1:t==m||t.ownerDocument==_&&y(_,t)?1:d?P(d,e)-P(d,t):0:4&o?-1:1)}:function(e,t){if(e===t)return u=!0,0;var n,o=0,r=e.parentNode,i=t.parentNode,s=[e],a=[t];if(!r||!i)return e==m?-1:t==m?1:r?-1:i?1:d?P(d,e)-P(d,t):0;if(r===i)return fe(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[o]===a[o];)o++;return o?fe(s[o],a[o]):s[o]==_?-1:a[o]==_?1:0}),m},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if(f(e),n.matchesSelector&&h&&!N[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var o=b.call(e,t);if(o||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return o}catch(e){N(t,!0)}return 0<ae(t,m,null,[e]).length},ae.contains=function(e,t){return(e.ownerDocument||e)!=m&&f(e),y(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!=m&&f(e);var r=o.attrHandle[t.toLowerCase()],i=r&&A.call(o.attrHandle,t.toLowerCase())?r(e,t,!h):void 0;return void 0!==i?i:n.attributes||!h?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},ae.escape=function(e){return(e+"").replace(oe,re)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,o=[],r=0,i=0;if(u=!n.detectDuplicates,d=!n.sortStable&&e.slice(0),e.sort(T),u){for(;t=e[i++];)t===e[i]&&(r=o.push(i));for(;r--;)e.splice(o[r],1)}return d=null,e},r=ae.getText=function(e){var t,n="",o=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[o++];)n+=r(t);return n},(o=ae.selectors={cacheLength:50,createPseudo:ce,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&V.test(n)&&(t=s(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&E(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(o){var r=ae.attr(o,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&-1<r.indexOf(n):"$="===t?n&&r.slice(-n.length)===n:"~="===t?-1<(" "+r.replace(U," ")+" ").indexOf(n):"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,o,r){var i="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===o&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,d,u,f,m,p,h=i!==s?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),b=!l&&!a,y=!1;if(g){if(i){for(;h;){for(f=t;f=f[h];)if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=h="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&b){for(y=(m=(c=(d=(u=(f=g)[C]||(f[C]={}))[f.uniqueID]||(u[f.uniqueID]={}))[e]||[])[0]===w&&c[1])&&c[2],f=m&&g.childNodes[m];f=++m&&f&&f[h]||(y=m=0)||p.pop();)if(1===f.nodeType&&++y&&f===t){d[e]=[w,m,y];break}}else if(b&&(y=m=(c=(d=(u=(f=t)[C]||(f[C]={}))[f.uniqueID]||(u[f.uniqueID]={}))[e]||[])[0]===w&&c[1]),!1===y)for(;(f=++m&&f&&f[h]||(y=m=0)||p.pop())&&((a?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++y||(b&&((d=(u=f[C]||(f[C]={}))[f.uniqueID]||(u[f.uniqueID]={}))[e]=[w,y]),f!==t)););return(y-=r)===o||y%o==0&&0<=y/o}}},PSEUDO:function(e,t){var n,r=o.pseudos[e]||o.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return r[C]?r(t):1<r.length?(n=[e,e,"",t],o.setFilters.hasOwnProperty(e.toLowerCase())?ce((function(e,n){for(var o,i=r(e,t),s=i.length;s--;)e[o=P(e,i[s])]=!(n[o]=i[s])})):function(e){return r(e,0,n)}):r}},pseudos:{not:ce((function(e){var t=[],n=[],o=a(e.replace(q,"$1"));return o[C]?ce((function(e,t,n,r){for(var i,s=o(e,null,r,[]),a=e.length;a--;)(i=s[a])&&(e[a]=!(t[a]=i))})):function(e,r,i){return t[0]=e,o(t,null,i,n),t[0]=null,!n.pop()}})),has:ce((function(e){return function(t){return 0<ae(e,t).length}})),contains:ce((function(e){return e=e.replace(te,ne),function(t){return-1<(t.textContent||r(t)).indexOf(e)}})),lang:ce((function(e){return K.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===m.activeElement&&(!m.hasFocus||m.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:he(!1),disabled:he(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!o.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge((function(){return[0]})),last:ge((function(e,t){return[t-1]})),eq:ge((function(e,t,n){return[n<0?n+t:n]})),even:ge((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ge((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ge((function(e,t,n){for(var o=n<0?n+t:t<n?t:n;0<=--o;)e.push(o);return e})),gt:ge((function(e,t,n){for(var o=n<0?n+t:n;++o<t;)e.push(o);return e}))}}).pseudos.nth=o.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[t]=me(t);for(t in{submit:!0,reset:!0})o.pseudos[t]=pe(t);function be(){}function ye(e){for(var t=0,n=e.length,o="";t<n;t++)o+=e[t].value;return o}function Ce(e,t,n){var o=t.dir,r=t.next,i=r||o,s=n&&"parentNode"===i,a=x++;return t.first?function(t,n,r){for(;t=t[o];)if(1===t.nodeType||s)return e(t,n,r);return!1}:function(t,n,l){var c,d,u,f=[w,a];if(l){for(;t=t[o];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[o];)if(1===t.nodeType||s)if(d=(u=t[C]||(t[C]={}))[t.uniqueID]||(u[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[o]||t;else{if((c=d[i])&&c[0]===w&&c[1]===a)return f[2]=c[2];if((d[i]=f)[2]=e(t,n,l))return!0}return!1}}function _e(e){return 1<e.length?function(t,n,o){for(var r=e.length;r--;)if(!e[r](t,n,o))return!1;return!0}:e[0]}function we(e,t,n,o,r){for(var i,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(i=e[a])&&(n&&!n(i,o,r)||(s.push(i),c&&t.push(a)));return s}function xe(e,t,n,o,r,i){return o&&!o[C]&&(o=xe(o)),r&&!r[C]&&(r=xe(r,i)),ce((function(i,s,a,l){var c,d,u,f=[],m=[],p=s.length,h=i||function(e,t,n){for(var o=0,r=t.length;o<r;o++)ae(e,t[o],n);return n}(t||"*",a.nodeType?[a]:a,[]),g=!e||!i&&t?h:we(h,f,e,a,l),v=n?r||(i?e:p||o)?[]:s:g;if(n&&n(g,v,a,l),o)for(c=we(v,m),o(c,[],a,l),d=c.length;d--;)(u=c[d])&&(v[m[d]]=!(g[m[d]]=u));if(i){if(r||e){if(r){for(c=[],d=v.length;d--;)(u=v[d])&&c.push(g[d]=u);r(null,v=[],c,l)}for(d=v.length;d--;)(u=v[d])&&-1<(c=r?P(i,u):f[d])&&(i[c]=!(s[c]=u))}}else v=we(v===s?v.splice(p,v.length):v),r?r(null,s,v,l):B.apply(s,v)}))}function Ee(e){for(var t,n,r,i=e.length,s=o.relative[e[0].type],a=s||o.relative[" "],l=s?1:0,d=Ce((function(e){return e===t}),a,!0),u=Ce((function(e){return-1<P(t,e)}),a,!0),f=[function(e,n,o){var r=!s&&(o||n!==c)||((t=n).nodeType?d(e,n,o):u(e,n,o));return t=null,r}];l<i;l++)if(n=o.relative[e[l].type])f=[Ce(_e(f),n)];else{if((n=o.filter[e[l].type].apply(null,e[l].matches))[C]){for(r=++l;r<i&&!o.relative[e[r].type];r++);return xe(1<l&&_e(f),1<l&&ye(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(q,"$1"),n,l<r&&Ee(e.slice(l,r)),r<i&&Ee(e=e.slice(r)),r<i&&ye(e))}f.push(n)}return _e(f)}return be.prototype=o.filters=o.pseudos,o.setFilters=new be,s=ae.tokenize=function(e,t){var n,r,i,s,a,l,c,d=S[e+" "];if(d)return t?0:d.slice(0);for(a=e,l=[],c=o.preFilter;a;){for(s in n&&!(r=z.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(i=[])),n=!1,(r=$.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(q," ")}),a=a.slice(n.length)),o.filter)!(r=X[s].exec(a))||c[s]&&!(r=c[s](r))||(n=r.shift(),i.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ae.error(e):S(e,l).slice(0)},a=ae.compile=function(e,t){var n,r,i,a,l,d,u=[],p=[],g=k[e+" "];if(!g){for(t||(t=s(e)),n=t.length;n--;)(g=Ee(t[n]))[C]?u.push(g):p.push(g);(g=k(e,(r=p,a=0<(i=u).length,l=0<r.length,d=function(e,t,n,s,d){var u,p,g,v=0,b="0",y=e&&[],C=[],_=c,x=e||l&&o.find.TAG("*",d),E=w+=null==_?1:Math.random()||.1,S=x.length;for(d&&(c=t==m||t||d);b!==S&&null!=(u=x[b]);b++){if(l&&u){for(p=0,t||u.ownerDocument==m||(f(u),n=!h);g=r[p++];)if(g(u,t||m,n)){s.push(u);break}d&&(w=E)}a&&((u=!g&&u)&&v--,e&&y.push(u))}if(v+=b,a&&b!==v){for(p=0;g=i[p++];)g(y,C,t,n);if(e){if(0<v)for(;b--;)y[b]||C[b]||(C[b]=O.call(s));C=we(C)}B.apply(s,C),d&&!e&&0<C.length&&1<v+i.length&&ae.uniqueSort(s)}return d&&(w=E,c=_),y},a?ce(d):d))).selector=e}return g},l=ae.select=function(e,t,n,r){var i,l,c,d,u,f="function"==typeof e&&e,m=!r&&s(e=f.selector||e);if(n=n||[],1===m.length){if(2<(l=m[0]=m[0].slice(0)).length&&"ID"===(c=l[0]).type&&9===t.nodeType&&h&&o.relative[l[1].type]){if(!(t=(o.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;f&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(i=X.needsContext.test(e)?0:l.length;i--&&!o.relative[d=(c=l[i]).type];)if((u=o.find[d])&&(r=u(c.matches[0].replace(te,ne),ee.test(l[0].type)&&ve(t.parentNode)||t))){if(l.splice(i,1),!(e=r.length&&ye(l)))return B.apply(n,r),n;break}}return(f||a(e,m))(r,t,!h,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},n.sortStable=C.split("").sort(T).join("")===C,n.detectDuplicates=!!u,f(),n.sortDetached=de((function(e){return 1&e.compareDocumentPosition(m.createElement("fieldset"))})),de((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||ue("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&de((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||ue("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),de((function(e){return null==e.getAttribute("disabled")}))||ue(I,(function(e,t,n){var o;if(!n)return!0===e[t]?t.toLowerCase():(o=e.getAttributeNode(t))&&o.specified?o.value:null})),ae}(e);_.find=x,_.expr=x.selectors,_.expr[":"]=_.expr.pseudos,_.uniqueSort=_.unique=x.uniqueSort,_.text=x.getText,_.isXMLDoc=x.isXML,_.contains=x.contains,_.escapeSelector=x.escape;var E=function(e,t,n){for(var o=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&_(e).is(n))break;o.push(e)}return o},S=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=_.expr.match.needsContext;function N(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var T=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function A(e,t,n){return p(t)?_.grep(e,(function(e,o){return!!t.call(e,o,e)!==n})):t.nodeType?_.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?_.grep(e,(function(e){return-1<a.call(t,e)!==n})):_.filter(t,e,n)}_.filter=function(e,t,n){var o=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===o.nodeType?_.find.matchesSelector(o,e)?[o]:[]:_.find.matches(e,_.grep(t,(function(e){return 1===e.nodeType})))},_.fn.extend({find:function(e){var t,n,o=this.length,r=this;if("string"!=typeof e)return this.pushStack(_(e).filter((function(){for(t=0;t<o;t++)if(_.contains(r[t],this))return!0})));for(n=this.pushStack([]),t=0;t<o;t++)_.find(e,r[t],n);return 1<o?_.uniqueSort(n):n},filter:function(e){return this.pushStack(A(this,e||[],!1))},not:function(e){return this.pushStack(A(this,e||[],!0))},is:function(e){return!!A(this,"string"==typeof e&&k.test(e)?_(e):e||[],!1).length}});var R,O=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(_.fn.init=function(e,t,n){var o,r;if(!e)return this;if(n=n||R,"string"==typeof e){if(!(o="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:O.exec(e))||!o[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(o[1]){if(_.merge(this,_.parseHTML(o[1],(t=t instanceof _?t[0]:t)&&t.nodeType?t.ownerDocument||t:g,!0)),T.test(o[1])&&_.isPlainObject(t))for(o in t)p(this[o])?this[o](t[o]):this.attr(o,t[o]);return this}return(r=g.getElementById(o[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):p(e)?void 0!==n.ready?n.ready(e):e(_):_.makeArray(e,this)}).prototype=_.fn,R=_(g);var D=/^(?:parents|prev(?:Until|All))/,B={children:!0,contents:!0,next:!0,prev:!0};function L(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}_.fn.extend({has:function(e){var t=_(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(_.contains(this,t[e]))return!0}))},closest:function(e,t){var n,o=0,r=this.length,i=[],s="string"!=typeof e&&_(e);if(!k.test(e))for(;o<r;o++)for(n=this[o];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&_.find.matchesSelector(n,e))){i.push(n);break}return this.pushStack(1<i.length?_.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?a.call(_(e),this[0]):a.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(_.uniqueSort(_.merge(this.get(),_(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),_.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return E(e,"parentNode")},parentsUntil:function(e,t,n){return E(e,"parentNode",n)},next:function(e){return L(e,"nextSibling")},prev:function(e){return L(e,"previousSibling")},nextAll:function(e){return E(e,"nextSibling")},prevAll:function(e){return E(e,"previousSibling")},nextUntil:function(e,t,n){return E(e,"nextSibling",n)},prevUntil:function(e,t,n){return E(e,"previousSibling",n)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){return null!=e.contentDocument&&o(e.contentDocument)?e.contentDocument:(N(e,"template")&&(e=e.content||e),_.merge([],e.childNodes))}},(function(e,t){_.fn[e]=function(n,o){var r=_.map(this,t,n);return"Until"!==e.slice(-5)&&(o=n),o&&"string"==typeof o&&(r=_.filter(o,r)),1<this.length&&(B[e]||_.uniqueSort(r),D.test(e)&&r.reverse()),this.pushStack(r)}}));var P=/[^\x20\t\r\n\f]+/g;function I(e){return e}function M(e){throw e}function j(e,t,n,o){var r;try{e&&p(r=e.promise)?r.call(e).done(t).fail(n):e&&p(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(o))}catch(e){n.apply(void 0,[e])}}_.Callbacks=function(e){var t;e="string"==typeof e?(t={},_.each(e.match(P)||[],(function(e,n){t[n]=!0})),t):_.extend({},e);var n,o,r,i,s=[],a=[],l=-1,c=function(){for(i=i||e.once,r=n=!0;a.length;l=-1)for(o=a.shift();++l<s.length;)!1===s[l].apply(o[0],o[1])&&e.stopOnFalse&&(l=s.length,o=!1);e.memory||(o=!1),n=!1,i&&(s=o?[]:"")},d={add:function(){return s&&(o&&!n&&(l=s.length-1,a.push(o)),function t(n){_.each(n,(function(n,o){p(o)?e.unique&&d.has(o)||s.push(o):o&&o.length&&"string"!==y(o)&&t(o)}))}(arguments),o&&!n&&c()),this},remove:function(){return _.each(arguments,(function(e,t){for(var n;-1<(n=_.inArray(t,s,n));)s.splice(n,1),n<=l&&l--})),this},has:function(e){return e?-1<_.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return i=a=[],s=o="",this},disabled:function(){return!s},lock:function(){return i=a=[],o||n||(s=o=""),this},locked:function(){return!!i},fireWith:function(e,t){return i||(t=[e,(t=t||[]).slice?t.slice():t],a.push(t),n||c()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},_.extend({Deferred:function(t){var n=[["notify","progress",_.Callbacks("memory"),_.Callbacks("memory"),2],["resolve","done",_.Callbacks("once memory"),_.Callbacks("once memory"),0,"resolved"],["reject","fail",_.Callbacks("once memory"),_.Callbacks("once memory"),1,"rejected"]],o="pending",r={state:function(){return o},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return _.Deferred((function(t){_.each(n,(function(n,o){var r=p(e[o[4]])&&e[o[4]];i[o[1]]((function(){var e=r&&r.apply(this,arguments);e&&p(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[o[0]+"With"](this,r?[e]:arguments)}))})),e=null})).promise()},then:function(t,o,r){var i=0;function s(t,n,o,r){return function(){var a=this,l=arguments,c=function(){var e,c;if(!(t<i)){if((e=o.apply(a,l))===n.promise())throw new TypeError("Thenable self-resolution");p(c=e&&("object"==typeof e||"function"==typeof e)&&e.then)?r?c.call(e,s(i,n,I,r),s(i,n,M,r)):(i++,c.call(e,s(i,n,I,r),s(i,n,M,r),s(i,n,I,n.notifyWith))):(o!==I&&(a=void 0,l=[e]),(r||n.resolveWith)(a,l))}},d=r?c:function(){try{c()}catch(c){_.Deferred.exceptionHook&&_.Deferred.exceptionHook(c,d.stackTrace),i<=t+1&&(o!==M&&(a=void 0,l=[c]),n.rejectWith(a,l))}};t?d():(_.Deferred.getStackHook&&(d.stackTrace=_.Deferred.getStackHook()),e.setTimeout(d))}}return _.Deferred((function(e){n[0][3].add(s(0,e,p(r)?r:I,e.notifyWith)),n[1][3].add(s(0,e,p(t)?t:I)),n[2][3].add(s(0,e,p(o)?o:M))})).promise()},promise:function(e){return null!=e?_.extend(e,r):r}},i={};return _.each(n,(function(e,t){var s=t[2],a=t[5];r[t[1]]=s.add,a&&s.add((function(){o=a}),n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),s.add(t[3].fire),i[t[0]]=function(){return i[t[0]+"With"](this===i?void 0:this,arguments),this},i[t[0]+"With"]=s.fireWith})),r.promise(i),t&&t.call(i,i),i},when:function(e){var t=arguments.length,n=t,o=Array(n),i=r.call(arguments),s=_.Deferred(),a=function(e){return function(n){o[e]=this,i[e]=1<arguments.length?r.call(arguments):n,--t||s.resolveWith(o,i)}};if(t<=1&&(j(e,s.done(a(n)).resolve,s.reject,!t),"pending"===s.state()||p(i[n]&&i[n].then)))return s.then();for(;n--;)j(i[n],a(n),s.reject);return s.promise()}});var F=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;_.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&F.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},_.readyException=function(t){e.setTimeout((function(){throw t}))};var H=_.Deferred();function U(){g.removeEventListener("DOMContentLoaded",U),e.removeEventListener("load",U),_.ready()}_.fn.ready=function(e){return H.then(e).catch((function(e){_.readyException(e)})),this},_.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--_.readyWait:_.isReady)||(_.isReady=!0)!==e&&0<--_.readyWait||H.resolveWith(g,[_])}}),_.ready.then=H.then,"complete"===g.readyState||"loading"!==g.readyState&&!g.documentElement.doScroll?e.setTimeout(_.ready):(g.addEventListener("DOMContentLoaded",U),e.addEventListener("load",U));var q=function(e,t,n,o,r,i,s){var a=0,l=e.length,c=null==n;if("object"===y(n))for(a in r=!0,n)q(e,t,a,n[a],!0,i,s);else if(void 0!==o&&(r=!0,p(o)||(s=!0),c&&(s?(t.call(e,o),t=null):(c=t,t=function(e,t,n){return c.call(_(e),n)})),t))for(;a<l;a++)t(e[a],n,s?o:o.call(e[a],a,t(e[a],n)));return r?e:c?t.call(e):l?t(e[0],n):i},z=/^-ms-/,$=/-([a-z])/g;function W(e,t){return t.toUpperCase()}function V(e){return e.replace(z,"ms-").replace($,W)}var K=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function X(){this.expando=_.expando+X.uid++}X.uid=1,X.prototype={cache:function(e){var t=e[this.expando];return t||(t={},K(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var o,r=this.cache(e);if("string"==typeof t)r[V(t)]=n;else for(o in t)r[V(o)]=t[o];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][V(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,o=e[this.expando];if(void 0!==o){if(void 0!==t){n=(t=Array.isArray(t)?t.map(V):(t=V(t))in o?[t]:t.match(P)||[]).length;for(;n--;)delete o[t[n]]}(void 0===t||_.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!_.isEmptyObject(t)}};var Y=new X,G=new X,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function Z(e,t,n){var o,r;if(void 0===n&&1===e.nodeType)if(o="data-"+t.replace(J,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(o))){try{n="true"===(r=n)||"false"!==r&&("null"===r?null:r===+r+""?+r:Q.test(r)?JSON.parse(r):r)}catch(e){}G.set(e,t,n)}else n=void 0;return n}_.extend({hasData:function(e){return G.hasData(e)||Y.hasData(e)},data:function(e,t,n){return G.access(e,t,n)},removeData:function(e,t){G.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),_.fn.extend({data:function(e,t){var n,o,r,i=this[0],s=i&&i.attributes;if(void 0===e){if(this.length&&(r=G.get(i),1===i.nodeType&&!Y.get(i,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(o=s[n].name).indexOf("data-")&&(o=V(o.slice(5)),Z(i,o,r[o]));Y.set(i,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each((function(){G.set(this,e)})):q(this,(function(t){var n;if(i&&void 0===t)return void 0!==(n=G.get(i,e))||void 0!==(n=Z(i,e))?n:void 0;this.each((function(){G.set(this,e,t)}))}),null,t,1<arguments.length,null,!0)},removeData:function(e){return this.each((function(){G.remove(this,e)}))}}),_.extend({queue:function(e,t,n){var o;if(e)return o=Y.get(e,t=(t||"fx")+"queue"),n&&(!o||Array.isArray(n)?o=Y.access(e,t,_.makeArray(n)):o.push(n)),o||[]},dequeue:function(e,t){var n=_.queue(e,t=t||"fx"),o=n.length,r=n.shift(),i=_._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),o--),r&&("fx"===t&&n.unshift("inprogress"),delete i.stop,r.call(e,(function(){_.dequeue(e,t)}),i)),!o&&i&&i.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:_.Callbacks("once memory").add((function(){Y.remove(e,[t+"queue",n])}))})}}),_.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?_.queue(this[0],e):void 0===t?this:this.each((function(){var n=_.queue(this,e,t);_._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&_.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){_.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,o=1,r=_.Deferred(),i=this,s=this.length,a=function(){--o||r.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=Y.get(i[s],e+"queueHooks"))&&n.empty&&(o++,n.empty.add(a));return a(),r.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],oe=g.documentElement,re=function(e){return _.contains(e.ownerDocument,e)},ie={composed:!0};oe.getRootNode&&(re=function(e){return _.contains(e.ownerDocument,e)||e.getRootNode(ie)===e.ownerDocument});var se=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&re(e)&&"none"===_.css(e,"display")};function ae(e,t,n,o){var r,i,s=20,a=o?function(){return o.cur()}:function(){return _.css(e,t,"")},l=a(),c=n&&n[3]||(_.cssNumber[t]?"":"px"),d=e.nodeType&&(_.cssNumber[t]||"px"!==c&&+l)&&te.exec(_.css(e,t));if(d&&d[3]!==c){for(c=c||d[3],d=+(l/=2)||1;s--;)_.style(e,t,d+c),(1-i)*(1-(i=a()/l||.5))<=0&&(s=0),d/=i;_.style(e,t,(d*=2)+c),n=n||[]}return n&&(d=+d||+l||0,r=n[1]?d+(n[1]+1)*n[2]:+n[2],o&&(o.unit=c,o.start=d,o.end=r)),r}var le={};function ce(e,t){for(var n,o,r,i,s,a,l,c=[],d=0,u=e.length;d<u;d++)(o=e[d]).style&&(n=o.style.display,t?("none"===n&&(c[d]=Y.get(o,"display")||null,c[d]||(o.style.display="")),""===o.style.display&&se(o)&&(c[d]=(l=s=i=void 0,s=(r=o).ownerDocument,(l=le[a=r.nodeName])||(i=s.body.appendChild(s.createElement(a)),l=_.css(i,"display"),i.parentNode.removeChild(i),"none"===l&&(l="block"),le[a]=l)))):"none"!==n&&(c[d]="none",Y.set(o,"display",n)));for(d=0;d<u;d++)null!=c[d]&&(e[d].style.display=c[d]);return e}_.fn.extend({show:function(){return ce(this,!0)},hide:function(){return ce(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){se(this)?_(this).show():_(this).hide()}))}});var de,ue,fe=/^(?:checkbox|radio)$/i,me=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,pe=/^$|^module$|\/(?:java|ecma)script/i;de=g.createDocumentFragment().appendChild(g.createElement("div")),(ue=g.createElement("input")).setAttribute("type","radio"),ue.setAttribute("checked","checked"),ue.setAttribute("name","t"),de.appendChild(ue),m.checkClone=de.cloneNode(!0).cloneNode(!0).lastChild.checked,de.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!de.cloneNode(!0).lastChild.defaultValue,de.innerHTML="<option></option>",m.option=!!de.lastChild;var he={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ge(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&N(e,t)?_.merge([e],n):n}function ve(e,t){for(var n=0,o=e.length;n<o;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}he.tbody=he.tfoot=he.colgroup=he.caption=he.thead,he.th=he.td,m.option||(he.optgroup=he.option=[1,"<select multiple='multiple'>","</select>"]);var be=/<|&#?\w+;/;function ye(e,t,n,o,r){for(var i,s,a,l,c,d,u=t.createDocumentFragment(),f=[],m=0,p=e.length;m<p;m++)if((i=e[m])||0===i)if("object"===y(i))_.merge(f,i.nodeType?[i]:i);else if(be.test(i)){for(s=s||u.appendChild(t.createElement("div")),a=(me.exec(i)||["",""])[1].toLowerCase(),s.innerHTML=(l=he[a]||he._default)[1]+_.htmlPrefilter(i)+l[2],d=l[0];d--;)s=s.lastChild;_.merge(f,s.childNodes),(s=u.firstChild).textContent=""}else f.push(t.createTextNode(i));for(u.textContent="",m=0;i=f[m++];)if(o&&-1<_.inArray(i,o))r&&r.push(i);else if(c=re(i),s=ge(u.appendChild(i),"script"),c&&ve(s),n)for(d=0;i=s[d++];)pe.test(i.type||"")&&n.push(i);return u}var Ce=/^key/,_e=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,we=/^([^.]*)(?:\.(.+)|)/;function xe(){return!0}function Ee(){return!1}function Se(e,t){return e===function(){try{return g.activeElement}catch(e){}}()==("focus"===t)}function ke(e,t,n,o,r,i){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(o=o||n,n=void 0),t)ke(e,a,n,o,t[a],i);return e}if(null==o&&null==r?(r=n,o=n=void 0):null==r&&("string"==typeof n?(r=o,o=void 0):(r=o,o=n,n=void 0)),!1===r)r=Ee;else if(!r)return e;return 1===i&&(s=r,(r=function(e){return _().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=_.guid++)),e.each((function(){_.event.add(this,t,r,o,n)}))}function Ne(e,t,n){n?(Y.set(e,t,!1),_.event.add(e,t,{namespace:!1,handler:function(e){var o,i,s=Y.get(this,t);if(1&e.isTrigger&&this[t]){if(s.length)(_.event.special[t]||{}).delegateType&&e.stopPropagation();else if(s=r.call(arguments),Y.set(this,t,s),o=n(this,t),this[t](),s!==(i=Y.get(this,t))||o?Y.set(this,t,!1):i={},s!==i)return e.stopImmediatePropagation(),e.preventDefault(),i.value}else s.length&&(Y.set(this,t,{value:_.event.trigger(_.extend(s[0],_.Event.prototype),s.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,t)&&_.event.add(e,t,xe)}_.event={global:{},add:function(e,t,n,o,r){var i,s,a,l,c,d,u,f,m,p,h,g=Y.get(e);if(K(e))for(n.handler&&(n=(i=n).handler,r=i.selector),r&&_.find.matchesSelector(oe,r),n.guid||(n.guid=_.guid++),(l=g.events)||(l=g.events=Object.create(null)),(s=g.handle)||(s=g.handle=function(t){return void 0!==_&&_.event.triggered!==t.type?_.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(P)||[""]).length;c--;)m=h=(a=we.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),m&&(u=_.event.special[m]||{},u=_.event.special[m=(r?u.delegateType:u.bindType)||m]||{},d=_.extend({type:m,origType:h,data:o,handler:n,guid:n.guid,selector:r,needsContext:r&&_.expr.match.needsContext.test(r),namespace:p.join(".")},i),(f=l[m])||((f=l[m]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,o,p,s)||e.addEventListener&&e.addEventListener(m,s)),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,d):f.push(d),_.event.global[m]=!0)},remove:function(e,t,n,o,r){var i,s,a,l,c,d,u,f,m,p,h,g=Y.hasData(e)&&Y.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(P)||[""]).length;c--;)if(m=h=(a=we.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),m){for(u=_.event.special[m]||{},f=l[m=(o?u.delegateType:u.bindType)||m]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=i=f.length;i--;)d=f[i],!r&&h!==d.origType||n&&n.guid!==d.guid||a&&!a.test(d.namespace)||o&&o!==d.selector&&("**"!==o||!d.selector)||(f.splice(i,1),d.selector&&f.delegateCount--,u.remove&&u.remove.call(e,d));s&&!f.length&&(u.teardown&&!1!==u.teardown.call(e,p,g.handle)||_.removeEvent(e,m,g.handle),delete l[m])}else for(m in l)_.event.remove(e,m+t[c],n,o,!0);_.isEmptyObject(l)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,o,r,i,s,a=new Array(arguments.length),l=_.event.fix(e),c=(Y.get(this,"events")||Object.create(null))[l.type]||[],d=_.event.special[l.type]||{};for(a[0]=l,t=1;t<arguments.length;t++)a[t]=arguments[t];if(l.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,l)){for(s=_.event.handlers.call(this,l,c),t=0;(r=s[t++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,n=0;(i=r.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==i.namespace&&!l.rnamespace.test(i.namespace)||(l.handleObj=i,l.data=i.data,void 0!==(o=((_.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,a))&&!1===(l.result=o)&&(l.preventDefault(),l.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,o,r,i,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(i=[],s={},n=0;n<l;n++)void 0===s[r=(o=t[n]).selector+" "]&&(s[r]=o.needsContext?-1<_(r,this).index(c):_.find(r,this,null,[c]).length),s[r]&&i.push(o);i.length&&a.push({elem:c,handlers:i})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(_.Event.prototype,e,{enumerable:!0,configurable:!0,get:p(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[_.expando]?e:new _.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return fe.test(t.type)&&t.click&&N(t,"input")&&Ne(t,"click",xe),!1},trigger:function(e){var t=this||e;return fe.test(t.type)&&t.click&&N(t,"input")&&Ne(t,"click"),!0},_default:function(e){var t=e.target;return fe.test(t.type)&&t.click&&N(t,"input")&&Y.get(t,"click")||N(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},_.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},_.Event=function(e,t){if(!(this instanceof _.Event))return new _.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?xe:Ee,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&_.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[_.expando]=!0},_.Event.prototype={constructor:_.Event,isDefaultPrevented:Ee,isPropagationStopped:Ee,isImmediatePropagationStopped:Ee,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=xe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=xe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=xe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},_.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Ce.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&_e.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},_.event.addProp),_.each({focus:"focusin",blur:"focusout"},(function(e,t){_.event.special[e]={setup:function(){return Ne(this,e,Se),!1},trigger:function(){return Ne(this,e),!0},delegateType:t}})),_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){_.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,o=e.relatedTarget,r=e.handleObj;return o&&(o===this||_.contains(this,o))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}})),_.fn.extend({on:function(e,t,n,o){return ke(this,e,t,n,o)},one:function(e,t,n,o){return ke(this,e,t,n,o,1)},off:function(e,t,n){var o,r;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,_(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ee),this.each((function(){_.event.remove(this,e,n,t)}))}});var Te=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Oe(e,t){return N(e,"table")&&N(11!==t.nodeType?t:t.firstChild,"tr")&&_(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Be(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,o,r,i,s,a;if(1===t.nodeType){if(Y.hasData(e)&&(a=Y.get(e).events))for(r in Y.remove(t,"handle events"),a)for(n=0,o=a[r].length;n<o;n++)_.event.add(t,r,a[r][n]);G.hasData(e)&&(i=G.access(e),s=_.extend({},i),G.set(t,s))}}function Pe(e,t,n,o){t=i(t);var r,s,a,l,c,d,u=0,f=e.length,h=f-1,g=t[0],v=p(g);if(v||1<f&&"string"==typeof g&&!m.checkClone&&Ae.test(g))return e.each((function(r){var i=e.eq(r);v&&(t[0]=g.call(this,r,i.html())),Pe(i,t,n,o)}));if(f&&(s=(r=ye(t,e[0].ownerDocument,!1,e,o)).firstChild,1===r.childNodes.length&&(r=s),s||o)){for(l=(a=_.map(ge(r,"script"),De)).length;u<f;u++)c=r,u!==h&&(c=_.clone(c,!0,!0),l&&_.merge(a,ge(c,"script"))),n.call(e[u],c,u);if(l)for(d=a[a.length-1].ownerDocument,_.map(a,Be),u=0;u<l;u++)pe.test((c=a[u]).type||"")&&!Y.access(c,"globalEval")&&_.contains(d,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?_._evalUrl&&!c.noModule&&_._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},d):b(c.textContent.replace(Re,""),c,d))}return e}function Ie(e,t,n){for(var o,r=t?_.filter(t,e):e,i=0;null!=(o=r[i]);i++)n||1!==o.nodeType||_.cleanData(ge(o)),o.parentNode&&(n&&re(o)&&ve(ge(o,"script")),o.parentNode.removeChild(o));return e}_.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var o,r,i,s,a,l,c,d=e.cloneNode(!0),u=re(e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||_.isXMLDoc(e)))for(s=ge(d),o=0,r=(i=ge(e)).length;o<r;o++)a=i[o],"input"===(c=(l=s[o]).nodeName.toLowerCase())&&fe.test(a.type)?l.checked=a.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=a.defaultValue);if(t)if(n)for(i=i||ge(e),s=s||ge(d),o=0,r=i.length;o<r;o++)Le(i[o],s[o]);else Le(e,d);return 0<(s=ge(d,"script")).length&&ve(s,!u&&ge(e,"script")),d},cleanData:function(e){for(var t,n,o,r=_.event.special,i=0;void 0!==(n=e[i]);i++)if(K(n)){if(t=n[Y.expando]){if(t.events)for(o in t.events)r[o]?_.event.remove(n,o):_.removeEvent(n,o,t.handle);n[Y.expando]=void 0}n[G.expando]&&(n[G.expando]=void 0)}}}),_.fn.extend({detach:function(e){return Ie(this,e,!0)},remove:function(e){return Ie(this,e)},text:function(e){return q(this,(function(e){return void 0===e?_.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Pe(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Oe(this,e).appendChild(e)}))},prepend:function(){return Pe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Oe(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Pe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Pe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(_.cleanData(ge(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return _.clone(this,e,t)}))},html:function(e){return q(this,(function(e){var t=this[0]||{},n=0,o=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Te.test(e)&&!he[(me.exec(e)||["",""])[1].toLowerCase()]){e=_.htmlPrefilter(e);try{for(;n<o;n++)1===(t=this[n]||{}).nodeType&&(_.cleanData(ge(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Pe(this,arguments,(function(t){var n=this.parentNode;_.inArray(this,e)<0&&(_.cleanData(ge(this)),n&&n.replaceChild(t,this))}),e)}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){_.fn[e]=function(e){for(var n,o=[],r=_(e),i=r.length-1,a=0;a<=i;a++)n=a===i?this:this.clone(!0),_(r[a])[t](n),s.apply(o,n.get());return this.pushStack(o)}}));var Me=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),je=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Fe=function(e,t,n){var o,r,i={};for(r in t)i[r]=e.style[r],e.style[r]=t[r];for(r in o=n.call(e),t)e.style[r]=i[r];return o},He=new RegExp(ne.join("|"),"i");function Ue(e,t,n){var o,r,i,s,a=e.style;return(n=n||je(e))&&(""!==(s=n.getPropertyValue(t)||n[t])||re(e)||(s=_.style(e,t)),!m.pixelBoxStyles()&&Me.test(s)&&He.test(t)&&(o=a.width,r=a.minWidth,i=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=o,a.minWidth=r,a.maxWidth=i)),void 0!==s?s+"":s}function qe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(d){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",d.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",oe.appendChild(c).appendChild(d);var t=e.getComputedStyle(d);o="1%"!==t.top,l=12===n(t.marginLeft),d.style.right="60%",s=36===n(t.right),r=36===n(t.width),d.style.position="absolute",i=12===n(d.offsetWidth/3),oe.removeChild(c),d=null}}function n(e){return Math.round(parseFloat(e))}var o,r,i,s,a,l,c=g.createElement("div"),d=g.createElement("div");d.style&&(d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===d.style.backgroundClip,_.extend(m,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),o},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),i},reliableTrDimensions:function(){var t,n,o,r;return null==a&&(t=g.createElement("table"),n=g.createElement("tr"),o=g.createElement("div"),t.style.cssText="position:absolute;left:-11111px",n.style.height="1px",o.style.height="9px",oe.appendChild(t).appendChild(n).appendChild(o),r=e.getComputedStyle(n),a=3<parseInt(r.height),oe.removeChild(t)),a}}))}();var ze=["Webkit","Moz","ms"],$e=g.createElement("div").style,We={};function Ve(e){return _.cssProps[e]||We[e]||(e in $e?e:We[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=ze.length;n--;)if((e=ze[n]+t)in $e)return e}(e)||e)}var Ke=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ye={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"};function Qe(e,t,n){var o=te.exec(t);return o?Math.max(0,o[2]-(n||0))+(o[3]||"px"):t}function Je(e,t,n,o,r,i){var s="width"===t?1:0,a=0,l=0;if(n===(o?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=_.css(e,n+ne[s],!0,r)),o?("content"===n&&(l-=_.css(e,"padding"+ne[s],!0,r)),"margin"!==n&&(l-=_.css(e,"border"+ne[s]+"Width",!0,r))):(l+=_.css(e,"padding"+ne[s],!0,r),"padding"!==n?l+=_.css(e,"border"+ne[s]+"Width",!0,r):a+=_.css(e,"border"+ne[s]+"Width",!0,r));return!o&&0<=i&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-l-a-.5))||0),l}function Ze(e,t,n){var o=je(e),r=(!m.boxSizingReliable()||n)&&"border-box"===_.css(e,"boxSizing",!1,o),i=r,s=Ue(e,t,o),a="offset"+t[0].toUpperCase()+t.slice(1);if(Me.test(s)){if(!n)return s;s="auto"}return(!m.boxSizingReliable()&&r||!m.reliableTrDimensions()&&N(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===_.css(e,"display",!1,o))&&e.getClientRects().length&&(r="border-box"===_.css(e,"boxSizing",!1,o),(i=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+Je(e,t,n||(r?"border":"content"),i,o,s)+"px"}function et(e,t,n,o,r){return new et.prototype.init(e,t,n,o,r)}_.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ue(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,i,s,a=V(t),l=Xe.test(t),c=e.style;if(l||(t=Ve(a)),s=_.cssHooks[t]||_.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(e,!1,o))?r:c[t];"string"==(i=typeof n)&&(r=te.exec(n))&&r[1]&&(n=ae(e,t,r),i="number"),null!=n&&n==n&&("number"!==i||l||(n+=r&&r[3]||(_.cssNumber[a]?"":"px")),m.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,o))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,o){var r,i,s,a=V(t);return Xe.test(t)||(t=Ve(a)),(s=_.cssHooks[t]||_.cssHooks[a])&&"get"in s&&(r=s.get(e,!0,n)),void 0===r&&(r=Ue(e,t,o)),"normal"===r&&t in Ge&&(r=Ge[t]),""===n||n?(i=parseFloat(r),!0===n||isFinite(i)?i||0:r):r}}),_.each(["height","width"],(function(e,t){_.cssHooks[t]={get:function(e,n,o){if(n)return!Ke.test(_.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ze(e,t,o):Fe(e,Ye,(function(){return Ze(e,t,o)}))},set:function(e,n,o){var r,i=je(e),s=!m.scrollboxSize()&&"absolute"===i.position,a=(s||o)&&"border-box"===_.css(e,"boxSizing",!1,i),l=o?Je(e,t,o,a,i):0;return a&&s&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-Je(e,t,"border",!1,i)-.5)),l&&(r=te.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=_.css(e,t)),Qe(0,n,l)}}})),_.cssHooks.marginLeft=qe(m.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ue(e,"marginLeft"))||e.getBoundingClientRect().left-Fe(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),_.each({margin:"",padding:"",border:"Width"},(function(e,t){_.cssHooks[e+t]={expand:function(n){for(var o=0,r={},i="string"==typeof n?n.split(" "):[n];o<4;o++)r[e+ne[o]+t]=i[o]||i[o-2]||i[0];return r}},"margin"!==e&&(_.cssHooks[e+t].set=Qe)})),_.fn.extend({css:function(e,t){return q(this,(function(e,t,n){var o,r,i={},s=0;if(Array.isArray(t)){for(o=je(e),r=t.length;s<r;s++)i[t[s]]=_.css(e,t[s],!1,o);return i}return void 0!==n?_.style(e,t,n):_.css(e,t)}),e,t,1<arguments.length)}}),((_.Tween=et).prototype={constructor:et,init:function(e,t,n,o,r,i){this.elem=e,this.prop=n,this.easing=r||_.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=o,this.unit=i||(_.cssNumber[n]?"":"px")},cur:function(){var e=et.propHooks[this.prop];return e&&e.get?e.get(this):et.propHooks._default.get(this)},run:function(e){var t,n=et.propHooks[this.prop];return this.pos=t=this.options.duration?_.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):et.propHooks._default.set(this),this}}).init.prototype=et.prototype,(et.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=_.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){_.fx.step[e.prop]?_.fx.step[e.prop](e):1!==e.elem.nodeType||!_.cssHooks[e.prop]&&null==e.elem.style[Ve(e.prop)]?e.elem[e.prop]=e.now:_.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},_.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},_.fx=et.prototype.init,_.fx.step={};var tt,nt,ot,rt,it=/^(?:toggle|show|hide)$/,st=/queueHooks$/;function at(){nt&&(!1===g.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(at):e.setTimeout(at,_.fx.interval),_.fx.tick())}function lt(){return e.setTimeout((function(){tt=void 0})),tt=Date.now()}function ct(e,t){var n,o=0,r={height:e};for(t=t?1:0;o<4;o+=2-t)r["margin"+(n=ne[o])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function dt(e,t,n){for(var o,r=(ut.tweeners[t]||[]).concat(ut.tweeners["*"]),i=0,s=r.length;i<s;i++)if(o=r[i].call(n,t,e))return o}function ut(e,t,n){var o,r,i=0,s=ut.prefilters.length,a=_.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var t=tt||lt(),n=Math.max(0,c.startTime+c.duration-t),o=1-(n/c.duration||0),i=0,s=c.tweens.length;i<s;i++)c.tweens[i].run(o);return a.notifyWith(e,[c,o,n]),o<1&&s?n:(s||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:_.extend({},t),opts:_.extend(!0,{specialEasing:{},easing:_.easing._default},n),originalProperties:t,originalOptions:n,startTime:tt||lt(),duration:n.duration,tweens:[],createTween:function(t,n){var o=_.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(o),o},stop:function(t){var n=0,o=t?c.tweens.length:0;if(r)return this;for(r=!0;n<o;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),d=c.props;for(function(e,t){var n,o,r,i,s;for(n in e)if(r=t[o=V(n)],i=e[n],Array.isArray(i)&&(r=i[1],i=e[n]=i[0]),n!==o&&(e[o]=i,delete e[n]),(s=_.cssHooks[o])&&"expand"in s)for(n in i=s.expand(i),delete e[o],i)n in e||(e[n]=i[n],t[n]=r);else t[o]=r}(d,c.opts.specialEasing);i<s;i++)if(o=ut.prefilters[i].call(c,e,d,c.opts))return p(o.stop)&&(_._queueHooks(c.elem,c.opts.queue).stop=o.stop.bind(o)),o;return _.map(d,dt,c),p(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),_.fx.timer(_.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}_.Animation=_.extend(ut,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ae(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){p(e)?(t=e,e=["*"]):e=e.match(P);for(var n,o=0,r=e.length;o<r;o++)(ut.tweeners[n=e[o]]=ut.tweeners[n]||[]).unshift(t)},prefilters:[function(e,t,n){var o,r,i,s,a,l,c,d,u="width"in t||"height"in t,f=this,m={},p=e.style,h=e.nodeType&&se(e),g=Y.get(e,"fxshow");for(o in n.queue||(null==(s=_._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always((function(){f.always((function(){s.unqueued--,_.queue(e,"fx").length||s.empty.fire()}))}))),t)if(it.test(r=t[o])){if(delete t[o],i=i||"toggle"===r,r===(h?"hide":"show")){if("show"!==r||!g||void 0===g[o])continue;h=!0}m[o]=g&&g[o]||_.style(e,o)}if((l=!_.isEmptyObject(t))||!_.isEmptyObject(m))for(o in u&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=g&&g.display)&&(c=Y.get(e,"display")),"none"===(d=_.css(e,"display"))&&(c?d=c:(ce([e],!0),c=e.style.display||c,d=_.css(e,"display"),ce([e]))),("inline"===d||"inline-block"===d&&null!=c)&&"none"===_.css(e,"float")&&(l||(f.done((function(){p.display=c})),null==c&&(c="none"===(d=p.display)?"":d)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),l=!1,m)l||(g?"hidden"in g&&(h=g.hidden):g=Y.access(e,"fxshow",{display:c}),i&&(g.hidden=!h),h&&ce([e],!0),f.done((function(){for(o in h||ce([e]),Y.remove(e,"fxshow"),m)_.style(e,o,m[o])}))),l=dt(h?g[o]:0,o,f),o in g||(g[o]=l.start,h&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ut.prefilters.unshift(e):ut.prefilters.push(e)}}),_.speed=function(e,t,n){var o=e&&"object"==typeof e?_.extend({},e):{complete:n||!n&&t||p(e)&&e,duration:e,easing:n&&t||t&&!p(t)&&t};return _.fx.off?o.duration=0:"number"!=typeof o.duration&&(o.duration=o.duration in _.fx.speeds?_.fx.speeds[o.duration]:_.fx.speeds._default),null!=o.queue&&!0!==o.queue||(o.queue="fx"),o.old=o.complete,o.complete=function(){p(o.old)&&o.old.call(this),o.queue&&_.dequeue(this,o.queue)},o},_.fn.extend({fadeTo:function(e,t,n,o){return this.filter(se).css("opacity",0).show().end().animate({opacity:t},e,n,o)},animate:function(e,t,n,o){var r=_.isEmptyObject(e),i=_.speed(t,n,o),s=function(){var t=ut(this,_.extend({},e),i);(r||Y.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||!1===i.queue?this.each(s):this.queue(i.queue,s)},stop:function(e,t,n){var o=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,r=null!=e&&e+"queueHooks",i=_.timers,s=Y.get(this);if(r)s[r]&&s[r].stop&&o(s[r]);else for(r in s)s[r]&&s[r].stop&&st.test(r)&&o(s[r]);for(r=i.length;r--;)i[r].elem!==this||null!=e&&i[r].queue!==e||(i[r].anim.stop(n),t=!1,i.splice(r,1));!t&&n||_.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=Y.get(this),o=n[e+"queue"],r=n[e+"queueHooks"],i=_.timers,s=o?o.length:0;for(n.finish=!0,_.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<s;t++)o[t]&&o[t].finish&&o[t].finish.call(this);delete n.finish}))}}),_.each(["toggle","show","hide"],(function(e,t){var n=_.fn[t];_.fn[t]=function(e,o,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ct(t,!0),e,o,r)}})),_.each({slideDown:ct("show"),slideUp:ct("hide"),slideToggle:ct("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){_.fn[e]=function(e,n,o){return this.animate(t,e,n,o)}})),_.timers=[],_.fx.tick=function(){var e,t=0,n=_.timers;for(tt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||_.fx.stop(),tt=void 0},_.fx.timer=function(e){_.timers.push(e),_.fx.start()},_.fx.interval=13,_.fx.start=function(){nt||(nt=!0,at())},_.fx.stop=function(){nt=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(t,n){return t=_.fx&&_.fx.speeds[t]||t,this.queue(n=n||"fx",(function(n,o){var r=e.setTimeout(n,t);o.stop=function(){e.clearTimeout(r)}}))},ot=g.createElement("input"),rt=g.createElement("select").appendChild(g.createElement("option")),ot.type="checkbox",m.checkOn=""!==ot.value,m.optSelected=rt.selected,(ot=g.createElement("input")).value="t",ot.type="radio",m.radioValue="t"===ot.value;var ft,mt=_.expr.attrHandle;_.fn.extend({attr:function(e,t){return q(this,_.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each((function(){_.removeAttr(this,e)}))}}),_.extend({attr:function(e,t,n){var o,r,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?_.prop(e,t,n):(1===i&&_.isXMLDoc(e)||(r=_.attrHooks[t.toLowerCase()]||(_.expr.match.bool.test(t)?ft:void 0)),void 0!==n?null===n?void _.removeAttr(e,t):r&&"set"in r&&void 0!==(o=r.set(e,n,t))?o:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(o=r.get(e,t))?o:null==(o=_.find.attr(e,t))?void 0:o)},attrHooks:{type:{set:function(e,t){if(!m.radioValue&&"radio"===t&&N(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,o=0,r=t&&t.match(P);if(r&&1===e.nodeType)for(;n=r[o++];)e.removeAttribute(n)}}),ft={set:function(e,t,n){return!1===t?_.removeAttr(e,n):e.setAttribute(n,n),n}},_.each(_.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=mt[t]||_.find.attr;mt[t]=function(e,t,o){var r,i,s=t.toLowerCase();return o||(i=mt[s],mt[s]=r,r=null!=n(e,t,o)?s:null,mt[s]=i),r}}));var pt=/^(?:input|select|textarea|button)$/i,ht=/^(?:a|area)$/i;function gt(e){return(e.match(P)||[]).join(" ")}function vt(e){return e.getAttribute&&e.getAttribute("class")||""}function bt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}_.fn.extend({prop:function(e,t){return q(this,_.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each((function(){delete this[_.propFix[e]||e]}))}}),_.extend({prop:function(e,t,n){var o,r,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&_.isXMLDoc(e)||(r=_.propHooks[t=_.propFix[t]||t]),void 0!==n?r&&"set"in r&&void 0!==(o=r.set(e,n,t))?o:e[t]=n:r&&"get"in r&&null!==(o=r.get(e,t))?o:e[t]},propHooks:{tabIndex:{get:function(e){var t=_.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||ht.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(_.propHooks.selected={get:function(e){return null},set:function(e){}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){_.propFix[this.toLowerCase()]=this})),_.fn.extend({addClass:function(e){var t,n,o,r,i,s,a,l=0;if(p(e))return this.each((function(t){_(this).addClass(e.call(this,t,vt(this)))}));if((t=bt(e)).length)for(;n=this[l++];)if(r=vt(n),o=1===n.nodeType&&" "+gt(r)+" "){for(s=0;i=t[s++];)o.indexOf(" "+i+" ")<0&&(o+=i+" ");r!==(a=gt(o))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,o,r,i,s,a,l=0;if(p(e))return this.each((function(t){_(this).removeClass(e.call(this,t,vt(this)))}));if(!arguments.length)return this.attr("class","");if((t=bt(e)).length)for(;n=this[l++];)if(r=vt(n),o=1===n.nodeType&&" "+gt(r)+" "){for(s=0;i=t[s++];)for(;-1<o.indexOf(" "+i+" ");)o=o.replace(" "+i+" "," ");r!==(a=gt(o))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e,o="string"===n||Array.isArray(e);return"boolean"==typeof t&&o?t?this.addClass(e):this.removeClass(e):p(e)?this.each((function(n){_(this).toggleClass(e.call(this,n,vt(this),t),t)})):this.each((function(){var t,r,i,s;if(o)for(r=0,i=_(this),s=bt(e);t=s[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||((t=vt(this))&&Y.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Y.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,o=0;for(t=" "+e+" ";n=this[o++];)if(1===n.nodeType&&-1<(" "+gt(vt(n))+" ").indexOf(t))return!0;return!1}});var yt=/\r/g;_.fn.extend({val:function(e){var t,n,o,r=this[0];return arguments.length?(o=p(e),this.each((function(n){var r;1===this.nodeType&&(null==(r=o?e.call(this,n,_(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=_.map(r,(function(e){return null==e?"":e+""}))),(t=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))}))):r?(t=_.valHooks[r.type]||_.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(yt,""):null==n?"":n:void 0}}),_.extend({valHooks:{option:{get:function(e){var t=_.find.attr(e,"value");return null!=t?t:gt(_.text(e))}},select:{get:function(e){var t,n,o,r=e.options,i=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?i+1:r.length;for(o=i<0?l:s?i:0;o<l;o++)if(((n=r[o]).selected||o===i)&&!n.disabled&&(!n.parentNode.disabled||!N(n.parentNode,"optgroup"))){if(t=_(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,o,r=e.options,i=_.makeArray(t),s=r.length;s--;)((o=r[s]).selected=-1<_.inArray(_.valHooks.option.get(o),i))&&(n=!0);return n||(e.selectedIndex=-1),i}}}}),_.each(["radio","checkbox"],(function(){_.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<_.inArray(_(e).val(),t)}},m.checkOn||(_.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),m.focusin="onfocusin"in e;var Ct=/^(?:focusinfocus|focusoutblur)$/,_t=function(e){e.stopPropagation()};_.extend(_.event,{trigger:function(t,n,o,r){var i,s,a,l,c,u,f,m,v=[o||g],b=d.call(t,"type")?t.type:t,y=d.call(t,"namespace")?t.namespace.split("."):[];if(s=m=a=o=o||g,3!==o.nodeType&&8!==o.nodeType&&!Ct.test(b+_.event.triggered)&&(-1<b.indexOf(".")&&(b=(y=b.split(".")).shift(),y.sort()),c=b.indexOf(":")<0&&"on"+b,(t=t[_.expando]?t:new _.Event(b,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=y.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=o),n=null==n?[t]:_.makeArray(n,[t]),f=_.event.special[b]||{},r||!f.trigger||!1!==f.trigger.apply(o,n))){if(!r&&!f.noBubble&&!h(o)){for(Ct.test((l=f.delegateType||b)+b)||(s=s.parentNode);s;s=s.parentNode)v.push(s),a=s;a===(o.ownerDocument||g)&&v.push(a.defaultView||a.parentWindow||e)}for(i=0;(s=v[i++])&&!t.isPropagationStopped();)m=s,t.type=1<i?l:f.bindType||b,(u=(Y.get(s,"events")||Object.create(null))[t.type]&&Y.get(s,"handle"))&&u.apply(s,n),(u=c&&s[c])&&u.apply&&K(s)&&(t.result=u.apply(s,n),!1===t.result&&t.preventDefault());return t.type=b,r||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(v.pop(),n)||!K(o)||c&&p(o[b])&&!h(o)&&((a=o[c])&&(o[c]=null),_.event.triggered=b,t.isPropagationStopped()&&m.addEventListener(b,_t),o[b](),t.isPropagationStopped()&&m.removeEventListener(b,_t),_.event.triggered=void 0,a&&(o[c]=a)),t.result}},simulate:function(e,t,n){var o=_.extend(new _.Event,n,{type:e,isSimulated:!0});_.event.trigger(o,null,t)}}),_.fn.extend({trigger:function(e,t){return this.each((function(){_.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return _.event.trigger(e,t,n,!0)}}),m.focusin||_.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){_.event.simulate(t,e.target,_.event.fix(e))};_.event.special[t]={setup:function(){var o=this.ownerDocument||this.document||this,r=Y.access(o,t);r||o.addEventListener(e,n,!0),Y.access(o,t,(r||0)+1)},teardown:function(){var o=this.ownerDocument||this.document||this,r=Y.access(o,t)-1;r?Y.access(o,t,r):(o.removeEventListener(e,n,!0),Y.remove(o,t))}}}));var wt=e.location,xt={guid:Date.now()},Et=/\?/;_.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(t){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||_.error("Invalid XML: "+t),n};var St=/\[\]$/,kt=/\r?\n/g,Nt=/^(?:submit|button|image|reset|file)$/i,Tt=/^(?:input|select|textarea|keygen)/i;function At(e,t,n,o){var r;if(Array.isArray(t))_.each(t,(function(t,r){n||St.test(e)?o(e,r):At(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,o)}));else if(n||"object"!==y(t))o(e,t);else for(r in t)At(e+"["+r+"]",t[r],n,o)}_.param=function(e,t){var n,o=[],r=function(e,t){var n=p(t)?t():t;o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!_.isPlainObject(e))_.each(e,(function(){r(this.name,this.value)}));else for(n in e)At(n,e[n],t,r);return o.join("&")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=_.prop(this,"elements");return e?_.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!_(this).is(":disabled")&&Tt.test(this.nodeName)&&!Nt.test(e)&&(this.checked||!fe.test(e))})).map((function(e,t){var n=_(this).val();return null==n?null:Array.isArray(n)?_.map(n,(function(e){return{name:t.name,value:e.replace(kt,"\r\n")}})):{name:t.name,value:n.replace(kt,"\r\n")}})).get()}});var Rt=/%20/g,Ot=/#.*$/,Dt=/([?&])_=[^&]*/,Bt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Pt=/^\/\//,It={},Mt={},jt="*/".concat("*"),Ft=g.createElement("a");function Ht(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var o,r=0,i=t.toLowerCase().match(P)||[];if(p(n))for(;o=i[r++];)"+"===o[0]?(o=o.slice(1)||"*",(e[o]=e[o]||[]).unshift(n)):(e[o]=e[o]||[]).push(n)}}function Ut(e,t,n,o){var r={},i=e===Mt;function s(a){var l;return r[a]=!0,_.each(e[a]||[],(function(e,a){var c=a(t,n,o);return"string"!=typeof c||i||r[c]?i?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)})),l}return s(t.dataTypes[0])||!r["*"]&&s("*")}function qt(e,t){var n,o,r=_.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:o||(o={}))[n]=t[n]);return o&&_.extend(!0,e,o),e}Ft.href=wt.href,_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(wt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":jt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?qt(qt(e,_.ajaxSettings),t):qt(_.ajaxSettings,e)},ajaxPrefilter:Ht(It),ajaxTransport:Ht(Mt),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0);var o,r,i,s,a,l,c,d,u,f,m=_.ajaxSetup({},n=n||{}),p=m.context||m,h=m.context&&(p.nodeType||p.jquery)?_(p):_.event,v=_.Deferred(),b=_.Callbacks("once memory"),y=m.statusCode||{},C={},w={},x="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Bt.exec(i);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?i:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,C[e]=t),this},overrideMimeType:function(e){return null==c&&(m.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)E.always(e[E.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||x;return o&&o.abort(t),S(0,t),this}};if(v.promise(E),m.url=((t||m.url||wt.href)+"").replace(Pt,wt.protocol+"//"),m.type=n.method||n.type||m.method||m.type,m.dataTypes=(m.dataType||"*").toLowerCase().match(P)||[""],null==m.crossDomain){l=g.createElement("a");try{l.href=m.url,l.href=l.href,m.crossDomain=Ft.protocol+"//"+Ft.host!=l.protocol+"//"+l.host}catch(t){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=_.param(m.data,m.traditional)),Ut(It,m,n,E),c)return E;for(u in(d=_.event&&m.global)&&0==_.active++&&_.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Lt.test(m.type),r=m.url.replace(Ot,""),m.hasContent?m.data&&m.processData&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&(m.data=m.data.replace(Rt,"+")):(f=m.url.slice(r.length),m.data&&(m.processData||"string"==typeof m.data)&&(r+=(Et.test(r)?"&":"?")+m.data,delete m.data),!1===m.cache&&(r=r.replace(Dt,"$1"),f=(Et.test(r)?"&":"?")+"_="+xt.guid+++f),m.url=r+f),m.ifModified&&(_.lastModified[r]&&E.setRequestHeader("If-Modified-Since",_.lastModified[r]),_.etag[r]&&E.setRequestHeader("If-None-Match",_.etag[r])),(m.data&&m.hasContent&&!1!==m.contentType||n.contentType)&&E.setRequestHeader("Content-Type",m.contentType),E.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+jt+"; q=0.01":""):m.accepts["*"]),m.headers)E.setRequestHeader(u,m.headers[u]);if(m.beforeSend&&(!1===m.beforeSend.call(p,E,m)||c))return E.abort();if(x="abort",b.add(m.complete),E.done(m.success),E.fail(m.error),o=Ut(Mt,m,n,E)){if(E.readyState=1,d&&h.trigger("ajaxSend",[E,m]),c)return E;m.async&&0<m.timeout&&(a=e.setTimeout((function(){E.abort("timeout")}),m.timeout));try{c=!1,o.send(C,S)}catch(t){if(c)throw t;S(-1,t)}}else S(-1,"No Transport");function S(t,n,s,l){var u,f,g,C,w,x=n;c||(c=!0,a&&e.clearTimeout(a),o=void 0,i=l||"",E.readyState=0<t?4:0,u=200<=t&&t<300||304===t,s&&(C=function(e,t,n){for(var o,r,i,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(r in a)if(a[r]&&a[r].test(o)){l.unshift(r);break}if(l[0]in n)i=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){i=r;break}s||(s=r)}i=i||s}if(i)return i!==l[0]&&l.unshift(i),n[i]}(m,E,s)),!u&&-1<_.inArray("script",m.dataTypes)&&(m.converters["text script"]=function(){}),C=function(e,t,n,o){var r,i,s,a,l,c={},d=e.dataTypes.slice();if(d[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(i=d.shift();i;)if(e.responseFields[i]&&(n[e.responseFields[i]]=t),!l&&o&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=i,i=d.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(!(s=c[l+" "+i]||c["* "+i]))for(r in c)if((a=r.split(" "))[1]===i&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[r]:!0!==c[r]&&(i=a[0],d.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+i}}}return{state:"success",data:t}}(m,C,E,u),u?(m.ifModified&&((w=E.getResponseHeader("Last-Modified"))&&(_.lastModified[r]=w),(w=E.getResponseHeader("etag"))&&(_.etag[r]=w)),204===t||"HEAD"===m.type?x="nocontent":304===t?x="notmodified":(x=C.state,f=C.data,u=!(g=C.error))):(g=x,!t&&x||(x="error",t<0&&(t=0))),E.status=t,E.statusText=(n||x)+"",u?v.resolveWith(p,[f,x,E]):v.rejectWith(p,[E,x,g]),E.statusCode(y),y=void 0,d&&h.trigger(u?"ajaxSuccess":"ajaxError",[E,m,u?f:g]),b.fireWith(p,[E,x]),d&&(h.trigger("ajaxComplete",[E,m]),--_.active||_.event.trigger("ajaxStop")))}return E},getJSON:function(e,t,n){return _.get(e,t,n,"json")},getScript:function(e,t){return _.get(e,void 0,t,"script")}}),_.each(["get","post"],(function(e,t){_[t]=function(e,n,o,r){return p(n)&&(r=r||o,o=n,n=void 0),_.ajax(_.extend({url:e,type:t,dataType:r,data:n,success:o},_.isPlainObject(e)&&e))}})),_.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),_._evalUrl=function(e,t,n){return _.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){_.globalEval(e,t,n)}})},_.fn.extend({wrapAll:function(e){var t;return this[0]&&(p(e)&&(e=e.call(this[0])),t=_(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return p(e)?this.each((function(t){_(this).wrapInner(e.call(this,t))})):this.each((function(){var t=_(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=p(e);return this.each((function(n){_(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){_(this).replaceWith(this.childNodes)})),this}}),_.expr.pseudos.hidden=function(e){return!_.expr.pseudos.visible(e)},_.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},_.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var zt={0:200,1223:204},$t=_.ajaxSettings.xhr();m.cors=!!$t&&"withCredentials"in $t,m.ajax=$t=!!$t,_.ajaxTransport((function(t){var n,o;if(m.cors||$t&&!t.crossDomain)return{send:function(r,i){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);n=function(e){return function(){n&&(n=o=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?i(0,"error"):i(a.status,a.statusText):i(zt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),o=a.onerror=a.ontimeout=n("error"),void 0!==a.onabort?a.onabort=o:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout((function(){n&&o()}))},n=n("abort");try{a.send(t.hasContent&&t.data||null)}catch(r){if(n)throw r}},abort:function(){n&&n()}}})),_.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return _.globalEval(e),e}}}),_.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),_.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(o,r){t=_("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),g.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Wt,Vt=[],Kt=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vt.pop()||_.expando+"_"+xt.guid++;return this[e]=!0,e}}),_.ajaxPrefilter("json jsonp",(function(t,n,o){var r,i,s,a=!1!==t.jsonp&&(Kt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kt.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=p(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Kt,"$1"+r):!1!==t.jsonp&&(t.url+=(Et.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||_.error(r+" was not called"),s[0]},t.dataTypes[0]="json",i=e[r],e[r]=function(){s=arguments},o.always((function(){void 0===i?_(e).removeProp(r):e[r]=i,t[r]&&(t.jsonpCallback=n.jsonpCallback,Vt.push(r)),s&&p(i)&&i(s[0]),s=i=void 0})),"script"})),m.createHTMLDocument=((Wt=g.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Wt.childNodes.length),_.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(m.createHTMLDocument?((o=(t=g.implementation.createHTMLDocument("")).createElement("base")).href=g.location.href,t.head.appendChild(o)):t=g),i=!n&&[],(r=T.exec(e))?[t.createElement(r[1])]:(r=ye([e],t,i),i&&i.length&&_(i).remove(),_.merge([],r.childNodes)));var o,r,i},_.fn.load=function(e,t,n){var o,r,i,s=this,a=e.indexOf(" ");return-1<a&&(o=gt(e.slice(a)),e=e.slice(0,a)),p(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),0<s.length&&_.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done((function(e){i=arguments,s.html(o?_("<div>").append(_.parseHTML(e)).find(o):e)})).always(n&&function(e,t){s.each((function(){n.apply(this,i||[e.responseText,t,e])}))}),this},_.expr.pseudos.animated=function(e){return _.grep(_.timers,(function(t){return e===t.elem})).length},_.offset={setOffset:function(e,t,n){var o,r,i,s,a,l,c=_.css(e,"position"),d=_(e),u={};"static"===c&&(e.style.position="relative"),a=d.offset(),i=_.css(e,"top"),l=_.css(e,"left"),("absolute"===c||"fixed"===c)&&-1<(i+l).indexOf("auto")?(s=(o=d.position()).top,r=o.left):(s=parseFloat(i)||0,r=parseFloat(l)||0),p(t)&&(t=t.call(e,n,_.extend({},a))),null!=t.top&&(u.top=t.top-a.top+s),null!=t.left&&(u.left=t.left-a.left+r),"using"in t?t.using.call(e,u):("number"==typeof u.top&&(u.top+="px"),"number"==typeof u.left&&(u.left+="px"),d.css(u))}},_.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){_.offset.setOffset(this,e,t)}));var t,n,o=this[0];return o?o.getClientRects().length?{top:(t=o.getBoundingClientRect()).top+(n=o.ownerDocument.defaultView).pageYOffset,left:t.left+n.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,o=this[0],r={top:0,left:0};if("fixed"===_.css(o,"position"))t=o.getBoundingClientRect();else{for(t=this.offset(),n=o.ownerDocument,e=o.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===_.css(e,"position");)e=e.parentNode;e&&e!==o&&1===e.nodeType&&((r=_(e).offset()).top+=_.css(e,"borderTopWidth",!0),r.left+=_.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-_.css(o,"marginTop",!0),left:t.left-r.left-_.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===_.css(e,"position");)e=e.offsetParent;return e||oe}))}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;_.fn[e]=function(o){return q(this,(function(e,o,r){var i;if(h(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===r)return i?i[t]:e[o];i?i.scrollTo(n?i.pageXOffset:r,n?r:i.pageYOffset):e[o]=r}),e,o,arguments.length)}})),_.each(["top","left"],(function(e,t){_.cssHooks[t]=qe(m.pixelPosition,(function(e,n){if(n)return n=Ue(e,t),Me.test(n)?_(e).position()[t]+"px":n}))})),_.each({Height:"height",Width:"width"},(function(e,t){_.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,o){_.fn[o]=function(r,i){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return q(this,(function(t,n,r){var i;return h(t)?0===o.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?_.css(t,n,a):_.style(t,n,r,a)}),t,s?r:void 0,s)}}))})),_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){_.fn[t]=function(e){return this.on(t,e)}})),_.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,o){return this.on(t,e,n,o)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),_.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){_.fn[t]=function(e,n){return 0<arguments.length?this.on(t,null,e,n):this.trigger(t)}}));var Xt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;_.proxy=function(e,t){var n,o,i;if("string"==typeof t&&(n=e[t],t=e,e=n),p(e))return o=r.call(arguments,2),(i=function(){return e.apply(t||this,o.concat(r.call(arguments)))}).guid=e.guid=e.guid||_.guid++,i},_.holdReady=function(e){e?_.readyWait++:_.ready(!0)},_.isArray=Array.isArray,_.parseJSON=JSON.parse,_.nodeName=N,_.isFunction=p,_.isWindow=h,_.camelCase=V,_.type=y,_.now=Date.now,_.isNumeric=function(e){var t=_.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},_.trim=function(e){return null==e?"":(e+"").replace(Xt,"")},"function"==typeof define&&define.amd&&define("jquery",[],(function(){return _}));var Yt=e.jQuery,Gt=e.$;return _.noConflict=function(t){return e.$===_&&(e.$=Gt),t&&e.jQuery===_&&(e.jQuery=Yt),_},void 0===t&&(e.jQuery=e.$=_),_})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["exports","jquery","popper.js"],t):t((e=e||self).bootstrap={},e.jQuery,e.Popper)}(this,(function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var l={TRANSITION_END:"bsTransitionEnd",getUID:function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},getSelectorFromElement:function(e){var t=e.getAttribute("data-target");if(!t||"#"===t){var n=e.getAttribute("href");t=n&&"#"!==n?n.trim():""}try{return document.querySelector(t)?t:null}catch(e){return null}},getTransitionDurationFromElement:function(e){if(!e)return 0;var n=t(e).css("transition-duration"),o=t(e).css("transition-delay"),r=parseFloat(n),i=parseFloat(o);return r||i?(n=n.split(",")[0],o=o.split(",")[0],1e3*(parseFloat(n)+parseFloat(o))):0},reflow:function(e){return e.offsetHeight},triggerTransitionEnd:function(e){t(e).trigger("transitionend")},supportsTransitionEnd:function(){return Boolean("transitionend")},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,t,n){for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)){var r=n[o],i=t[o],s=i&&l.isElement(i)?"element":null===(a=i)||void 0===a?""+a:{}.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(r).test(s))throw new Error(e.toUpperCase()+': Option "'+o+'" provided type "'+s+'" but expected type "'+r+'".')}var a},findShadowRoot:function(e){if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){var t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?l.findShadowRoot(e.parentNode):null},jQueryDetection:function(){if(void 0===t)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1===e[0]&&9===e[1]&&e[2]<1||e[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};l.jQueryDetection(),t.fn.emulateTransitionEnd=function(e){var n=this,o=!1;return t(this).one(l.TRANSITION_END,(function(){o=!0})),setTimeout((function(){o||l.triggerTransitionEnd(n)}),e),this},t.event.special[l.TRANSITION_END]={bindType:"transitionend",delegateType:"transitionend",handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}};var c="alert",d=t.fn[c],u=function(){function e(e){this._element=e}var n=e.prototype;return n.close=function(e){var t=this._element;e&&(t=this._getRootElement(e)),this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)},n.dispose=function(){t.removeData(this._element,"bs.alert"),this._element=null},n._getRootElement=function(e){var n=l.getSelectorFromElement(e),o=!1;return n&&(o=document.querySelector(n)),o||(o=t(e).closest(".alert")[0]),o},n._triggerCloseEvent=function(e){var n=t.Event("close.bs.alert");return t(e).trigger(n),n},n._removeElement=function(e){var n=this;if(t(e).removeClass("show"),t(e).hasClass("fade")){var o=l.getTransitionDurationFromElement(e);t(e).one(l.TRANSITION_END,(function(t){return n._destroyElement(e,t)})).emulateTransitionEnd(o)}else this._destroyElement(e)},n._destroyElement=function(e){t(e).detach().trigger("closed.bs.alert").remove()},e._jQueryInterface=function(n){return this.each((function(){var o=t(this),r=o.data("bs.alert");r||(r=new e(this),o.data("bs.alert",r)),"close"===n&&r[n](this)}))},e._handleDismiss=function(e){return function(t){t&&t.preventDefault(),e.close(this)}},r(e,null,[{key:"VERSION",get:function(){return"4.5.0"}}]),e}();t(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',u._handleDismiss(new u)),t.fn[c]=u._jQueryInterface,t.fn[c].Constructor=u,t.fn[c].noConflict=function(){return t.fn[c]=d,u._jQueryInterface};var f=t.fn.button,m=function(){function e(e){this._element=e}var n=e.prototype;return n.toggle=function(){var e=!0,n=!0,o=t(this._element).closest('[data-toggle="buttons"]')[0];if(o){var r=this._element.querySelector('input:not([type="hidden"])');if(r){if("radio"===r.type)if(r.checked&&this._element.classList.contains("active"))e=!1;else{var i=o.querySelector(".active");i&&t(i).removeClass("active")}e&&("checkbox"!==r.type&&"radio"!==r.type||(r.checked=!this._element.classList.contains("active")),t(r).trigger("change")),r.focus(),n=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(n&&this._element.setAttribute("aria-pressed",!this._element.classList.contains("active")),e&&t(this._element).toggleClass("active"))},n.dispose=function(){t.removeData(this._element,"bs.button"),this._element=null},e._jQueryInterface=function(n){return this.each((function(){var o=t(this).data("bs.button");o||(o=new e(this),t(this).data("bs.button",o)),"toggle"===n&&o[n]()}))},r(e,null,[{key:"VERSION",get:function(){return"4.5.0"}}]),e}();t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',(function(e){var n=e.target,o=n;if(t(n).hasClass("btn")||(n=t(n).closest(".btn")[0]),!n||n.hasAttribute("disabled")||n.classList.contains("disabled"))e.preventDefault();else{var r=n.querySelector('input:not([type="hidden"])');if(r&&(r.hasAttribute("disabled")||r.classList.contains("disabled")))return void e.preventDefault();"LABEL"===o.tagName&&r&&"checkbox"===r.type&&e.preventDefault(),m._jQueryInterface.call(t(n),"toggle")}})).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',(function(e){var n=t(e.target).closest(".btn")[0];t(n).toggleClass("focus",/^focus(in)?$/.test(e.type))})),t(window).on("load.bs.button.data-api",(function(){for(var e=[].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')),t=0,n=e.length;t<n;t++){var o=e[t],r=o.querySelector('input:not([type="hidden"])');r.checked||r.hasAttribute("checked")?o.classList.add("active"):o.classList.remove("active")}for(var i=0,s=(e=[].slice.call(document.querySelectorAll('[data-toggle="button"]'))).length;i<s;i++){var a=e[i];"true"===a.getAttribute("aria-pressed")?a.classList.add("active"):a.classList.remove("active")}})),t.fn.button=m._jQueryInterface,t.fn.button.Constructor=m,t.fn.button.noConflict=function(){return t.fn.button=f,m._jQueryInterface};var p="carousel",h=t.fn[p],g={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},v={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},b={TOUCH:"touch",PEN:"pen"},y=function(){function e(e,t){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(t),this._element=e,this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var n=e.prototype;return n.next=function(){this._isSliding||this._slide("next")},n.nextWhenVisible=function(){!document.hidden&&t(this._element).is(":visible")&&"hidden"!==t(this._element).css("visibility")&&this.next()},n.prev=function(){this._isSliding||this._slide("prev")},n.pause=function(e){e||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(l.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},n.cycle=function(e){e||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},n.to=function(e){var n=this;this._activeElement=this._element.querySelector(".active.carousel-item");var o=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)t(this._element).one("slid.bs.carousel",(function(){return n.to(e)}));else{if(o===e)return this.pause(),void this.cycle();this._slide(e>o?"next":"prev",this._items[e])}},n.dispose=function(){t(this._element).off(".bs.carousel"),t.removeData(this._element,"bs.carousel"),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},n._getConfig=function(e){return e=a(a({},g),e),l.typeCheckConfig(p,e,v),e},n._handleSwipe=function(){var e=Math.abs(this.touchDeltaX);if(!(e<=40)){var t=e/this.touchDeltaX;this.touchDeltaX=0,t>0&&this.prev(),t<0&&this.next()}},n._addEventListeners=function(){var e=this;this._config.keyboard&&t(this._element).on("keydown.bs.carousel",(function(t){return e._keydown(t)})),"hover"===this._config.pause&&t(this._element).on("mouseenter.bs.carousel",(function(t){return e.pause(t)})).on("mouseleave.bs.carousel",(function(t){return e.cycle(t)})),this._config.touch&&this._addTouchEventListeners()},n._addTouchEventListeners=function(){var e=this;if(this._touchSupported){var n=function(t){e._pointerEvent&&b[t.originalEvent.pointerType.toUpperCase()]?e.touchStartX=t.originalEvent.clientX:e._pointerEvent||(e.touchStartX=t.originalEvent.touches[0].clientX)},o=function(t){e._pointerEvent&&b[t.originalEvent.pointerType.toUpperCase()]&&(e.touchDeltaX=t.originalEvent.clientX-e.touchStartX),e._handleSwipe(),"hover"===e._config.pause&&(e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout((function(t){return e.cycle(t)}),500+e._config.interval))};t(this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel",(function(e){return e.preventDefault()})),this._pointerEvent?(t(this._element).on("pointerdown.bs.carousel",(function(e){return n(e)})),t(this._element).on("pointerup.bs.carousel",(function(e){return o(e)})),this._element.classList.add("pointer-event")):(t(this._element).on("touchstart.bs.carousel",(function(e){return n(e)})),t(this._element).on("touchmove.bs.carousel",(function(t){return function(t){e.touchDeltaX=t.originalEvent.touches&&t.originalEvent.touches.length>1?0:t.originalEvent.touches[0].clientX-e.touchStartX}(t)})),t(this._element).on("touchend.bs.carousel",(function(e){return o(e)})))}},n._keydown=function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),this.prev();break;case 39:e.preventDefault(),this.next()}},n._getItemIndex=function(e){return this._items=e&&e.parentNode?[].slice.call(e.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(e)},n._getItemByDirection=function(e,t){var n="next"===e,o="prev"===e,r=this._getItemIndex(t);if((o&&0===r||n&&r===this._items.length-1)&&!this._config.wrap)return t;var i=(r+("prev"===e?-1:1))%this._items.length;return-1===i?this._items[this._items.length-1]:this._items[i]},n._triggerSlideEvent=function(e,n){var o=this._getItemIndex(e),r=this._getItemIndex(this._element.querySelector(".active.carousel-item")),i=t.Event("slide.bs.carousel",{relatedTarget:e,direction:n,from:r,to:o});return t(this._element).trigger(i),i},n._setActiveIndicatorElement=function(e){if(this._indicatorsElement){var n=[].slice.call(this._indicatorsElement.querySelectorAll(".active"));t(n).removeClass("active");var o=this._indicatorsElement.children[this._getItemIndex(e)];o&&t(o).addClass("active")}},n._slide=function(e,n){var o,r,i,s=this,a=this._element.querySelector(".active.carousel-item"),c=this._getItemIndex(a),d=n||a&&this._getItemByDirection(e,a),u=this._getItemIndex(d),f=Boolean(this._interval);if("next"===e?(o="carousel-item-left",r="carousel-item-next",i="left"):(o="carousel-item-right",r="carousel-item-prev",i="right"),d&&t(d).hasClass("active"))this._isSliding=!1;else if(!this._triggerSlideEvent(d,i).isDefaultPrevented()&&a&&d){this._isSliding=!0,f&&this.pause(),this._setActiveIndicatorElement(d);var m=t.Event("slid.bs.carousel",{relatedTarget:d,direction:i,from:c,to:u});if(t(this._element).hasClass("slide")){t(d).addClass(r),l.reflow(d),t(a).addClass(o),t(d).addClass(o);var p=parseInt(d.getAttribute("data-interval"),10);p?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=p):this._config.interval=this._config.defaultInterval||this._config.interval;var h=l.getTransitionDurationFromElement(a);t(a).one(l.TRANSITION_END,(function(){t(d).removeClass(o+" "+r).addClass("active"),t(a).removeClass("active "+r+" "+o),s._isSliding=!1,setTimeout((function(){return t(s._element).trigger(m)}),0)})).emulateTransitionEnd(h)}else t(a).removeClass("active"),t(d).addClass("active"),this._isSliding=!1,t(this._element).trigger(m);f&&this.cycle()}},e._jQueryInterface=function(n){return this.each((function(){var o=t(this).data("bs.carousel"),r=a(a({},g),t(this).data());"object"==typeof n&&(r=a(a({},r),n));var i="string"==typeof n?n:r.slide;if(o||(o=new e(this,r),t(this).data("bs.carousel",o)),"number"==typeof n)o.to(n);else if("string"==typeof i){if(void 0===o[i])throw new TypeError('No method named "'+i+'"');o[i]()}else r.interval&&r.ride&&(o.pause(),o.cycle())}))},e._dataApiClickHandler=function(n){var o=l.getSelectorFromElement(this);if(o){var r=t(o)[0];if(r&&t(r).hasClass("carousel")){var i=a(a({},t(r).data()),t(this).data()),s=this.getAttribute("data-slide-to");s&&(i.interval=!1),e._jQueryInterface.call(t(r),i),s&&t(r).data("bs.carousel").to(s),n.preventDefault()}}},r(e,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return g}}]),e}();t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",y._dataApiClickHandler),t(window).on("load.bs.carousel.data-api",(function(){for(var e=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),n=0,o=e.length;n<o;n++){var r=t(e[n]);y._jQueryInterface.call(r,r.data())}})),t.fn[p]=y._jQueryInterface,t.fn[p].Constructor=y,t.fn[p].noConflict=function(){return t.fn[p]=h,y._jQueryInterface};var C="collapse",_=t.fn[C],w={toggle:!0,parent:""},x={toggle:"boolean",parent:"(string|element)"},E=function(){function e(e,t){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(t),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var n=[].slice.call(document.querySelectorAll('[data-toggle="collapse"]')),o=0,r=n.length;o<r;o++){var i=n[o],s=l.getSelectorFromElement(i),a=[].slice.call(document.querySelectorAll(s)).filter((function(t){return t===e}));null!==s&&a.length>0&&(this._selector=s,this._triggerArray.push(i))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var n=e.prototype;return n.toggle=function(){t(this._element).hasClass("show")?this.hide():this.show()},n.show=function(){var n,o,r=this;if(!(this._isTransitioning||t(this._element).hasClass("show")||(this._parent&&0===(n=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter((function(e){return"string"==typeof r._config.parent?e.getAttribute("data-parent")===r._config.parent:e.classList.contains("collapse")}))).length&&(n=null),n&&(o=t(n).not(this._selector).data("bs.collapse"))&&o._isTransitioning))){var i=t.Event("show.bs.collapse");if(t(this._element).trigger(i),!i.isDefaultPrevented()){n&&(e._jQueryInterface.call(t(n).not(this._selector),"hide"),o||t(n).data("bs.collapse",null));var s=this._getDimension();t(this._element).removeClass("collapse").addClass("collapsing"),this._element.style[s]=0,this._triggerArray.length&&t(this._triggerArray).removeClass("collapsed").attr("aria-expanded",!0),this.setTransitioning(!0);var a="scroll"+(s[0].toUpperCase()+s.slice(1)),c=l.getTransitionDurationFromElement(this._element);t(this._element).one(l.TRANSITION_END,(function(){t(r._element).removeClass("collapsing").addClass("collapse show"),r._element.style[s]="",r.setTransitioning(!1),t(r._element).trigger("shown.bs.collapse")})).emulateTransitionEnd(c),this._element.style[s]=this._element[a]+"px"}}},n.hide=function(){var e=this;if(!this._isTransitioning&&t(this._element).hasClass("show")){var n=t.Event("hide.bs.collapse");if(t(this._element).trigger(n),!n.isDefaultPrevented()){var o=this._getDimension();this._element.style[o]=this._element.getBoundingClientRect()[o]+"px",l.reflow(this._element),t(this._element).addClass("collapsing").removeClass("collapse show");var r=this._triggerArray.length;if(r>0)for(var i=0;i<r;i++){var s=this._triggerArray[i],a=l.getSelectorFromElement(s);null!==a&&(t([].slice.call(document.querySelectorAll(a))).hasClass("show")||t(s).addClass("collapsed").attr("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[o]="";var c=l.getTransitionDurationFromElement(this._element);t(this._element).one(l.TRANSITION_END,(function(){e.setTransitioning(!1),t(e._element).removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")})).emulateTransitionEnd(c)}}},n.setTransitioning=function(e){this._isTransitioning=e},n.dispose=function(){t.removeData(this._element,"bs.collapse"),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},n._getConfig=function(e){return(e=a(a({},w),e)).toggle=Boolean(e.toggle),l.typeCheckConfig(C,e,x),e},n._getDimension=function(){return t(this._element).hasClass("width")?"width":"height"},n._getParent=function(){var n,o=this;l.isElement(this._config.parent)?(n=this._config.parent,void 0!==this._config.parent.jquery&&(n=this._config.parent[0])):n=document.querySelector(this._config.parent);var r=[].slice.call(n.querySelectorAll('[data-toggle="collapse"][data-parent="'+this._config.parent+'"]'));return t(r).each((function(t,n){o._addAriaAndCollapsedClass(e._getTargetFromElement(n),[n])})),n},n._addAriaAndCollapsedClass=function(e,n){var o=t(e).hasClass("show");n.length&&t(n).toggleClass("collapsed",!o).attr("aria-expanded",o)},e._getTargetFromElement=function(e){var t=l.getSelectorFromElement(e);return t?document.querySelector(t):null},e._jQueryInterface=function(n){return this.each((function(){var o=t(this),r=o.data("bs.collapse"),i=a(a(a({},w),o.data()),"object"==typeof n&&n?n:{});if(!r&&i.toggle&&"string"==typeof n&&/show|hide/.test(n)&&(i.toggle=!1),r||(r=new e(this,i),o.data("bs.collapse",r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n]()}}))},r(e,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return w}}]),e}();t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',(function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var n=t(this),o=l.getSelectorFromElement(this),r=[].slice.call(document.querySelectorAll(o));t(r).each((function(){var e=t(this),o=e.data("bs.collapse")?"toggle":n.data();E._jQueryInterface.call(e,o)}))})),t.fn[C]=E._jQueryInterface,t.fn[C].Constructor=E,t.fn[C].noConflict=function(){return t.fn[C]=_,E._jQueryInterface};var S="dropdown",k=t.fn[S],N=new RegExp("38|40|27"),T={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},A={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},R=function(){function e(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var o=e.prototype;return o.toggle=function(){if(!this._element.disabled&&!t(this._element).hasClass("disabled")){var n=t(this._menu).hasClass("show");e._clearMenus(),n||this.show(!0)}},o.show=function(o){if(void 0===o&&(o=!1),!(this._element.disabled||t(this._element).hasClass("disabled")||t(this._menu).hasClass("show"))){var r={relatedTarget:this._element},i=t.Event("show.bs.dropdown",r),s=e._getParentFromElement(this._element);if(t(s).trigger(i),!i.isDefaultPrevented()){if(!this._inNavbar&&o){if(void 0===n)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var a=this._element;"parent"===this._config.reference?a=s:l.isElement(this._config.reference)&&(a=this._config.reference,void 0!==this._config.reference.jquery&&(a=this._config.reference[0])),"scrollParent"!==this._config.boundary&&t(s).addClass("position-static"),this._popper=new n(a,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===t(s).closest(".navbar-nav").length&&t(document.body).children().on("mouseover",null,t.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),t(this._menu).toggleClass("show"),t(s).toggleClass("show").trigger(t.Event("shown.bs.dropdown",r))}}},o.hide=function(){if(!this._element.disabled&&!t(this._element).hasClass("disabled")&&t(this._menu).hasClass("show")){var n={relatedTarget:this._element},o=t.Event("hide.bs.dropdown",n),r=e._getParentFromElement(this._element);t(r).trigger(o),o.isDefaultPrevented()||(this._popper&&this._popper.destroy(),t(this._menu).toggleClass("show"),t(r).toggleClass("show").trigger(t.Event("hidden.bs.dropdown",n)))}},o.dispose=function(){t.removeData(this._element,"bs.dropdown"),t(this._element).off(".bs.dropdown"),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},o.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},o._addEventListeners=function(){var e=this;t(this._element).on("click.bs.dropdown",(function(t){t.preventDefault(),t.stopPropagation(),e.toggle()}))},o._getConfig=function(e){return e=a(a(a({},this.constructor.Default),t(this._element).data()),e),l.typeCheckConfig(S,e,this.constructor.DefaultType),e},o._getMenuElement=function(){if(!this._menu){var t=e._getParentFromElement(this._element);t&&(this._menu=t.querySelector(".dropdown-menu"))}return this._menu},o._getPlacement=function(){var e=t(this._element.parentNode),n="bottom-start";return e.hasClass("dropup")?n=t(this._menu).hasClass("dropdown-menu-right")?"top-end":"top-start":e.hasClass("dropright")?n="right-start":e.hasClass("dropleft")?n="left-start":t(this._menu).hasClass("dropdown-menu-right")&&(n="bottom-end"),n},o._detectNavbar=function(){return t(this._element).closest(".navbar").length>0},o._getOffset=function(){var e=this,t={};return"function"==typeof this._config.offset?t.fn=function(t){return t.offsets=a(a({},t.offsets),e._config.offset(t.offsets,e._element)||{}),t}:t.offset=this._config.offset,t},o._getPopperConfig=function(){var e={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(e.modifiers.applyStyle={enabled:!1}),a(a({},e),this._config.popperConfig)},e._jQueryInterface=function(n){return this.each((function(){var o=t(this).data("bs.dropdown");if(o||(o=new e(this,"object"==typeof n?n:null),t(this).data("bs.dropdown",o)),"string"==typeof n){if(void 0===o[n])throw new TypeError('No method named "'+n+'"');o[n]()}}))},e._clearMenus=function(n){if(!n||3!==n.which&&("keyup"!==n.type||9===n.which))for(var o=[].slice.call(document.querySelectorAll('[data-toggle="dropdown"]')),r=0,i=o.length;r<i;r++){var s=e._getParentFromElement(o[r]),a=t(o[r]).data("bs.dropdown"),l={relatedTarget:o[r]};if(n&&"click"===n.type&&(l.clickEvent=n),a){var c=a._menu;if(t(s).hasClass("show")&&!(n&&("click"===n.type&&/input|textarea/i.test(n.target.tagName)||"keyup"===n.type&&9===n.which)&&t.contains(s,n.target))){var d=t.Event("hide.bs.dropdown",l);t(s).trigger(d),d.isDefaultPrevented()||("ontouchstart"in document.documentElement&&t(document.body).children().off("mouseover",null,t.noop),o[r].setAttribute("aria-expanded","false"),a._popper&&a._popper.destroy(),t(c).removeClass("show"),t(s).removeClass("show").trigger(t.Event("hidden.bs.dropdown",l)))}}}},e._getParentFromElement=function(e){var t,n=l.getSelectorFromElement(e);return n&&(t=document.querySelector(n)),t||e.parentNode},e._dataApiKeydownHandler=function(n){if(!(/input|textarea/i.test(n.target.tagName)?32===n.which||27!==n.which&&(40!==n.which&&38!==n.which||t(n.target).closest(".dropdown-menu").length):!N.test(n.which))&&!this.disabled&&!t(this).hasClass("disabled")){var o=e._getParentFromElement(this),r=t(o).hasClass("show");if(r||27!==n.which){if(n.preventDefault(),n.stopPropagation(),!r||r&&(27===n.which||32===n.which))return 27===n.which&&t(o.querySelector('[data-toggle="dropdown"]')).trigger("focus"),void t(this).trigger("click");var i=[].slice.call(o.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter((function(e){return t(e).is(":visible")}));if(0!==i.length){var s=i.indexOf(n.target);38===n.which&&s>0&&s--,40===n.which&&s<i.length-1&&s++,s<0&&(s=0),i[s].focus()}}}},r(e,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return T}},{key:"DefaultType",get:function(){return A}}]),e}();t(document).on("keydown.bs.dropdown.data-api",'[data-toggle="dropdown"]',R._dataApiKeydownHandler).on("keydown.bs.dropdown.data-api",".dropdown-menu",R._dataApiKeydownHandler).on("click.bs.dropdown.data-api keyup.bs.dropdown.data-api",R._clearMenus).on("click.bs.dropdown.data-api",'[data-toggle="dropdown"]',(function(e){e.preventDefault(),e.stopPropagation(),R._jQueryInterface.call(t(this),"toggle")})).on("click.bs.dropdown.data-api",".dropdown form",(function(e){e.stopPropagation()})),t.fn[S]=R._jQueryInterface,t.fn[S].Constructor=R,t.fn[S].noConflict=function(){return t.fn[S]=k,R._jQueryInterface};var O=t.fn.modal,D={backdrop:!0,keyboard:!0,focus:!0,show:!0},B={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},L=function(){function e(e,t){this._config=this._getConfig(t),this._element=e,this._dialog=e.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var n=e.prototype;return n.toggle=function(e){return this._isShown?this.hide():this.show(e)},n.show=function(e){var n=this;if(!this._isShown&&!this._isTransitioning){t(this._element).hasClass("fade")&&(this._isTransitioning=!0);var o=t.Event("show.bs.modal",{relatedTarget:e});t(this._element).trigger(o),this._isShown||o.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),t(this._element).on("click.dismiss.bs.modal",'[data-dismiss="modal"]',(function(e){return n.hide(e)})),t(this._dialog).on("mousedown.dismiss.bs.modal",(function(){t(n._element).one("mouseup.dismiss.bs.modal",(function(e){t(e.target).is(n._element)&&(n._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return n._showElement(e)})))}},n.hide=function(e){var n=this;if(e&&e.preventDefault(),this._isShown&&!this._isTransitioning){var o=t.Event("hide.bs.modal");if(t(this._element).trigger(o),this._isShown&&!o.isDefaultPrevented()){this._isShown=!1;var r=t(this._element).hasClass("fade");if(r&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),t(document).off("focusin.bs.modal"),t(this._element).removeClass("show"),t(this._element).off("click.dismiss.bs.modal"),t(this._dialog).off("mousedown.dismiss.bs.modal"),r){var i=l.getTransitionDurationFromElement(this._element);t(this._element).one(l.TRANSITION_END,(function(e){return n._hideModal(e)})).emulateTransitionEnd(i)}else this._hideModal()}}},n.dispose=function(){[window,this._element,this._dialog].forEach((function(e){return t(e).off(".bs.modal")})),t(document).off("focusin.bs.modal"),t.removeData(this._element,"bs.modal"),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},n.handleUpdate=function(){this._adjustDialog()},n._getConfig=function(e){return e=a(a({},D),e),l.typeCheckConfig("modal",e,B),e},n._triggerBackdropTransition=function(){var e=this;if("static"===this._config.backdrop){var n=t.Event("hidePrevented.bs.modal");if(t(this._element).trigger(n),n.defaultPrevented)return;this._element.classList.add("modal-static");var o=l.getTransitionDurationFromElement(this._element);t(this._element).one(l.TRANSITION_END,(function(){e._element.classList.remove("modal-static")})).emulateTransitionEnd(o),this._element.focus()}else this.hide()},n._showElement=function(e){var n=this,o=t(this._element).hasClass("fade"),r=this._dialog?this._dialog.querySelector(".modal-body"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),t(this._dialog).hasClass("modal-dialog-scrollable")&&r?r.scrollTop=0:this._element.scrollTop=0,o&&l.reflow(this._element),t(this._element).addClass("show"),this._config.focus&&this._enforceFocus();var i=t.Event("shown.bs.modal",{relatedTarget:e}),s=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,t(n._element).trigger(i)};if(o){var a=l.getTransitionDurationFromElement(this._dialog);t(this._dialog).one(l.TRANSITION_END,s).emulateTransitionEnd(a)}else s()},n._enforceFocus=function(){var e=this;t(document).off("focusin.bs.modal").on("focusin.bs.modal",(function(n){document!==n.target&&e._element!==n.target&&0===t(e._element).has(n.target).length&&e._element.focus()}))},n._setEscapeEvent=function(){var e=this;this._isShown?t(this._element).on("keydown.dismiss.bs.modal",(function(t){e._config.keyboard&&27===t.which?(t.preventDefault(),e.hide()):e._config.keyboard||27!==t.which||e._triggerBackdropTransition()})):this._isShown||t(this._element).off("keydown.dismiss.bs.modal")},n._setResizeEvent=function(){var e=this;this._isShown?t(window).on("resize.bs.modal",(function(t){return e.handleUpdate(t)})):t(window).off("resize.bs.modal")},n._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop((function(){t(document.body).removeClass("modal-open"),e._resetAdjustments(),e._resetScrollbar(),t(e._element).trigger("hidden.bs.modal")}))},n._removeBackdrop=function(){this._backdrop&&(t(this._backdrop).remove(),this._backdrop=null)},n._showBackdrop=function(e){var n=this,o=t(this._element).hasClass("fade")?"fade":"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",o&&this._backdrop.classList.add(o),t(this._backdrop).appendTo(document.body),t(this._element).on("click.dismiss.bs.modal",(function(e){n._ignoreBackdropClick?n._ignoreBackdropClick=!1:e.target===e.currentTarget&&n._triggerBackdropTransition()})),o&&l.reflow(this._backdrop),t(this._backdrop).addClass("show"),!e)return;if(!o)return void e();var r=l.getTransitionDurationFromElement(this._backdrop);t(this._backdrop).one(l.TRANSITION_END,e).emulateTransitionEnd(r)}else if(!this._isShown&&this._backdrop){t(this._backdrop).removeClass("show");var i=function(){n._removeBackdrop(),e&&e()};if(t(this._element).hasClass("fade")){var s=l.getTransitionDurationFromElement(this._backdrop);t(this._backdrop).one(l.TRANSITION_END,i).emulateTransitionEnd(s)}else i()}else e&&e()},n._adjustDialog=function(){var e=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&e&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!e&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},n._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},n._checkScrollbar=function(){var e=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(e.left+e.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},n._setScrollbar=function(){var e=this;if(this._isBodyOverflowing){var n=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")),o=[].slice.call(document.querySelectorAll(".sticky-top"));t(n).each((function(n,o){var r=o.style.paddingRight,i=t(o).css("padding-right");t(o).data("padding-right",r).css("padding-right",parseFloat(i)+e._scrollbarWidth+"px")})),t(o).each((function(n,o){var r=o.style.marginRight,i=t(o).css("margin-right");t(o).data("margin-right",r).css("margin-right",parseFloat(i)-e._scrollbarWidth+"px")}));var r=document.body.style.paddingRight,i=t(document.body).css("padding-right");t(document.body).data("padding-right",r).css("padding-right",parseFloat(i)+this._scrollbarWidth+"px")}t(document.body).addClass("modal-open")},n._resetScrollbar=function(){var e=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top"));t(e).each((function(e,n){var o=t(n).data("padding-right");t(n).removeData("padding-right"),n.style.paddingRight=o||""}));var n=[].slice.call(document.querySelectorAll(".sticky-top"));t(n).each((function(e,n){var o=t(n).data("margin-right");void 0!==o&&t(n).css("margin-right",o).removeData("margin-right")}));var o=t(document.body).data("padding-right");t(document.body).removeData("padding-right"),document.body.style.paddingRight=o||""},n._getScrollbarWidth=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},e._jQueryInterface=function(n,o){return this.each((function(){var r=t(this).data("bs.modal"),i=a(a(a({},D),t(this).data()),"object"==typeof n&&n?n:{});if(r||(r=new e(this,i),t(this).data("bs.modal",r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n](o)}else i.show&&r.show(o)}))},r(e,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return D}}]),e}();t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(e){var n,o=this,r=l.getSelectorFromElement(this);r&&(n=document.querySelector(r));var i=t(n).data("bs.modal")?"toggle":a(a({},t(n).data()),t(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var s=t(n).one("show.bs.modal",(function(e){e.isDefaultPrevented()||s.one("hidden.bs.modal",(function(){t(o).is(":visible")&&o.focus()}))}));L._jQueryInterface.call(t(n),i,this)})),t.fn.modal=L._jQueryInterface,t.fn.modal.Constructor=L,t.fn.modal.noConflict=function(){return t.fn.modal=O,L._jQueryInterface};var P=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],I=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,M=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function j(e,t,n){if(0===e.length)return e;if(n&&"function"==typeof n)return n(e);for(var o=(new window.DOMParser).parseFromString(e,"text/html"),r=Object.keys(t),i=[].slice.call(o.body.querySelectorAll("*")),s=function(e,n){var o=i[e],s=o.nodeName.toLowerCase();if(-1===r.indexOf(o.nodeName.toLowerCase()))return o.parentNode.removeChild(o),"continue";var a=[].slice.call(o.attributes),l=[].concat(t["*"]||[],t[s]||[]);a.forEach((function(e){(function(e,t){var n=e.nodeName.toLowerCase();if(-1!==t.indexOf(n))return-1===P.indexOf(n)||Boolean(e.nodeValue.match(I)||e.nodeValue.match(M));for(var o=t.filter((function(e){return e instanceof RegExp})),r=0,i=o.length;r<i;r++)if(n.match(o[r]))return!0;return!1})(e,l)||o.removeAttribute(e.nodeName)}))},a=0,l=i.length;a<l;a++)s(a);return o.body.innerHTML}var F="tooltip",H=t.fn[F],U=new RegExp("(^|\\s)bs-tooltip\\S+","g"),q=["sanitize","whiteList","sanitizeFn"],z={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},$={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},W={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},V={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},K=function(){function e(e,t){if(void 0===n)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(t),this.tip=null,this._setListeners()}var o=e.prototype;return o.enable=function(){this._isEnabled=!0},o.disable=function(){this._isEnabled=!1},o.toggleEnabled=function(){this._isEnabled=!this._isEnabled},o.toggle=function(e){if(this._isEnabled)if(e){var n=this.constructor.DATA_KEY,o=t(e.currentTarget).data(n);o||(o=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(n,o)),o._activeTrigger.click=!o._activeTrigger.click,o._isWithActiveTrigger()?o._enter(null,o):o._leave(null,o)}else{if(t(this.getTipElement()).hasClass("show"))return void this._leave(null,this);this._enter(null,this)}},o.dispose=function(){clearTimeout(this._timeout),t.removeData(this.element,this.constructor.DATA_KEY),t(this.element).off(this.constructor.EVENT_KEY),t(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&t(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},o.show=function(){var e=this;if("none"===t(this.element).css("display"))throw new Error("Please use show on visible elements");var o=t.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){t(this.element).trigger(o);var r=l.findShadowRoot(this.element),i=t.contains(null!==r?r:this.element.ownerDocument.documentElement,this.element);if(o.isDefaultPrevented()||!i)return;var s=this.getTipElement(),a=l.getUID(this.constructor.NAME);s.setAttribute("id",a),this.element.setAttribute("aria-describedby",a),this.setContent(),this.config.animation&&t(s).addClass("fade");var c="function"==typeof this.config.placement?this.config.placement.call(this,s,this.element):this.config.placement,d=this._getAttachment(c);this.addAttachmentClass(d);var u=this._getContainer();t(s).data(this.constructor.DATA_KEY,this),t.contains(this.element.ownerDocument.documentElement,this.tip)||t(s).appendTo(u),t(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new n(this.element,s,this._getPopperConfig(d)),t(s).addClass("show"),"ontouchstart"in document.documentElement&&t(document.body).children().on("mouseover",null,t.noop);var f=function(){e.config.animation&&e._fixTransition();var n=e._hoverState;e._hoverState=null,t(e.element).trigger(e.constructor.Event.SHOWN),"out"===n&&e._leave(null,e)};if(t(this.tip).hasClass("fade")){var m=l.getTransitionDurationFromElement(this.tip);t(this.tip).one(l.TRANSITION_END,f).emulateTransitionEnd(m)}else f()}},o.hide=function(e){var n=this,o=this.getTipElement(),r=t.Event(this.constructor.Event.HIDE),i=function(){"show"!==n._hoverState&&o.parentNode&&o.parentNode.removeChild(o),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),t(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),e&&e()};if(t(this.element).trigger(r),!r.isDefaultPrevented()){if(t(o).removeClass("show"),"ontouchstart"in document.documentElement&&t(document.body).children().off("mouseover",null,t.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,t(this.tip).hasClass("fade")){var s=l.getTransitionDurationFromElement(o);t(o).one(l.TRANSITION_END,i).emulateTransitionEnd(s)}else i();this._hoverState=""}},o.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},o.isWithContent=function(){return Boolean(this.getTitle())},o.addAttachmentClass=function(e){t(this.getTipElement()).addClass("bs-tooltip-"+e)},o.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0],this.tip},o.setContent=function(){var e=this.getTipElement();this.setElementContent(t(e.querySelectorAll(".tooltip-inner")),this.getTitle()),t(e).removeClass("fade show")},o.setElementContent=function(e,n){"object"!=typeof n||!n.nodeType&&!n.jquery?this.config.html?(this.config.sanitize&&(n=j(n,this.config.whiteList,this.config.sanitizeFn)),e.html(n)):e.text(n):this.config.html?t(n).parent().is(e)||e.empty().append(n):e.text(t(n).text())},o.getTitle=function(){var e=this.element.getAttribute("data-original-title");return e||(e="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),e},o._getPopperConfig=function(e){var t=this;return a(a({},{placement:e,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){return t._handlePopperPlacementChange(e)}}),this.config.popperConfig)},o._getOffset=function(){var e=this,t={};return"function"==typeof this.config.offset?t.fn=function(t){return t.offsets=a(a({},t.offsets),e.config.offset(t.offsets,e.element)||{}),t}:t.offset=this.config.offset,t},o._getContainer=function(){return!1===this.config.container?document.body:l.isElement(this.config.container)?t(this.config.container):t(document).find(this.config.container)},o._getAttachment=function(e){return $[e.toUpperCase()]},o._setListeners=function(){var e=this;this.config.trigger.split(" ").forEach((function(n){if("click"===n)t(e.element).on(e.constructor.Event.CLICK,e.config.selector,(function(t){return e.toggle(t)}));else if("manual"!==n){var o="hover"===n?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,r="hover"===n?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;t(e.element).on(o,e.config.selector,(function(t){return e._enter(t)})).on(r,e.config.selector,(function(t){return e._leave(t)}))}})),this._hideModalHandler=function(){e.element&&e.hide()},t(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=a(a({},this.config),{},{trigger:"manual",selector:""}):this._fixTitle()},o._fixTitle=function(){var e=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==e)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},o._enter=function(e,n){var o=this.constructor.DATA_KEY;(n=n||t(e.currentTarget).data(o))||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(o,n)),e&&(n._activeTrigger["focusin"===e.type?"focus":"hover"]=!0),t(n.getTipElement()).hasClass("show")||"show"===n._hoverState?n._hoverState="show":(clearTimeout(n._timeout),n._hoverState="show",n.config.delay&&n.config.delay.show?n._timeout=setTimeout((function(){"show"===n._hoverState&&n.show()}),n.config.delay.show):n.show())},o._leave=function(e,n){var o=this.constructor.DATA_KEY;(n=n||t(e.currentTarget).data(o))||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(o,n)),e&&(n._activeTrigger["focusout"===e.type?"focus":"hover"]=!1),n._isWithActiveTrigger()||(clearTimeout(n._timeout),n._hoverState="out",n.config.delay&&n.config.delay.hide?n._timeout=setTimeout((function(){"out"===n._hoverState&&n.hide()}),n.config.delay.hide):n.hide())},o._isWithActiveTrigger=function(){for(var e in this._activeTrigger)if(this._activeTrigger[e])return!0;return!1},o._getConfig=function(e){var n=t(this.element).data();return Object.keys(n).forEach((function(e){-1!==q.indexOf(e)&&delete n[e]})),"number"==typeof(e=a(a(a({},this.constructor.Default),n),"object"==typeof e&&e?e:{})).delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),l.typeCheckConfig(F,e,this.constructor.DefaultType),e.sanitize&&(e.template=j(e.template,e.whiteList,e.sanitizeFn)),e},o._getDelegateConfig=function(){var e={};if(this.config)for(var t in this.config)this.constructor.Default[t]!==this.config[t]&&(e[t]=this.config[t]);return e},o._cleanTipClass=function(){var e=t(this.getTipElement()),n=e.attr("class").match(U);null!==n&&n.length&&e.removeClass(n.join(""))},o._handlePopperPlacementChange=function(e){this.tip=e.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(e.placement))},o._fixTransition=function(){var e=this.getTipElement(),n=this.config.animation;null===e.getAttribute("x-placement")&&(t(e).removeClass("fade"),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)},e._jQueryInterface=function(n){return this.each((function(){var o=t(this).data("bs.tooltip"),r="object"==typeof n&&n;if((o||!/dispose|hide/.test(n))&&(o||(o=new e(this,r),t(this).data("bs.tooltip",o)),"string"==typeof n)){if(void 0===o[n])throw new TypeError('No method named "'+n+'"');o[n]()}}))},r(e,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return W}},{key:"NAME",get:function(){return F}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return V}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return z}}]),e}();t.fn[F]=K._jQueryInterface,t.fn[F].Constructor=K,t.fn[F].noConflict=function(){return t.fn[F]=H,K._jQueryInterface};var X="popover",Y=t.fn[X],G=new RegExp("(^|\\s)bs-popover\\S+","g"),Q=a(a({},K.Default),{},{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),J=a(a({},K.DefaultType),{},{content:"(string|element|function)"}),Z={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},ee=function(e){var n,o;function i(){return e.apply(this,arguments)||this}o=e,(n=i).prototype=Object.create(o.prototype),n.prototype.constructor=n,n.__proto__=o;var s=i.prototype;return s.isWithContent=function(){return this.getTitle()||this._getContent()},s.addAttachmentClass=function(e){t(this.getTipElement()).addClass("bs-popover-"+e)},s.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0],this.tip},s.setContent=function(){var e=t(this.getTipElement());this.setElementContent(e.find(".popover-header"),this.getTitle());var n=this._getContent();"function"==typeof n&&(n=n.call(this.element)),this.setElementContent(e.find(".popover-body"),n),e.removeClass("fade show")},s._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},s._cleanTipClass=function(){var e=t(this.getTipElement()),n=e.attr("class").match(G);null!==n&&n.length>0&&e.removeClass(n.join(""))},i._jQueryInterface=function(e){return this.each((function(){var n=t(this).data("bs.popover"),o="object"==typeof e?e:null;if((n||!/dispose|hide/.test(e))&&(n||(n=new i(this,o),t(this).data("bs.popover",n)),"string"==typeof e)){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}}))},r(i,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return Q}},{key:"NAME",get:function(){return X}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return Z}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return J}}]),i}(K);t.fn[X]=ee._jQueryInterface,t.fn[X].Constructor=ee,t.fn[X].noConflict=function(){return t.fn[X]=Y,ee._jQueryInterface};var te="scrollspy",ne=t.fn[te],oe={offset:10,method:"auto",target:""},re={offset:"number",method:"string",target:"(string|element)"},ie=function(){function e(e,n){var o=this;this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(n),this._selector=this._config.target+" .nav-link,"+this._config.target+" .list-group-item,"+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,t(this._scrollElement).on("scroll.bs.scrollspy",(function(e){return o._process(e)})),this.refresh(),this._process()}var n=e.prototype;return n.refresh=function(){var e=this,n="auto"===this._config.method?this._scrollElement===this._scrollElement.window?"offset":"position":this._config.method,o="position"===n?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map((function(e){var r,i=l.getSelectorFromElement(e);if(i&&(r=document.querySelector(i)),r){var s=r.getBoundingClientRect();if(s.width||s.height)return[t(r)[n]().top+o,i]}return null})).filter((function(e){return e})).sort((function(e,t){return e[0]-t[0]})).forEach((function(t){e._offsets.push(t[0]),e._targets.push(t[1])}))},n.dispose=function(){t.removeData(this._element,"bs.scrollspy"),t(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},n._getConfig=function(e){if("string"!=typeof(e=a(a({},oe),"object"==typeof e&&e?e:{})).target&&l.isElement(e.target)){var n=t(e.target).attr("id");n||(n=l.getUID(te),t(e.target).attr("id",n)),e.target="#"+n}return l.typeCheckConfig(te,e,re),e},n._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},n._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},n._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},n._process=function(){var e=this._getScrollTop()+this._config.offset,t=this._getScrollHeight(),n=this._config.offset+t-this._getOffsetHeight();if(this._scrollHeight!==t&&this.refresh(),e>=n){var o=this._targets[this._targets.length-1];this._activeTarget!==o&&this._activate(o)}else{if(this._activeTarget&&e<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var r=this._offsets.length;r--;)this._activeTarget!==this._targets[r]&&e>=this._offsets[r]&&(void 0===this._offsets[r+1]||e<this._offsets[r+1])&&this._activate(this._targets[r])}},n._activate=function(e){this._activeTarget=e,this._clear();var n=this._selector.split(",").map((function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'})),o=t([].slice.call(document.querySelectorAll(n.join(","))));o.hasClass("dropdown-item")?(o.closest(".dropdown").find(".dropdown-toggle").addClass("active"),o.addClass("active")):(o.addClass("active"),o.parents(".nav, .list-group").prev(".nav-link, .list-group-item").addClass("active"),o.parents(".nav, .list-group").prev(".nav-item").children(".nav-link").addClass("active")),t(this._scrollElement).trigger("activate.bs.scrollspy",{relatedTarget:e})},n._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter((function(e){return e.classList.contains("active")})).forEach((function(e){return e.classList.remove("active")}))},e._jQueryInterface=function(n){return this.each((function(){var o=t(this).data("bs.scrollspy");if(o||(o=new e(this,"object"==typeof n&&n),t(this).data("bs.scrollspy",o)),"string"==typeof n){if(void 0===o[n])throw new TypeError('No method named "'+n+'"');o[n]()}}))},r(e,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return oe}}]),e}();t(window).on("load.bs.scrollspy.data-api",(function(){for(var e=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),n=e.length;n--;){var o=t(e[n]);ie._jQueryInterface.call(o,o.data())}})),t.fn[te]=ie._jQueryInterface,t.fn[te].Constructor=ie,t.fn[te].noConflict=function(){return t.fn[te]=ne,ie._jQueryInterface};var se=t.fn.tab,ae=function(){function e(e){this._element=e}var n=e.prototype;return n.show=function(){var e=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&t(this._element).hasClass("active")||t(this._element).hasClass("disabled"))){var n,o,r=t(this._element).closest(".nav, .list-group")[0],i=l.getSelectorFromElement(this._element);if(r){var s="UL"===r.nodeName||"OL"===r.nodeName?"> li > .active":".active";o=(o=t.makeArray(t(r).find(s)))[o.length-1]}var a=t.Event("hide.bs.tab",{relatedTarget:this._element}),c=t.Event("show.bs.tab",{relatedTarget:o});if(o&&t(o).trigger(a),t(this._element).trigger(c),!c.isDefaultPrevented()&&!a.isDefaultPrevented()){i&&(n=document.querySelector(i)),this._activate(this._element,r);var d=function(){var n=t.Event("hidden.bs.tab",{relatedTarget:e._element}),r=t.Event("shown.bs.tab",{relatedTarget:o});t(o).trigger(n),t(e._element).trigger(r)};n?this._activate(n,n.parentNode,d):d()}}},n.dispose=function(){t.removeData(this._element,"bs.tab"),this._element=null},n._activate=function(e,n,o){var r=this,i=(!n||"UL"!==n.nodeName&&"OL"!==n.nodeName?t(n).children(".active"):t(n).find("> li > .active"))[0],s=o&&i&&t(i).hasClass("fade"),a=function(){return r._transitionComplete(e,i,o)};if(i&&s){var c=l.getTransitionDurationFromElement(i);t(i).removeClass("show").one(l.TRANSITION_END,a).emulateTransitionEnd(c)}else a()},n._transitionComplete=function(e,n,o){if(n){t(n).removeClass("active");var r=t(n.parentNode).find("> .dropdown-menu .active")[0];r&&t(r).removeClass("active"),"tab"===n.getAttribute("role")&&n.setAttribute("aria-selected",!1)}if(t(e).addClass("active"),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),l.reflow(e),e.classList.contains("fade")&&e.classList.add("show"),e.parentNode&&t(e.parentNode).hasClass("dropdown-menu")){var i=t(e).closest(".dropdown")[0];if(i){var s=[].slice.call(i.querySelectorAll(".dropdown-toggle"));t(s).addClass("active")}e.setAttribute("aria-expanded",!0)}o&&o()},e._jQueryInterface=function(n){return this.each((function(){var o=t(this),r=o.data("bs.tab");if(r||(r=new e(this),o.data("bs.tab",r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n]()}}))},r(e,null,[{key:"VERSION",get:function(){return"4.5.0"}}]),e}();t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',(function(e){e.preventDefault(),ae._jQueryInterface.call(t(this),"show")})),t.fn.tab=ae._jQueryInterface,t.fn.tab.Constructor=ae,t.fn.tab.noConflict=function(){return t.fn.tab=se,ae._jQueryInterface};var le=t.fn.toast,ce={animation:"boolean",autohide:"boolean",delay:"number"},de={animation:!0,autohide:!0,delay:500},ue=function(){function e(e,t){this._element=e,this._config=this._getConfig(t),this._timeout=null,this._setListeners()}var n=e.prototype;return n.show=function(){var e=this,n=t.Event("show.bs.toast");if(t(this._element).trigger(n),!n.isDefaultPrevented()){this._config.animation&&this._element.classList.add("fade");var o=function(){e._element.classList.remove("showing"),e._element.classList.add("show"),t(e._element).trigger("shown.bs.toast"),e._config.autohide&&(e._timeout=setTimeout((function(){e.hide()}),e._config.delay))};if(this._element.classList.remove("hide"),l.reflow(this._element),this._element.classList.add("showing"),this._config.animation){var r=l.getTransitionDurationFromElement(this._element);t(this._element).one(l.TRANSITION_END,o).emulateTransitionEnd(r)}else o()}},n.hide=function(){if(this._element.classList.contains("show")){var e=t.Event("hide.bs.toast");t(this._element).trigger(e),e.isDefaultPrevented()||this._close()}},n.dispose=function(){clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains("show")&&this._element.classList.remove("show"),t(this._element).off("click.dismiss.bs.toast"),t.removeData(this._element,"bs.toast"),this._element=null,this._config=null},n._getConfig=function(e){return e=a(a(a({},de),t(this._element).data()),"object"==typeof e&&e?e:{}),l.typeCheckConfig("toast",e,this.constructor.DefaultType),e},n._setListeners=function(){var e=this;t(this._element).on("click.dismiss.bs.toast",'[data-dismiss="toast"]',(function(){return e.hide()}))},n._close=function(){var e=this,n=function(){e._element.classList.add("hide"),t(e._element).trigger("hidden.bs.toast")};if(this._element.classList.remove("show"),this._config.animation){var o=l.getTransitionDurationFromElement(this._element);t(this._element).one(l.TRANSITION_END,n).emulateTransitionEnd(o)}else n()},e._jQueryInterface=function(n){return this.each((function(){var o=t(this),r=o.data("bs.toast");if(r||(r=new e(this,"object"==typeof n&&n),o.data("bs.toast",r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n](this)}}))},r(e,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"DefaultType",get:function(){return ce}},{key:"Default",get:function(){return de}}]),e}();t.fn.toast=ue._jQueryInterface,t.fn.toast.Constructor=ue,t.fn.toast.noConflict=function(){return t.fn.toast=le,ue._jQueryInterface},e.Alert=u,e.Button=m,e.Carousel=y,e.Collapse=E,e.Dropdown=R,e.Modal=L,e.Popover=ee,e.Scrollspy=ie,e.Tab=ae,e.Toast=ue,e.Tooltip=K,e.Util=l,Object.defineProperty(e,"__esModule",{value:!0})})),function(){"use strict";var e=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},t=function(e){return{eq:e}},n=t((function(e,t){return e===t})),o=function(e){return t((function(t,n){if(t.length!==n.length)return!1;for(var o=t.length,r=0;r<o;r++)if(!e.eq(t[r],n[r]))return!1;return!0}))},r=function(e){return t((function(r,i){var s=Object.keys(r),a=Object.keys(i);if(!function(e,n){return function(e,n){return t((function(t,o){return e.eq(n(t),n(o))}))}(o(e),(function(e){return function(e,t){return Array.prototype.slice.call(e).sort(void 0)}(e)}))}(n).eq(s,a))return!1;for(var l=s.length,c=0;c<l;c++){var d=s[c];if(!e.eq(r[d],i[d]))return!1}return!0}))},i=t((function(t,n){if(t===n)return!0;var s=e(t);return s===e(n)&&(function(e){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(e)}(s)?t===n:"array"===s?o(i).eq(t,n):"object"===s&&r(i).eq(t,n))}));const s=Object.getPrototypeOf,a=(e,t,n)=>{var o;return!!n(e,t.prototype)||(null===(o=e.constructor)||void 0===o?void 0:o.name)===t.name},l=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&a(e,String,(e,t)=>t.isPrototypeOf(e))?"string":t})(t)===e,c=e=>t=>typeof t===e,d=e=>t=>e===t,u=(e,t)=>m(e)&&a(e,t,(e,t)=>s(e)===t),f=l("string"),m=l("object"),p=e=>u(e,Object),h=l("array"),g=d(null),v=c("boolean"),b=d(void 0),y=e=>null==e,C=e=>!y(e),_=c("function"),w=c("number"),x=(e,t)=>{if(h(e)){for(let n=0,o=e.length;n<o;++n)if(!t(e[n]))return!1;return!0}return!1},E=()=>{},S=(e,t)=>(...n)=>e(t.apply(null,n)),k=(e,t)=>n=>e(t(n)),N=e=>()=>e,T=e=>e,A=(e,t)=>e===t;function R(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const O=e=>t=>!e(t),D=e=>()=>{throw new Error(e)},B=e=>e(),L=e=>{e()},P=N(!1),I=N(!0);class M{constructor(e,t){this.tag=e,this.value=t}static some(e){return new M(!0,e)}static none(){return M.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?M.some(e(this.value)):M.none()}bind(e){return this.tag?e(this.value):M.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:M.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return C(e)?M.some(e):M.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}M.singletonNone=new M(!1);const j=Array.prototype.slice,F=Array.prototype.indexOf,H=Array.prototype.push,U=(e,t)=>F.call(e,t),q=(e,t)=>U(e,t)>-1,z=(e,t)=>{for(let n=0,o=e.length;n<o;n++)if(t(e[n],n))return!0;return!1},$=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++)o[r]=t(e[r],r);return o},W=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},V=(e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)},K=(e,t)=>{const n=[],o=[];for(let r=0,i=e.length;r<i;r++){const i=e[r];(t(i,r)?n:o).push(i)}return{pass:n,fail:o}},X=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},Y=(e,t,n)=>(V(e,(e,o)=>{n=t(n,e,o)}),n),G=(e,t,n)=>(W(e,(e,o)=>{n=t(n,e,o)}),n),Q=(e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return M.some(r);if(n(r,o))break}return M.none()},J=(e,t)=>Q(e,t,P),Z=(e,t)=>{for(let n=0,o=e.length;n<o;n++)if(t(e[n],n))return M.some(n);return M.none()},ee=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!h(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);H.apply(t,e[n])}return t},te=(e,t)=>ee($(e,t)),ne=(e,t)=>{for(let n=0,o=e.length;n<o;++n)if(!0!==t(e[n],n))return!1;return!0},oe=e=>{const t=j.call(e,0);return t.reverse(),t},re=(e,t)=>X(e,e=>!q(t,e)),ie=(e,t)=>{const n={};for(let o=0,r=e.length;o<r;o++){const r=e[o];n[String(r)]=t(r,o)}return n},se=(e,t)=>{const n=j.call(e,0);return n.sort(t),n},ae=(e,t)=>t>=0&&t<e.length?M.some(e[t]):M.none(),le=e=>ae(e,0),ce=e=>ae(e,e.length-1),de=_(Array.from)?Array.from:e=>j.call(e),ue=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return M.none()},fe=Object.keys,me=Object.hasOwnProperty,pe=(e,t)=>{const n=fe(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},he=(e,t)=>ge(e,(e,n)=>({k:n,v:t(e,n)})),ge=(e,t)=>{const n={};return pe(e,(e,o)=>{const r=t(e,o);n[r.k]=r.v}),n},ve=e=>(t,n)=>{e[n]=t},be=(e,t,n,o)=>{pe(e,(e,r)=>{(t(e,r)?n:o)(e,r)})},ye=(e,t)=>{const n={};return be(e,t,ve(n),E),n},Ce=(e,t)=>{const n=[];return pe(e,(e,o)=>{n.push(t(e,o))}),n},_e=e=>Ce(e,T),we=(e,t)=>xe(e,t)?M.from(e[t]):M.none(),xe=(e,t)=>me.call(e,t),Ee=(e,t)=>xe(e,t)&&null!=e[t],Se=e=>{const t={};return W(e,e=>{t[e]={}}),fe(t)},ke=e=>void 0!==e.length,Ne=Array.isArray,Te=(e,t,n)=>{if(!e)return!1;if(n=n||e,ke(e)){for(let o=0,r=e.length;o<r;o++)if(!1===t.call(n,e[o],o,e))return!1}else for(const o in e)if(xe(e,o)&&!1===t.call(n,e[o],o,e))return!1;return!0},Ae=(e,t)=>{const n=[];return Te(e,(o,r)=>{n.push(t(o,r,e))}),n},Re=(e,t)=>{const n=[];return Te(e,(o,r)=>{t&&!t(o,r,e)||n.push(o)}),n},Oe=(e,t,n,o)=>{let r=b(n)?e[0]:n;for(let i=0;i<e.length;i++)r=t.call(o,r,e[i],i);return r},De=(e,t,n)=>{for(let o=0,r=e.length;o<r;o++)if(t.call(n,e[o],o,e))return o;return-1},Be=e=>e[e.length-1],Le=e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)},Pe=()=>Ie(0,0),Ie=(e,t)=>({major:e,minor:t}),Me={nu:Ie,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?Pe():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}})(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return Ie(o(1),o(2))})(e,n)},unknown:Pe},je=(e,t)=>{const n=String(t).toLowerCase();return J(e,e=>e.search(n))},Fe=(e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t,He=(e,t)=>qe(e,t)?((e,t)=>e.substring(t))(e,t.length):e,Ue=(e,t,n=0,o)=>{const r=e.indexOf(t,n);return-1!==r&&(!!b(o)||r+t.length<=o)},qe=(e,t)=>Fe(e,t,0),ze=(e,t)=>Fe(e,t,e.length-t.length),$e=e=>t=>t.replace(e,""),We=$e(/^\s+|\s+$/g),Ve=$e(/^\s+/g),Ke=$e(/\s+$/g),Xe=e=>e.length>0,Ye=e=>!Xe(e),Ge=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?M.none():M.some(n)},Qe=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Je=e=>t=>Ue(t,e),Ze=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>Ue(e,"edge/")&&Ue(e,"chrome")&&Ue(e,"safari")&&Ue(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Qe],search:e=>Ue(e,"chrome")&&!Ue(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>Ue(e,"msie")||Ue(e,"trident")},{name:"Opera",versionRegexes:[Qe,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Je("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Je("firefox")},{name:"Safari",versionRegexes:[Qe,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(Ue(e,"safari")||Ue(e,"mobile/"))&&Ue(e,"applewebkit")}],et=[{name:"Windows",search:Je("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>Ue(e,"iphone")||Ue(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Je("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Je("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Je("linux"),versionRegexes:[]},{name:"Solaris",search:Je("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Je("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Je("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],tt={browsers:N(Ze),oses:N(et)},nt="Edge",ot="Chromium",rt="Opera",it="Firefox",st="Safari",at=e=>{const t=e.current,n=e=>()=>t===e;return{current:t,version:e.version,isEdge:n(nt),isChromium:n(ot),isIE:n("IE"),isOpera:n(rt),isFirefox:n(it),isSafari:n(st)}},lt=()=>at({current:void 0,version:Me.unknown()}),ct=at,dt=(N(nt),N(ot),N("IE"),N(rt),N(it),N(st),"Windows"),ut="Android",ft="Linux",mt="macOS",pt="Solaris",ht="FreeBSD",gt="ChromeOS",vt=e=>{const t=e.current,n=e=>()=>t===e;return{current:t,version:e.version,isWindows:n(dt),isiOS:n("iOS"),isAndroid:n(ut),isMacOS:n(mt),isLinux:n(ft),isSolaris:n(pt),isFreeBSD:n(ht),isChromeOS:n(gt)}},bt=()=>vt({current:void 0,version:Me.unknown()}),yt=vt,Ct=(N(dt),N("iOS"),N(ut),N(ft),N(mt),N(pt),N(ht),N(gt),e=>window.matchMedia(e).matches);let _t=Le(()=>((e,t,n)=>{const o=tt.browsers(),r=tt.oses(),i=t.bind(e=>((e,t)=>ue(t.brands,t=>{const n=t.brand.toLowerCase();return J(e,e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())}).map(e=>({current:e.name,version:Me.nu(parseInt(t.version,10),0)}))}))(o,e)).orThunk(()=>((e,t)=>je(e,t).map(e=>{const n=Me.detect(e.versionRegexes,t);return{current:e.name,version:n}}))(o,e)).fold(lt,ct),s=((e,t)=>je(e,t).map(e=>{const n=Me.detect(e.versionRegexes,t);return{current:e.name,version:n}}))(r,e).fold(bt,yt);return{browser:i,os:s,deviceType:((e,t,n,o)=>{const r=e.isiOS()&&!0===/ipad/i.test(n),i=e.isiOS()&&!r,s=e.isiOS()||e.isAndroid(),a=s||o("(pointer:coarse)"),l=r||!i&&s&&o("(min-device-width:768px)"),c=i||s&&!l,d=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),u=!c&&!l&&!d;return{isiPad:N(r),isiPhone:N(i),isTablet:N(l),isPhone:N(c),isTouch:N(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:N(d),isDesktop:N(u)}})(s,i,e,n)}})(navigator.userAgent,M.from(navigator.userAgentData),Ct));const wt=()=>_t(),xt=navigator.userAgent,Et=wt(),St=Et.browser,kt=Et.os,Nt=Et.deviceType,Tt=-1!==xt.indexOf("Windows Phone"),At={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:St.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!St.isIE(),windowsPhone:Tt,browser:{current:St.current,version:St.version,isChromium:St.isChromium,isEdge:St.isEdge,isFirefox:St.isFirefox,isIE:St.isIE,isOpera:St.isOpera,isSafari:St.isSafari},os:{current:kt.current,version:kt.version,isAndroid:kt.isAndroid,isChromeOS:kt.isChromeOS,isFreeBSD:kt.isFreeBSD,isiOS:kt.isiOS,isLinux:kt.isLinux,isMacOS:kt.isMacOS,isSolaris:kt.isSolaris,isWindows:kt.isWindows},deviceType:{isDesktop:Nt.isDesktop,isiPad:Nt.isiPad,isiPhone:Nt.isiPhone,isPhone:Nt.isPhone,isTablet:Nt.isTablet,isTouch:Nt.isTouch,isWebView:Nt.isWebView}},Rt=/^\s*|\s*$/g,Ot=e=>y(e)?"":(""+e).replace(Rt,""),Dt=function(e,t,n,o){o=o||this,e&&(n&&(e=e[n]),Te(e,(e,r)=>!1!==t.call(o,e,r,n)&&(Dt(e,t,n,o),!0)))},Bt={trim:Ot,isArray:Ne,is:(e,t)=>t?!("array"!==t||!Ne(e))||typeof e===t:void 0!==e,toArray:e=>{if(Ne(e))return e;{const t=[];for(let n=0,o=e.length;n<o;n++)t[n]=e[n];return t}},makeMap:(e,t,n={})=>{const o=f(e)?e.split(t||","):e||[];let r=o.length;for(;r--;)n[o[r]]={};return n},each:Te,map:Ae,grep:Re,inArray:(e,t)=>{if(e)for(let n=0,o=e.length;n<o;n++)if(e[n]===t)return n;return-1},hasOwn:xe,extend:(e,...t)=>{for(let n=0;n<t.length;n++){const o=t[n];for(const t in o)if(xe(o,t)){const n=o[t];void 0!==n&&(e[t]=n)}}return e},walk:Dt,resolve:(e,t=window)=>{const n=e.split(".");for(let o=0,r=n.length;o<r&&(t=t[n[o]]);o++);return t},explode:(e,t)=>h(e)?e:""===e?[]:Ae(e.split(t||","),Ot),_addCacheSuffix:e=>{const t=At.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},Lt=(e,t,n=A)=>e.exists(e=>n(e,t)),Pt=(e,t,n)=>e.isSome()&&t.isSome()?M.some(n(e.getOrDie(),t.getOrDie())):M.none(),It=(e,t)=>e?M.some(t):M.none(),Mt="undefined"!=typeof window?window:Function("return this;")(),jt=(e,t)=>((e,t)=>{let n=null!=t?t:Mt;for(let o=0;o<e.length&&null!=n;++o)n=n[e[o]];return n})(e.split("."),t),Ft=Object.getPrototypeOf,Ht=e=>e.dom.nodeName.toLowerCase(),Ut=e=>e.dom.nodeType,qt=e=>t=>Ut(t)===e,zt=qt(1),$t=qt(3),Wt=qt(9),Vt=qt(11),Kt=e=>t=>zt(t)&&Ht(t)===e,Xt=(e,t,n)=>{if(!(f(n)||v(n)||w(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Yt=(e,t,n)=>{Xt(e.dom,t,n)},Gt=(e,t)=>{const n=e.dom;pe(t,(e,t)=>{Xt(n,t,e)})},Qt=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},Jt=(e,t)=>M.from(Qt(e,t)),Zt=(e,t)=>{const n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},en=(e,t)=>{e.dom.removeAttribute(t)},tn=e=>G(e.dom.attributes,(e,t)=>(e[t.name]=t.value,e),{}),nn=(e,t)=>{const n=Qt(e,t);return void 0===n||""===n?[]:n.split(" ")},on=e=>void 0!==e.dom.classList,rn=e=>nn(e,"class"),sn=(e,t)=>((e,t,n)=>{const o=nn(e,t).concat([n]);return Yt(e,t,o.join(" ")),!0})(e,"class",t),an=(e,t)=>((e,t,n)=>{const o=X(nn(e,t),e=>e!==n);return o.length>0?Yt(e,t,o.join(" ")):en(e,t),!1})(e,"class",t),ln=(e,t)=>{on(e)?e.dom.classList.add(t):sn(e,t)},cn=e=>{0===(on(e)?e.dom.classList:rn(e)).length&&en(e,"class")},dn=(e,t)=>{on(e)?e.dom.classList.remove(t):an(e,t),cn(e)},un=(e,t)=>on(e)&&e.dom.classList.contains(t),fn=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},mn=(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return fn(n.childNodes[0])},pn=(e,t)=>{const n=(t||document).createElement(e);return fn(n)},hn=(e,t)=>{const n=(t||document).createTextNode(e);return fn(n)},gn=fn,vn=(e,t)=>{const n=[],o=e=>(n.push(e),t(e));let r=t(e);do{r=r.bind(o)}while(r.isSome());return n},bn=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},yn=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,Cn=(e,t)=>e.dom===t.dom,_n=(e,t)=>{const n=e.dom,o=t.dom;return n!==o&&n.contains(o)},wn=e=>gn(e.dom.ownerDocument),xn=e=>Wt(e)?e:wn(e),En=e=>gn(xn(e).dom.defaultView),Sn=e=>M.from(e.dom.parentNode).map(gn),kn=e=>M.from(e.dom.parentElement).map(gn),Nn=(e,t)=>{const n=_(t)?t:P;let o=e.dom;const r=[];for(;null!=o.parentNode;){const e=o.parentNode,t=gn(e);if(r.push(t),!0===n(t))break;o=e}return r},Tn=e=>M.from(e.dom.previousSibling).map(gn),An=e=>M.from(e.dom.nextSibling).map(gn),Rn=e=>oe(vn(e,Tn)),On=e=>vn(e,An),Dn=e=>$(e.dom.childNodes,gn),Bn=(e,t)=>M.from(e.dom.childNodes[t]).map(gn),Ln=e=>Bn(e,0),Pn=e=>Bn(e,e.dom.childNodes.length-1),In=e=>e.dom.childNodes.length,Mn=e=>Vt(e)&&C(e.dom.host),jn=_(Element.prototype.attachShadow)&&_(Node.prototype.getRootNode),Fn=N(jn),Hn=jn?e=>gn(e.dom.getRootNode()):xn,Un=e=>Mn(e)?e:(e=>{const t=e.dom.head;if(null==t)throw new Error("Head is not available yet");return gn(t)})(xn(e)),qn=e=>gn(e.dom.host),zn=e=>{if(Fn()&&C(e.target)){const t=gn(e.target);if(zt(t)&&$n(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return le(t)}}return M.from(e.target)},$n=e=>C(e.dom.shadowRoot),Wn=e=>{const t=$t(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return(e=>{const t=Hn(e);return Mn(t)?M.some(t):M.none()})(gn(t)).fold(()=>n.body.contains(t),k(Wn,qn))};var Vn=(e,t,n,o,r)=>e(n,o)?M.some(n):_(r)&&r(n)?M.none():t(n,o,r);const Kn=(e,t,n)=>{let o=e.dom;const r=_(n)?n:P;for(;o.parentNode;){o=o.parentNode;const e=gn(o);if(t(e))return M.some(e);if(r(e))break}return M.none()},Xn=(e,t,n)=>Vn((e,t)=>t(e),Kn,e,t,n),Yn=(e,t,n)=>Kn(e,e=>bn(e,t),n),Gn=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return yn(n)?M.none():M.from(n.querySelector(e)).map(gn)})(t,e),Qn=(e,t,n)=>Vn((e,t)=>bn(e,t),Yn,e,t,n),Jn=(e,t=!1)=>{return Wn(e)?e.dom.isContentEditable:(n=e,Qn(n,"[contenteditable]")).fold(N(t),e=>"true"===Zn(e));var n},Zn=e=>e.dom.contentEditable,eo=e=>void 0!==e.style&&_(e.style.getPropertyValue),to=(e,t,n)=>{if(!f(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);eo(e)&&e.style.setProperty(t,n)},no=(e,t,n)=>{to(e.dom,t,n)},oo=(e,t)=>{const n=e.dom;pe(t,(e,t)=>{to(n,t,e)})},ro=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||Wn(e)?o:io(n,t)},io=(e,t)=>eo(e)?e.style.getPropertyValue(t):"",so=(e,t)=>{const n=io(e.dom,t);return M.from(n).filter(e=>e.length>0)},ao=e=>{const t={},n=e.dom;if(eo(n))for(let o=0;o<n.style.length;o++){const e=n.style.item(o);t[e]=n.style[e]}return t},lo=(e,t)=>{((e,t)=>{eo(e)&&e.style.removeProperty(t)})(e.dom,t),Lt(Jt(e,"style").map(We),"")&&en(e,"style")},co=(e,t)=>{Sn(e).each(n=>{n.dom.insertBefore(t.dom,e.dom)})},uo=(e,t)=>{An(e).fold(()=>{Sn(e).each(e=>{mo(e,t)})},e=>{co(e,t)})},fo=(e,t)=>{Ln(e).fold(()=>{mo(e,t)},n=>{e.dom.insertBefore(t.dom,n.dom)})},mo=(e,t)=>{e.dom.appendChild(t.dom)},po=(e,t)=>{co(e,t),mo(t,e)},ho=(e,t)=>{W(t,t=>{mo(e,t)})},go=e=>{e.dom.textContent="",W(Dn(e),e=>{vo(e)})},vo=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},bo=e=>{const t=Dn(e);var n,o;t.length>0&&(n=e,W(o=t,(e,t)=>{uo(0===t?n:o[t-1],e)})),vo(e)},yo=e=>$(e,gn),Co=e=>e.dom.innerHTML,_o=(e,t)=>{const n=wn(e).dom,o=gn(n.createDocumentFragment()),r=((e,t)=>{const n=(t||document).createElement("div");return n.innerHTML=e,Dn(gn(n))})(t,n);ho(o,r),go(e),mo(e,o)},wo=(e,t,n,o)=>{e.dom.removeEventListener(t,n,o)},xo=(e,t)=>({left:e,top:t,translate:(n,o)=>xo(e+n,t+o)}),Eo=xo,So=(e,t)=>void 0!==e?e:void 0!==t?t:0,ko=e=>{const t=e.dom,n=t.ownerDocument.body;return n===t?Eo(n.offsetLeft,n.offsetTop):Wn(e)?(e=>{const t=e.getBoundingClientRect();return Eo(t.left,t.top)})(t):Eo(0,0)},No=e=>{const t=void 0!==e?e.dom:document;return Eo(t.body.scrollLeft||t.documentElement.scrollLeft,t.body.scrollTop||t.documentElement.scrollTop)},To=(e,t)=>{wt().browser.isSafari()&&_(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},Ao=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),Ro=e=>{const t=void 0===e?window:e,n=No(gn(t.document));return(e=>{const t=void 0===e?window:e;return wt().browser.isFirefox()?M.none():M.from(t.visualViewport)})(t).fold(()=>{const e=t.document.documentElement;return Ao(n.left,n.top,e.clientWidth,e.clientHeight)},e=>Ao(Math.max(e.pageLeft,n.left),Math.max(e.pageTop,n.top),e.width,e.height))},Oo=(e,t)=>{let n=[];return W(Dn(e),e=>{t(e)&&(n=n.concat([e])),n=n.concat(Oo(e,t))}),n},Do=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return yn(n)?[]:$(n.querySelectorAll(e),gn)})(t,e),Bo=(e,t,n)=>Yn(e,t,n).isSome();class Lo{constructor(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node}prev(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node}prev2(e){return this.node=this.findPreviousNode(this.node,e),this.node}findSibling(e,t,n,o){if(e){if(!o&&e[t])return e[t];if(e!==this.rootNode){let t=e[n];if(t)return t;for(let o=e.parentNode;o&&o!==this.rootNode;o=o.parentNode)if(t=o[n],t)return t}}}findPreviousNode(e,t){if(e){const n=e.previousSibling;if(this.rootNode&&n===this.rootNode)return;if(n){if(!t)for(let e=n.lastChild;e;e=e.lastChild)if(!e.lastChild)return e;return n}const o=e.parentNode;if(o&&o!==this.rootNode)return o}}}const Po=e=>t=>!!t&&t.nodeType===e,Io=e=>!!e&&!Object.getPrototypeOf(e),Mo=Po(1),jo=e=>{const t=e.toLowerCase();return e=>C(e)&&e.nodeName.toLowerCase()===t},Fo=e=>{const t=e.map(e=>e.toLowerCase());return e=>{if(e&&e.nodeName){const n=e.nodeName.toLowerCase();return q(t,n)}return!1}},Ho=(e,t)=>{const n=t.toLowerCase().split(" ");return t=>{if(Mo(t)){const o=t.ownerDocument.defaultView;if(o)for(let r=0;r<n.length;r++){const i=o.getComputedStyle(t,null);if((i?i.getPropertyValue(e):null)===n[r])return!0}}return!1}},Uo=e=>t=>Mo(t)&&t.hasAttribute(e),qo=e=>Mo(e)&&e.hasAttribute("data-mce-bogus"),zo=e=>Mo(e)&&"TABLE"===e.tagName,$o=e=>t=>{if(Mo(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1},Wo=Fo(["textarea","input"]),Vo=Po(3),Ko=Po(4),Xo=Po(7),Yo=Po(8),Go=Po(9),Qo=Po(11),Jo=jo("br"),Zo=jo("img"),er=$o("true"),tr=$o("false"),nr=Fo(["td","th"]),or=Fo(["td","th","caption"]),rr=Fo(["video","audio","object","embed"]),ir=jo("li"),sr="\ufeff",ar="Â ",lr=e=>e===sr,cr=((e,t)=>{const n=t=>e(t)?M.from(t.dom.nodeValue):M.none();return{get:t=>{if(!e(t))throw new Error("Can only get text value of a text node");return n(t).getOr("")},getOption:n,set:(t,n)=>{if(!e(t))throw new Error("Can only set raw text value of a text node");t.dom.nodeValue=n}}})($t),dr=e=>cr.get(e),ur=e=>cr.getOption(e),fr=["pre"].concat(["h1","h2","h3","h4","h5","h6"]),mr=e=>{let t;return n=>(t=t||ie(e,I),xe(t,Ht(n)))},pr=mr(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),hr=e=>zt(e)&&!pr(e),gr=e=>zt(e)&&"br"===Ht(e),vr=mr(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),br=mr(["ul","ol","dl"]),yr=mr(["li","dd","dt"]),Cr=mr(["thead","tbody","tfoot"]),_r=mr(["td","th"]),wr=mr(["pre","script","textarea","style"]),xr=mr(fr),Er=e=>xr(e)||hr(e),Sr=()=>{const e=pn("br");return Yt(e,"data-mce-bogus","1"),e},kr=e=>{go(e),mo(e,Sr())},Nr=e=>{Pn(e).each(t=>{Tn(t).each(n=>{pr(e)&&gr(t)&&pr(n)&&vo(t)})})},Tr=sr,Ar=lr,Rr=e=>e.replace(/\uFEFF/g,""),Or=Mo,Dr=Vo,Br=e=>(Dr(e)&&(e=e.parentNode),Or(e)&&e.hasAttribute("data-mce-caret")),Lr=e=>Dr(e)&&Ar(e.data),Pr=e=>Br(e)||Lr(e),Ir=e=>e.firstChild!==e.lastChild||!Jo(e.firstChild),Mr=e=>{const t=e.container();return!!Vo(t)&&(t.data.charAt(e.offset())===Tr||e.isAtStart()&&Lr(t.previousSibling))},jr=e=>{const t=e.container();return!!Vo(t)&&(t.data.charAt(e.offset()-1)===Tr||e.isAtEnd()&&Lr(t.nextSibling))},Fr=e=>Dr(e)&&e.data[0]===Tr,Hr=e=>Dr(e)&&e.data[e.data.length-1]===Tr,Ur=e=>e&&e.hasAttribute("data-mce-caret")?((e=>{var t;const n=e.getElementsByTagName("br"),o=n[n.length-1];qo(o)&&(null===(t=o.parentNode)||void 0===t||t.removeChild(o))})(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,qr=e=>Br(e.startContainer),zr=er,$r=tr,Wr=Jo,Vr=Vo,Kr=Fo(["script","style","textarea"]),Xr=Fo(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Yr=Fo(["table"]),Gr=Pr,Qr=e=>!Gr(e)&&(Vr(e)?!Kr(e.parentNode):Xr(e)||Wr(e)||Yr(e)||Jr(e)),Jr=e=>!(e=>Mo(e)&&"true"===e.getAttribute("unselectable"))(e)&&$r(e),Zr=(e,t)=>Qr(e)&&((e,t)=>{for(let n=e.parentNode;n&&n!==t;n=n.parentNode){if(Jr(n))return!1;if(zr(n))return!0}return!0})(e,t),ei=/^[ \t\r\n]*$/,ti=e=>ei.test(e),ni=e=>"\n"===e||"\r"===e,oi=(e,t=4,n=!0,o=!0)=>{const r=((e,t)=>t<=0?"":new Array(t+1).join(" "))(0,t),i=e.replace(/\t/g,r);return G(i,(e,t)=>(e=>-1!==" \f\t\v".indexOf(e))(t)||t===ar?e.pcIsSpace||""===e.str&&n||e.str.length===i.length-1&&o||((e,t)=>t<e.length&&t>=0&&ni(e[t]))(i,e.str.length+1)?{pcIsSpace:!1,str:e.str+ar}:{pcIsSpace:!0,str:e.str+" "}:{pcIsSpace:ni(t),str:e.str+t},{pcIsSpace:!1,str:""}).str},ri=(e,t)=>Qr(e)&&!((e,t)=>Vo(e)&&ti(e.data)&&!((e,t)=>{const n=gn(t),o=gn(e);return Bo(o,"pre,code",R(Cn,n))})(e,t))(e,t)||(e=>Mo(e)&&"A"===e.nodeName&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")))(e)||ii(e),ii=Uo("data-mce-bookmark"),si=Uo("data-mce-bogus"),ai=e=>Mo(e)&&"all"===e.getAttribute("data-mce-bogus"),li=(e,t=!0)=>((e,t)=>{let n=0;if(ri(e,e))return!1;{let o=e.firstChild;if(!o)return!0;const r=new Lo(o,e);do{if(t){if(ai(o)){o=r.next(!0);continue}if(si(o)){o=r.next();continue}}if(Jo(o))n++,o=r.next();else{if(ri(o,e))return!1;o=r.next()}}while(o);return n<=1}})(e.dom,t),ci="data-mce-block",di=e=>(e=>X(fe(e),e=>!/[A-Z]/.test(e)))(e).join(","),ui=(e,t)=>C(t.querySelector(e))?(t.setAttribute(ci,"true"),"inline-boundary"===t.getAttribute("data-mce-selected")&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(ci),!1),fi=(e,t)=>{const n=di(e.getTransparentElements()),o=di(e.getBlockElements());return X(t.querySelectorAll(n),e=>ui(o,e))},mi=(e,t)=>{var n;const o=t?"lastChild":"firstChild";for(let r=e[o];r;r=r[o])if(li(gn(r)))return void(null===(n=r.parentNode)||void 0===n||n.removeChild(r))},pi=(e,t)=>{const n=fi(e,t);((e,t,n)=>{const o=e.getBlockElements(),r=gn(t),i=e=>Ht(e)in o,s=e=>Cn(e,r);W(yo(n),t=>{Kn(t,i,s).each(n=>{const o=((t,o)=>X(Dn(t),t=>i(t)&&!e.isValidChild(Ht(n),Ht(t))))(t);if(o.length>0){const t=kn(n);W(o,e=>{Kn(e,i,s).each(t=>{((e,t)=>{const n=document.createRange(),o=e.parentNode;if(o){n.setStartBefore(e),n.setEndBefore(t);const r=n.extractContents();mi(r,!0),n.setStartAfter(t),n.setEndAfter(e);const i=n.extractContents();mi(i,!1),li(gn(r))||o.insertBefore(r,e),li(gn(t))||o.insertBefore(t,e),li(gn(i))||o.insertBefore(i,e),o.removeChild(e)}})(t.dom,e.dom)})}),t.each(t=>fi(e,t.dom))}})})})(e,t,n),((e,t,n)=>{W([...n,...yi(e,t)?[t]:[]],t=>W(Do(gn(t),t.nodeName.toLowerCase()),t=>{Ci(e,t.dom)&&bo(t)}))})(e,t,n)},hi=(e,t)=>{if(bi(e,t)){const n=di(e.getBlockElements());ui(n,t)}},gi=e=>e.hasAttribute(ci),vi=(e,t)=>xe(e.getTransparentElements(),t),bi=(e,t)=>Mo(t)&&vi(e,t.nodeName),yi=(e,t)=>bi(e,t)&&gi(t),Ci=(e,t)=>bi(e,t)&&!gi(t),_i=(e,t)=>1===t.type&&vi(e,t.name)&&b(t.attr(ci)),wi=wt().browser,xi=e=>J(e,zt),Ei=(e,t)=>e.children&&q(e.children,t),Si=(e,t={})=>{let n=0;const o={},r=gn(e),i=xn(r),s=e=>new Promise((s,a)=>{let l;const c=Bt._addCacheSuffix(e),d=(e=>we(o,e).getOrThunk(()=>({id:"mce-u"+n++,passed:[],failed:[],count:0})))(c);o[c]=d,d.count++;const u=(e,t)=>{W(e,L),d.status=t,d.passed=[],d.failed=[],l&&(l.onload=null,l.onerror=null,l=null)},f=()=>u(d.passed,2),m=()=>u(d.failed,3);if(s&&d.passed.push(s),a&&d.failed.push(a),1===d.status)return;if(2===d.status)return void f();if(3===d.status)return void m();d.status=1;const p=pn("link",i.dom);var h;Gt(p,{rel:"stylesheet",type:"text/css",id:d.id}),t.contentCssCors&&Yt(p,"crossOrigin","anonymous"),t.referrerPolicy&&Yt(p,"referrerpolicy",t.referrerPolicy),l=p.dom,l.onload=f,l.onerror=m,h=p,mo(Un(r),h),Yt(p,"href",c)}),a=e=>{const t=Bt._addCacheSuffix(e);we(o,t).each(e=>{0==--e.count&&(delete o[t],(e=>{const t=Un(r);Gn(t,"#"+e).each(vo)})(e.id))})};return{load:s,loadAll:e=>Promise.allSettled($(e,e=>s(e).then(N(e)))).then(e=>{const t=K(e,e=>"fulfilled"===e.status);return t.fail.length>0?Promise.reject($(t.fail,e=>e.reason)):$(t.pass,e=>e.value)}),unload:a,unloadAll:e=>{W(e,e=>{a(e)})},_setReferrerPolicy:e=>{t.referrerPolicy=e},_setContentCssCors:e=>{t.contentCssCors=e}}},ki=(()=>{const e=new WeakMap;return{forElement:(t,n)=>{const o=Hn(t).dom;return M.from(e.get(o)).getOrThunk(()=>{const t=Si(o,n);return e.set(o,t),t})}}})(),Ni=(e,t)=>C(e)&&(ri(e,t)||hr(gn(e))),Ti=e=>(e=>"span"===e.nodeName.toLowerCase())(e)&&"bookmark"===e.getAttribute("data-mce-type"),Ai=(e,t,n)=>{var o;const r=n||t;if(Mo(t)&&Ti(t))return t;const i=t.childNodes;for(let s=i.length-1;s>=0;s--)Ai(e,i[s],r);if(Mo(t)){const e=t.childNodes;1===e.length&&Ti(e[0])&&(null===(o=t.parentNode)||void 0===o||o.insertBefore(e[0],t))}return(e=>Qo(e)||Go(e))(t)||ri(t,r)||(e=>!!Mo(e)&&e.childNodes.length>0)(t)||((e,t)=>Vo(e)&&e.data.length>0&&((e,t)=>{const n=new Lo(e,t).prev(!1),o=new Lo(e,t).next(!1),r=b(n)||Ni(n,t),i=b(o)||Ni(o,t);return r&&i})(e,t))(t,r)||e.remove(t),t},Ri=Bt.makeMap,Oi=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Di=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Bi=/[<>&\"\']/g,Li=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Pi={128:"â¬",130:"â",131:"Æ",132:"â",133:"â¦",134:"â ",135:"â¡",136:"Ë",137:"â°",138:"Å ",139:"â¹",140:"Å",142:"Å½",145:"â",146:"â",147:"â",148:"â",149:"â¢",150:"â",151:"â",152:"Ë",153:"â¢",154:"Å¡",155:"âº",156:"Å",158:"Å¾",159:"Å¸"},Ii={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Mi={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},ji=(e,t)=>{const n={};if(e){const o=e.split(",");t=t||10;for(let e=0;e<o.length;e+=2){const r=String.fromCharCode(parseInt(o[e],t));if(!Ii[r]){const t="&"+o[e+1]+";";n[r]=t,n[t]=r}}return n}},Fi=ji("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Hi=(e,t)=>e.replace(t?Oi:Di,e=>Ii[e]||e),Ui=(e,t)=>e.replace(t?Oi:Di,e=>e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":Ii[e]||"&#"+e.charCodeAt(0)+";"),qi=(e,t,n)=>{const o=n||Fi;return e.replace(t?Oi:Di,e=>Ii[e]||o[e]||e)},zi={encodeRaw:Hi,encodeAllRaw:e=>(""+e).replace(Bi,e=>Ii[e]||e),encodeNumeric:Ui,encodeNamed:qi,getEncodeFunc:(e,t)=>{const n=ji(t)||Fi,o=Ri(e.replace(/\+/g,","));return o.named&&o.numeric?(e,t)=>e.replace(t?Oi:Di,e=>void 0!==Ii[e]?Ii[e]:void 0!==n[e]?n[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"):o.named?t?(e,t)=>qi(e,t,n):qi:o.numeric?Ui:Hi},decode:e=>e.replace(Li,(e,t)=>t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):Pi[t]||String.fromCharCode(t):Mi[e]||Fi[e]||(e=>{const t=pn("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e})(e))},$i={},Wi={},Vi={},Ki=Bt.makeMap,Xi=Bt.each,Yi=Bt.extend,Gi=Bt.explode,Qi=Bt.inArray,Ji=(e,t)=>(e=Bt.trim(e))?e.split(t||" "):[],Zi=(e,t={})=>{const n=Ki(e," ",Ki(e.toUpperCase()," "));return Yi(n,t)},es=e=>Zi("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),ts=(e,t)=>{if(e){const n={};return f(e)&&(e={"*":e}),Xi(e,(e,o)=>{n[o]=n[o.toUpperCase()]="map"===t?Ki(e,/[, ]/):Gi(e,/[, ]/)}),n}},ns=(e={})=>{var t;const n={},o={};let r=[];const i={},s={},a=(t,n,o)=>{const r=e[t];if(r)return Ki(r,/[, ]/,Ki(r.toUpperCase(),/[, ]/));{let e=Wi[t];return e||(e=Zi(n,o),Wi[t]=e),e}},l=null!==(t=e.schema)&&void 0!==t?t:"html5",c=(e=>{const t={};let n,o,r,i;const s=(e,o="",r="")=>{const i=Ji(r),s=Ji(e);let a=s.length;for(;a--;){const e=Ji([n,o].join(" "));t[s[a]]={attributes:ie(e,()=>({})),attributesOrder:e,children:ie(i,N(Vi))}}},a=(e,n)=>{const o=Ji(e),r=Ji(n);let i=o.length;for(;i--;){const e=t[o[i]];for(let t=0,n=r.length;t<n;t++)e.attributes[r[t]]={},e.attributesOrder.push(r[t])}};if($i[e])return $i[e];if(n="id accesskey class dir lang style tabindex title role",o="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(n+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",o+=" article aside details dialog figure main header footer hgroup section nav a ins del canvas map",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e){n+=" xml:lang";const e="acronym applet basefont big font strike tt";r=[r,e].join(" "),Xi(Ji(e),e=>{s(e,"",r)});const t="center dir isindex noframes";o=[o,t].join(" "),i=[o,r].join(" "),Xi(Ji(t),e=>{s(e,"",i)})}return i=i||[o,r].join(" "),s("html","manifest","head body"),s("head","","base command link meta noscript script style title"),s("title hr noscript br"),s("base","href target"),s("link","href rel media hreflang type sizes hreflang"),s("meta","name http-equiv content charset"),s("style","media type scoped"),s("script","src async defer type charset"),s("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",i),s("address dt dd div caption","",i),s("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),s("blockquote","cite",i),s("ol","reversed start type","li"),s("ul","","li"),s("li","value",i),s("dl","","dt dd"),s("a","href target rel media hreflang type",i),s("q","cite",r),s("ins del","cite datetime",i),s("img","src sizes srcset alt usemap ismap width height"),s("iframe","src name width height",i),s("embed","src type width height"),s("object","data type typemustmatch name usemap form width height",[i,"param"].join(" ")),s("param","name value"),s("map","name",[i,"area"].join(" ")),s("area","alt coords shape href target rel media hreflang type"),s("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),s("colgroup","span","col"),s("col","span"),s("tbody thead tfoot","","tr"),s("tr","","td th"),s("td","colspan rowspan headers",i),s("th","colspan rowspan headers scope abbr",i),s("form","accept-charset action autocomplete enctype method name novalidate target",i),s("fieldset","disabled form name",[i,"legend"].join(" ")),s("label","form for",r),s("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),s("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?i:r),s("select","disabled form multiple name required size","option optgroup"),s("optgroup","disabled label","option"),s("option","disabled label selected value"),s("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),s("menu","type label",[i,"li"].join(" ")),s("noscript","",i),"html4"!==e&&(s("wbr"),s("ruby","",[r,"rt rp"].join(" ")),s("figcaption","",i),s("mark rt rp summary bdi","",r),s("canvas","width height",i),s("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[i,"track source"].join(" ")),s("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[i,"track source"].join(" ")),s("picture","","img source"),s("source","src srcset type media sizes"),s("track","kind src srclang label default"),s("datalist","",[r,"option"].join(" ")),s("article section nav aside main header footer","",i),s("hgroup","","h1 h2 h3 h4 h5 h6"),s("figure","",[i,"figcaption"].join(" ")),s("time","datetime",r),s("dialog","open",i),s("command","type label icon disabled checked radiogroup command"),s("output","for form name",r),s("progress","value max",r),s("meter","value min max low high optimum",r),s("details","open",[i,"summary"].join(" ")),s("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(a("script","language xml:space"),a("style","xml:space"),a("object","declare classid code codebase codetype archive standby align border hspace vspace"),a("embed","align name hspace vspace"),a("param","valuetype type"),a("a","charset name rev shape coords"),a("br","clear"),a("applet","codebase archive code object alt name width height align hspace vspace"),a("img","name longdesc align border hspace vspace"),a("iframe","longdesc frameborder marginwidth marginheight scrolling align"),a("font basefont","size color face"),a("input","usemap align"),a("select"),a("textarea"),a("h1 h2 h3 h4 h5 h6 div p legend caption","align"),a("ul","type compact"),a("li","type"),a("ol dl menu dir","compact"),a("pre","width xml:space"),a("hr","align noshade size width"),a("isindex","prompt"),a("table","summary width frame rules cellspacing cellpadding align bgcolor"),a("col","width align char charoff valign"),a("colgroup","width align char charoff valign"),a("thead","align char charoff valign"),a("tr","align char charoff valign bgcolor"),a("th","axis align char charoff valign nowrap bgcolor width height"),a("form","accept"),a("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),a("tfoot","align char charoff valign"),a("tbody","align char charoff valign"),a("area","nohref"),a("body","background bgcolor text link vlink alink")),"html4"!==e&&(a("input button select textarea","autofocus"),a("input textarea","placeholder"),a("a","download"),a("link script img","crossorigin"),a("img","loading"),a("iframe","sandbox seamless allow allowfullscreen loading")),"html4"!==e&&W([t.video,t.audio],e=>{delete e.children.audio,delete e.children.video}),Xi(Ji("a form meter progress dfn"),e=>{t[e]&&delete t[e].children[e]}),delete t.caption.children.table,delete t.script,$i[e]=t,t})(l);!1===e.verify_html&&(e.valid_elements="*[*]");const d=ts(e.valid_styles),u=ts(e.invalid_styles,"map"),f=ts(e.valid_classes,"map"),m=a("whitespace_elements","pre script noscript style textarea video audio iframe object code"),p=a("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),h=a("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),g=a("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),v="td th iframe video audio object script code",b=a("non_empty_elements",v+" pre",h),y=a("move_caret_before_on_enter_elements",v+" table",h),C=a("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),_=a("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",C),w=a("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),x=a("transparent_elements","a ins del canvas map");Xi("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),e=>{s[e]=new RegExp("</"+e+"[^>]*>","gi")});const E=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),S=e=>{const t=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,o=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,i=/[*?+]/;if(e){const s=Ji(e,",");let a,l;n["@"]&&(a=n["@"].attributes,l=n["@"].attributesOrder);for(let e=0,c=s.length;e<c;e++){let c=t.exec(s[e]);if(c){const e=c[1],t=c[2],s=c[3],d=c[5],u={},f=[],m={attributes:u,attributesOrder:f};if("#"===e&&(m.paddEmpty=!0),"-"===e&&(m.removeEmpty=!0),"!"===c[4]&&(m.removeEmptyAttrs=!0),a&&(pe(a,(e,t)=>{u[t]=e}),l&&f.push(...l)),d){const e=Ji(d,"|");for(let t=0,n=e.length;t<n;t++)if(c=o.exec(e[t]),c){const e={},t=c[1],n=c[2].replace(/[\\:]:/g,":"),o=c[3],r=c[4];if("!"===t&&(m.attributesRequired=m.attributesRequired||[],m.attributesRequired.push(n),e.required=!0),"-"===t){delete u[n],f.splice(Qi(f,n),1);continue}if(o&&("="===o&&(m.attributesDefault=m.attributesDefault||[],m.attributesDefault.push({name:n,value:r}),e.defaultValue=r),"~"===o&&(m.attributesForced=m.attributesForced||[],m.attributesForced.push({name:n,value:r}),e.forcedValue=r),"<"===o&&(e.validValues=Ki(r,"?"))),i.test(n)){const t=e;m.attributePatterns=m.attributePatterns||[],t.pattern=E(n),m.attributePatterns.push(t)}else u[n]||f.push(n),u[n]=e}}if(a||"@"!==t||(a=u,l=f),s&&(m.outputName=t,n[s]=m),i.test(t)){const e=m;e.pattern=E(t),r.push(e)}else n[t]=m}}}},k=e=>{r=[],W(fe(n),e=>{delete n[e]}),S(e),Xi(c,(e,t)=>{o[t]=e.children})},T=e=>{const t=/^(~)?(.+)$/;e&&(delete Wi.text_block_elements,delete Wi.block_elements,Xi(Ji(e,","),e=>{const r=t.exec(e);if(r){const e="~"===r[1],t=e?"span":"div",s=r[2];if(o[s]=o[t],i[s]=t,b[s.toUpperCase()]={},b[s]={},e||(_[s.toUpperCase()]={},_[s]={}),!n[s]){let e=n[t];e=Yi({},e),delete e.removeEmptyAttrs,delete e.removeEmpty,n[s]=e}Xi(o,(e,n)=>{e[t]&&(o[n]=e=Yi({},o[n]),e[s]=e[t])})}}))},A=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;delete $i[l],e&&Xi(Ji(e,","),e=>{const n=t.exec(e);if(n){const e=n[1];let t;t=e?o[n[2]]:o[n[2]]={"#comment":{}},t=o[n[2]],Xi(Ji(n[3],"|"),n=>{"-"===e?delete t[n]:t[n]={}})}})},R=e=>{const t=n[e];if(t)return t;let o=r.length;for(;o--;){const t=r[o];if(t.pattern.test(e))return t}};e.valid_elements?k(e.valid_elements):(Xi(c,(e,t)=>{n[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},o[t]=e.children}),Xi(Ji("strong/b em/i"),e=>{const t=Ji(e,"/");n[t[1]].outputName=t[0]}),Xi(w,(t,o)=>{n[o]&&(e.padd_empty_block_inline_children&&(n[o].paddInEmptyBlock=!0),n[o].removeEmpty=!0)}),Xi(Ji("ol ul blockquote a table tbody"),e=>{n[e]&&(n[e].removeEmpty=!0)}),Xi(Ji("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),e=>{n[e].paddEmpty=!0}),Xi(Ji("span"),e=>{n[e].removeEmptyAttrs=!0})),T(e.custom_elements),A(e.valid_children),S(e.extended_valid_elements),A("+ol[ul|ol],+ul[ul|ol]"),Xi({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(e,t)=>{n[t]&&(n[t].parentsRequired=Ji(e))}),e.invalid_elements&&Xi(Gi(e.invalid_elements),e=>{n[e]&&delete n[e]}),R("span")||S("span[!data-mce-type|*]");const O=N(d),D=N(u),B=N(f),L=N(g),P=N(_),I=N(C),M=N(w),j=N(Object.seal(h)),F=N(p),H=N(b),U=N(y),q=N(m),z=N(x),$=N(Object.seal(s)),V=N(i);return{type:l,children:o,elements:n,getValidStyles:O,getValidClasses:B,getBlockElements:P,getInvalidStyles:D,getVoidElements:j,getTextBlockElements:I,getTextInlineElements:M,getBoolAttrs:L,getElementRule:R,getSelfClosingElements:F,getNonEmptyElements:H,getMoveCaretBeforeOnEnterElements:U,getWhitespaceElements:q,getTransparentElements:z,getSpecialElements:$,isValidChild:(e,t)=>{const n=o[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},isValid:(e,t)=>{const n=R(e);if(n){if(!t)return!0;{if(n.attributes[t])return!0;const e=n.attributePatterns;if(e){let n=e.length;for(;n--;)if(e[n].pattern.test(t))return!0}}}return!1},getCustomElements:V,addValidElements:S,setValidElements:k,addCustomElements:T,addValidChildren:A}},os=(e={},t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,o=/\s*([^:]+):\s*([^;]+);?/g,r=/\s+$/,i={};let s,a;t&&(s=t.getValidStyles(),a=t.getInvalidStyles());const l="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(let d=0;d<l.length;d++)i[l[d]]="\ufeff"+d,i["\ufeff"+d]=l[d];const c={parse:t=>{const s={};let a=!1;const l=e.url_converter,d=e.url_converter_scope||c,u=(e,t,n)=>{const o=s[e+"-top"+t];if(!o)return;const r=s[e+"-right"+t];if(!r)return;const i=s[e+"-bottom"+t];if(!i)return;const a=s[e+"-left"+t];if(!a)return;const l=[o,r,i,a];let c=l.length-1;for(;c--&&l[c]===l[c+1];);c>-1&&n||(s[e+t]=-1===c?l[0]:l.join(" "),delete s[e+"-top"+t],delete s[e+"-right"+t],delete s[e+"-bottom"+t],delete s[e+"-left"+t])},f=e=>{const t=s[e];if(!t)return;const n=t.split(" ");let o=n.length;for(;o--;)if(n[o]!==n[0])return!1;return s[e]=n[0],!0},m=e=>(a=!0,i[e]),p=(e,t)=>(a&&(e=e.replace(/\uFEFF[0-9]/g,e=>i[e])),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e),h=e=>String.fromCharCode(parseInt(e.slice(1),16)),g=e=>e.replace(/\\[0-9a-f]+/gi,h),v=(t,n,o,r,i,s)=>{if(i=i||s)return"'"+(i=p(i)).replace(/\'/g,"\\'")+"'";if(n=p(n||o||r||""),!e.allow_script_urls){const t=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(t))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(t))return""}return l&&(n=l.call(d,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){let i;for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,m).replace(/\"[^\"]+\"|\'[^\']+\'/g,e=>e.replace(/[;:]/g,m));i=o.exec(t);){o.lastIndex=i.index+i[0].length;let t=i[1].replace(r,"").toLowerCase(),l=i[2].replace(r,"");if(t&&l){if(t=g(t),l=g(l),-1!==t.indexOf("\ufeff")||-1!==t.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===t||/expression\s*\(|\/\*|\*\//.test(l)))continue;"font-weight"===t&&"700"===l?l="bold":"color"!==t&&"background-color"!==t||(l=l.toLowerCase()),l=l.replace(n,v),s[t]=a?p(l,!0):l}}u("border","",!0),u("border","-width"),u("border","-color"),u("border","-style"),u("padding",""),u("margin",""),y="border-style",C="border-color",f(b="border-width")&&f(y)&&f(C)&&(s.border=s[b]+" "+s[y]+" "+s[C],delete s[b],delete s[y],delete s[C]),"medium none"===s.border&&delete s.border,"none"===s["border-image"]&&delete s["border-image"]}var b,y,C;return s},serialize:(e,t)=>{let n="";const o=(t,o)=>{const r=o[t];if(r)for(let i=0,s=r.length;i<s;i++){const t=r[i],o=e[t];o&&(n+=(n.length>0?" ":"")+t+": "+o+";")}};return t&&s?(o("*",s),o(t,s)):pe(e,(e,o)=>{e&&((e,t)=>{if(!a||!t)return!0;let n=a["*"];return!(n&&n[e]||(n=a[t],n&&n[e]))})(o,t)&&(n+=(n.length>0?" ":"")+o+": "+e+";")}),n}};return c},rs={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},is=(e,t)=>{const n=null!=t?t:{};for(const o in e)xe(rs,o)||(n[o]=e[o]);return C(e.composedPath)&&(n.composedPath=()=>e.composedPath()),n},ss=(e,t,n,o)=>{var r;const i=is(t,o);return i.type=e,y(i.target)&&(i.target=null!==(r=i.srcElement)&&void 0!==r?r:n),(e=>y(e.preventDefault)||(e=>e instanceof Event||_(e.initEvent))(e))(t)&&(i.preventDefault=()=>{i.defaultPrevented=!0,i.isDefaultPrevented=I,_(t.preventDefault)&&t.preventDefault()},i.stopPropagation=()=>{i.cancelBubble=!0,i.isPropagationStopped=I,_(t.stopPropagation)&&t.stopPropagation()},i.stopImmediatePropagation=()=>{i.isImmediatePropagationStopped=I,i.stopPropagation()},(e=>e.isDefaultPrevented===I||e.isDefaultPrevented===P)(i)||(i.isDefaultPrevented=!0===i.defaultPrevented?I:P,i.isPropagationStopped=!0===i.cancelBubble?I:P,i.isImmediatePropagationStopped=P)),i},as=/^(?:mouse|contextmenu)|click/,ls=(e,t,n,o)=>{e.addEventListener(t,n,o||!1)},cs=(e,t,n,o)=>{e.removeEventListener(t,n,o||!1)},ds=(e,t)=>{const n=ss(e.type,e,document,t);if((e=>C(e)&&as.test(e.type))(e)&&b(e.pageX)&&!b(e.clientX)){const t=n.target.ownerDocument||document,o=t.documentElement,r=t.body,i=n;i.pageX=e.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),i.pageY=e.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)}return n},us=(e,t,n)=>{const o=e.document,r={type:"ready"};if(n.domLoaded)return void t(r);const i=()=>{cs(e,"DOMContentLoaded",i),cs(e,"load",i),n.domLoaded||(n.domLoaded=!0,t(r)),e=null};"complete"===o.readyState||"interactive"===o.readyState&&o.body?i():ls(e,"DOMContentLoaded",i),n.domLoaded||ls(e,"load",i)};class fs{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(e,t,n,o){const r=this;let i;const s=window,a=e=>{r.executeHandlers(ds(e||s.event),l)};if(!e||Vo(e)||Yo(e))return n;let l;e[r.expando]?l=e[r.expando]:(l=r.count++,e[r.expando]=l,r.events[l]={}),o=o||e;const c=t.split(" ");let d=c.length;for(;d--;){let t=c[d],u=a,f=!1,m=!1;"DOMContentLoaded"===t&&(t="ready"),r.domLoaded&&"ready"===t&&"complete"===e.readyState?n.call(o,ds({type:t})):(r.hasFocusIn||"focusin"!==t&&"focusout"!==t||(f=!0,m="focusin"===t?"focus":"blur",u=e=>{const t=ds(e||s.event);t.type="focus"===t.type?"focusin":"focusout",r.executeHandlers(t,l)}),i=r.events[l][t],i?"ready"===t&&r.domLoaded?n(ds({type:t})):i.push({func:n,scope:o}):(r.events[l][t]=i=[{func:n,scope:o}],i.fakeName=m,i.capture=f,i.nativeHandler=u,"ready"===t?us(e,u,r):ls(e,m||t,u,f)))}return e=i=null,n}unbind(e,t,n){if(!e||Vo(e)||Yo(e))return this;const o=e[this.expando];if(o){let r=this.events[o];if(t){const o=t.split(" ");let i=o.length;for(;i--;){const t=o[i],s=r[t];if(s){if(n){let e=s.length;for(;e--;)if(s[e].func===n){const n=s.nativeHandler,o=s.fakeName,i=s.capture,a=s.slice(0,e).concat(s.slice(e+1));a.nativeHandler=n,a.fakeName=o,a.capture=i,r[t]=a}}n&&0!==s.length||(delete r[t],cs(e,s.fakeName||t,s.nativeHandler,s.capture))}}}else pe(r,(t,n)=>{cs(e,t.fakeName||n,t.nativeHandler,t.capture)}),r={};for(const e in r)if(xe(r,e))return this;delete this.events[o];try{delete e[this.expando]}catch(t){e[this.expando]=null}}return this}fire(e,t,n){return this.dispatch(e,t,n)}dispatch(e,t,n){if(!e||Vo(e)||Yo(e))return this;const o=ds({type:t,target:e},n);do{const t=e[this.expando];t&&this.executeHandlers(o,t),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!o.isPropagationStopped());return this}clean(e){if(!e||Vo(e)||Yo(e))return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName){this.unbind(e);const t=e.getElementsByTagName("*");let n=t.length;for(;n--;)(e=t[n])[this.expando]&&this.unbind(e)}return this}destroy(){this.events={}}cancel(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}executeHandlers(e,t){const n=this.events[t],o=n&&n[e.type];if(o)for(let r=0,i=o.length;r<i;r++){const t=o[r];if(t&&!1===t.func.call(t.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}}}fs.Event=new fs;const ms=Bt.each,ps=Bt.grep,hs="data-mce-style",gs=Bt.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),vs=(e,t,n)=>{y(n)||""===n?en(e,t):Yt(e,t,n)},bs=e=>e.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),ys=(e,t)=>{let n=0;if(e)for(let o=e.nodeType,r=e.previousSibling;r;r=r.previousSibling){const e=r.nodeType;(!t||!Vo(r)||e!==o&&r.data.length)&&(n++,o=e)}return n},Cs=(e,t)=>{const n=Qt(t,"style"),o=e.serialize(e.parse(n),Ht(t));vs(t,hs,o)},_s=(e,t,n)=>{const o=bs(t);y(n)||""===n?lo(e,o):no(e,o,((e,t)=>w(e)?xe(gs,t)?e+"":e+"px":e)(n,o))},ws=(e,t={})=>{const n={},o=window,r={};let i=0;const s=ki.forElement(gn(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),a=[],l=t.schema?t.schema:ns({}),c=os({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),d=t.ownEvents?new fs:fs.Event,u=l.getBlockElements(),m=t=>t&&e&&f(t)?e.getElementById(t):t,p=e=>{const t=m(e);return C(t)?gn(t):null},g=(e,t,n="")=>{let o;const r=p(e);if(C(r)&&zt(r)){const e=Y[t];o=e&&e.get?e.get(r.dom,t):Qt(r,t)}return C(o)?o:n},v=e=>{const t=m(e);return y(t)?[]:t.attributes},b=(e,n,o)=>{O(e,e=>{if(Mo(e)){const r=gn(e),i=""===o?null:o,s=Qt(r,n),a=Y[n];a&&a.set?a.set(r.dom,i,n):vs(r,n,i),s!==i&&t.onSetAttrib&&t.onSetAttrib({attrElm:r.dom,attrName:n,attrValue:i})}})},w=()=>t.root_element||e.body,x=(t,n)=>((e,t,n)=>{let o=0,r=0;const i=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===ro(gn(e),"position")){const n=t.getBoundingClientRect();return o=n.left+(i.documentElement.scrollLeft||e.scrollLeft)-i.documentElement.clientLeft,r=n.top+(i.documentElement.scrollTop||e.scrollTop)-i.documentElement.clientTop,{x:o,y:r}}let s=t;for(;s&&s!==n&&s.nodeType&&!Ei(s,n);)o+=s.offsetLeft||0,r+=s.offsetTop||0,s=s.offsetParent;for(s=t.parentNode;s&&s!==n&&s.nodeType&&!Ei(s,n);)o-=s.scrollLeft||0,r-=s.scrollTop||0,s=s.parentNode;r+=(e=>wi.isFirefox()&&"table"===Ht(e)?xi(Dn(e)).filter(e=>"caption"===Ht(e)).bind(e=>xi(On(e)).map(t=>t.dom.offsetTop<=e.dom.offsetTop?-e.dom.offsetHeight:0)).getOr(0):0)(gn(t))}return{x:o,y:r}})(e.body,m(t),n),S=(e,t,n)=>{const o=m(e);if(!y(o)&&Mo(o))return n?ro(gn(o),bs(t)):("float"===(t=t.replace(/-(\D)/g,(e,t)=>t.toUpperCase()))&&(t="cssFloat"),o.style?o.style[t]:void 0)},k=e=>{const t=m(e);if(!t)return{w:0,h:0};let n=S(t,"width"),o=S(t,"height");return n&&-1!==n.indexOf("px")||(n="0"),o&&-1!==o.indexOf("px")||(o="0"),{w:parseInt(n,10)||t.offsetWidth||t.clientWidth,h:parseInt(o,10)||t.offsetHeight||t.clientHeight}},T=(e,t)=>{if(!e)return!1;const n=h(e)?e:[e];return z(n,e=>bn(gn(e),t))},A=(e,t,n,o)=>{const r=[];let i=m(e);o=void 0===o;const s=n||("BODY"!==w().nodeName?w().parentNode:null);if(f(t))if("*"===t)t=Mo;else{const e=t;t=t=>T(t,e)}for(;i&&!(i===s||y(i.nodeType)||Go(i)||Qo(i));){if(!t||t(i)){if(!o)return[i];r.push(i)}i=i.parentNode}return o?r:null},R=(e,t,n)=>{let o=t;if(e){f(t)&&(o=e=>T(e,t));for(let t=e[n];t;t=t[n])if(_(o)&&o(t))return t}return null},O=function(e,t,n){const o=null!=n?n:this;if(h(e)){const n=[];return ms(e,(e,r)=>{const i=m(e);i&&n.push(t.call(o,i,r))}),n}{const n=m(e);return!!n&&t.call(o,n)}},D=(e,t)=>{O(e,e=>{pe(t,(t,n)=>{b(e,n,t)})})},B=(e,t)=>{O(e,e=>{const n=gn(e);_o(n,t)})},L=(t,n,o,r,i)=>O(t,t=>{const s=f(n)?e.createElement(n):n;return C(o)&&D(s,o),r&&(!f(r)&&r.nodeType?s.appendChild(r):f(r)&&B(s,r)),i?s:t.appendChild(s)}),P=(t,n,o)=>L(e.createElement(t),t,n,o,!0),I=zi.encodeAllRaw,M=(e,t)=>O(e,e=>{const n=gn(e);return t&&W(Dn(n),e=>{$t(e)&&0===e.dom.length?vo(e):co(n,e)}),vo(n),n.dom}),j=(e,t,n)=>{O(e,e=>{if(Mo(e)){const o=gn(e),r=t.split(" ");W(r,e=>{C(n)?(n?ln:dn)(o,e):((e,t)=>{on(e)?e.dom.classList.toggle(t):((e,t)=>{q(rn(e),t)?an(e,t):sn(e,t)})(e,t),cn(e)})(o,e)})}})},F=(e,t,n)=>O(t,o=>{var r;const i=h(t)?e.cloneNode(!0):e;return n&&ms(ps(o.childNodes),e=>{i.appendChild(e)}),null===(r=o.parentNode)||void 0===r||r.replaceChild(i,o),o}),H=e=>{if(Mo(e)){const t="a"===e.nodeName.toLowerCase()&&!g(e,"href")&&g(e,"id");if(g(e,"name")||g(e,"data-mce-bookmark")||t)return!0}return!1},U=()=>e.createRange(),$=(n,r,i,s)=>{if(h(n)){let e=n.length;const t=[];for(;e--;)t[e]=$(n[e],r,i,s);return t}return!t.collect||n!==e&&n!==o||a.push([n,r,i,s]),d.bind(n,r,i,s||X)},V=(t,n,r)=>{if(h(t)){let e=t.length;const o=[];for(;e--;)o[e]=V(t[e],n,r);return o}if(a.length>0&&(t===e||t===o)){let e=a.length;for(;e--;){const[o,i,s]=a[e];t!==o||n&&n!==i||r&&r!==s||d.unbind(o,i,s)}}return d.unbind(t,n,r)},K=e=>{if(e&&Mo(e)){const t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},X={doc:e,settings:t,win:o,files:r,stdMode:!0,boxModel:!0,styleSheetLoader:s,boundEvents:a,styles:c,schema:l,events:d,isBlock:e=>f(e)?xe(u,e):Mo(e)&&(xe(u,e.nodeName)||yi(l,e)),root:null,clone:(e,t)=>e.cloneNode(t),getRoot:w,getViewPort:e=>{const t=Ro(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},getRect:e=>{const t=m(e),n=x(t),o=k(t);return{x:n.x,y:n.y,w:o.w,h:o.h}},getSize:k,getParent:(e,t,n)=>{const o=A(e,t,n,!1);return o&&o.length>0?o[0]:null},getParents:A,get:m,getNext:(e,t)=>R(e,t,"nextSibling"),getPrev:(e,t)=>R(e,t,"previousSibling"),select:(n,o)=>{var r,i;const s=null!==(i=null!==(r=m(o))&&void 0!==r?r:t.root_element)&&void 0!==i?i:e;return _(s.querySelectorAll)?de(s.querySelectorAll(n)):[]},is:T,add:L,create:P,createHTML:(e,t,n="")=>{let o="<"+e;for(const r in t)Ee(t,r)&&(o+=" "+r+'="'+I(t[r])+'"');return Ye(n)&&xe(l.getVoidElements(),e)?o+" />":o+">"+n+"</"+e+">"},createFragment:t=>{const n=e.createElement("div"),o=e.createDocumentFragment();let r;for(o.appendChild(n),t&&(n.innerHTML=t);r=n.firstChild;)o.appendChild(r);return o.removeChild(n),o},remove:M,setStyle:(e,n,o)=>{O(e,e=>{const r=gn(e);_s(r,n,o),t.update_styles&&Cs(c,r)})},getStyle:S,setStyles:(e,n)=>{O(e,e=>{const o=gn(e);pe(n,(e,t)=>{_s(o,t,e)}),t.update_styles&&Cs(c,o)})},removeAllAttribs:e=>O(e,e=>{const t=e.attributes;for(let n=t.length-1;n>=0;n--)e.removeAttributeNode(t.item(n))}),setAttrib:b,setAttribs:D,getAttrib:g,getPos:x,parseStyle:e=>c.parse(e),serializeStyle:(e,t)=>c.serialize(e,t),addStyle:t=>{if(X!==ws.DOM&&e===document){if(n[t])return;n[t]=!0}let o=e.getElementById("mceDefaultStyles");if(!o){o=e.createElement("style"),o.id="mceDefaultStyles",o.type="text/css";const t=e.head;t.firstChild?t.insertBefore(o,t.firstChild):t.appendChild(o)}o.styleSheet?o.styleSheet.cssText+=t:o.appendChild(e.createTextNode(t))},loadCSS:e=>{e||(e=""),W(e.split(","),e=>{r[e]=!0,s.load(e).catch(E)})},addClass:(e,t)=>{j(e,t,!0)},removeClass:(e,t)=>{j(e,t,!1)},hasClass:(e,t)=>{const n=p(e),o=t.split(" ");return C(n)&&ne(o,e=>un(n,e))},toggleClass:j,show:e=>{O(e,e=>lo(gn(e),"display"))},hide:e=>{O(e,e=>no(gn(e),"display","none"))},isHidden:e=>{const t=p(e);return C(t)&&Lt(so(t,"display"),"none")},uniqueId:e=>(e||"mce_")+i++,setHTML:B,getOuterHTML:e=>{const t=p(e);return C(t)?Mo(t.dom)?t.dom.outerHTML:(e=>{const t=pn("div"),n=gn(e.dom.cloneNode(!0));return mo(t,n),Co(t)})(t):""},setOuterHTML:(e,t)=>{O(e,e=>{Mo(e)&&(e.outerHTML=t)})},decode:zi.decode,encode:I,insertAfter:(e,t)=>{const n=m(t);return O(e,e=>{const t=null==n?void 0:n.parentNode,o=null==n?void 0:n.nextSibling;return t&&(o?t.insertBefore(e,o):t.appendChild(e)),e})},replace:F,rename:(e,t)=>{if(e.nodeName!==t.toUpperCase()){const n=P(t);return ms(v(e),t=>{b(n,t.nodeName,g(e,t.nodeName))}),F(n,e,!0),n}return e},findCommonAncestor:(e,t)=>{let n=e;for(;n;){let e=t;for(;e&&n!==e;)e=e.parentNode;if(n===e)break;n=n.parentNode}return!n&&e.ownerDocument?e.ownerDocument.documentElement:n},run:O,getAttribs:v,isEmpty:(e,t)=>{let n=0;if(H(e))return!1;const o=e.firstChild;if(o){const r=new Lo(o,e),i=l?l.getWhitespaceElements():{},s=t||(l?l.getNonEmptyElements():null);let a=o;do{if(Mo(a)){const e=a.getAttribute("data-mce-bogus");if(e){a=r.next("all"===e);continue}const t=a.nodeName.toLowerCase();if(s&&s[t]){if("br"===t){n++,a=r.next();continue}return!1}if(H(a))return!1}if(Yo(a))return!1;if(Vo(a)&&!ti(a.data))return!1;if(Vo(a)&&a.parentNode&&i[a.parentNode.nodeName]&&ti(a.data))return!1;a=r.next()}while(a)}return n<=1},createRng:U,nodeIndex:ys,split:(e,t,n)=>{let o,r,i=U();if(e&&t&&e.parentNode&&t.parentNode){const s=e.parentNode;return i.setStart(s,ys(e)),i.setEnd(t.parentNode,ys(t)),o=i.extractContents(),i=U(),i.setStart(t.parentNode,ys(t)+1),i.setEnd(s,ys(e)+1),r=i.extractContents(),s.insertBefore(Ai(X,o),e),s.insertBefore(n||t,e),s.insertBefore(Ai(X,r),e),M(e),n||t}},bind:$,unbind:V,fire:(e,t,n)=>d.dispatch(e,t,n),dispatch:(e,t,n)=>d.dispatch(e,t,n),getContentEditable:K,getContentEditableParent:e=>{const t=w();let n=null;for(let o=e;o&&o!==t&&(n=K(o),null===n);o=o.parentNode);return n},isEditable:e=>{if(C(e)){const t=Mo(e)?e:e.parentElement,n="true"===K(w());return C(t)&&Jn(gn(t),n)}return!1},destroy:()=>{if(a.length>0){let e=a.length;for(;e--;){const[t,n,o]=a[e];d.unbind(t,n,o)}}pe(r,(e,t)=>{s.unload(t),delete r[t]})},isChildOf:(e,t)=>e===t||t.contains(e),dumpRng:e=>"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},Y=((e,t,n)=>{const o=t.keep_values,r={set:(e,o,r)=>{const i=gn(e);_(t.url_converter)&&C(o)&&(o=t.url_converter.call(t.url_converter_scope||n(),String(o),r,e)),vs(i,"data-mce-"+r,o),vs(i,r,o)},get:(e,t)=>{const n=gn(e);return Qt(n,"data-mce-"+t)||Qt(n,t)}},i={style:{set:(t,n)=>{const r=gn(t);o&&vs(r,hs,n),en(r,"style"),f(n)&&oo(r,e.parse(n))},get:t=>{const n=gn(t),o=Qt(n,hs)||Qt(n,"style");return e.serialize(e.parse(o),Ht(n))}}};return o&&(i.href=i.src=r),i})(c,t,N(X));return X};ws.DOM=ws(document),ws.nodeIndex=ys;const xs=ws.DOM;class Es{constructor(e={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=e}_setReferrerPolicy(e){this.settings.referrerPolicy=e}loadScript(e){return new Promise((t,n)=>{const o=xs;let r;const i=()=>{o.remove(s),r&&(r.onerror=r.onload=r=null)},s=o.uniqueId();r=document.createElement("script"),r.id=s,r.type="text/javascript",r.src=Bt._addCacheSuffix(e),this.settings.referrerPolicy&&o.setAttrib(r,"referrerpolicy",this.settings.referrerPolicy),r.onload=()=>{i(),t()},r.onerror=()=>{i(),n("Failed to load script: "+e)},(document.getElementsByTagName("head")[0]||document.body).appendChild(r)})}isDone(e){return 2===this.states[e]}markDone(e){this.states[e]=2}add(e){const t=this;return t.queue.push(e),void 0===t.states[e]&&(t.states[e]=0),new Promise((n,o)=>{t.scriptLoadedCallbacks[e]||(t.scriptLoadedCallbacks[e]=[]),t.scriptLoadedCallbacks[e].push({resolve:n,reject:o})})}load(e){return this.add(e)}remove(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]}loadQueue(){const e=this.queue;return this.queue=[],this.loadScripts(e)}loadScripts(e){const t=this,n=(e,n)=>{we(t.scriptLoadedCallbacks,n).each(t=>{W(t,t=>t[e](n))}),delete t.scriptLoadedCallbacks[n]},o=e=>{const t=X(e,e=>"rejected"===e.status);return t.length>0?Promise.reject(te(t,({reason:e})=>h(e)?e:[e])):Promise.resolve()},r=e=>Promise.allSettled($(e,e=>2===t.states[e]?(n("resolve",e),Promise.resolve()):3===t.states[e]?(n("reject",e),Promise.reject(e)):(t.states[e]=1,t.loadScript(e).then(()=>{t.states[e]=2,n("resolve",e);const i=t.queue;return i.length>0?(t.queue=[],r(i).then(o)):Promise.resolve()},()=>(t.states[e]=3,n("reject",e),Promise.reject(e)))))),i=e=>(t.loading=!0,r(e).then(e=>{t.loading=!1;const n=t.queueLoadedCallbacks.shift();return M.from(n).each(L),o(e)})),s=Se(e);return t.loading?new Promise((e,n)=>{t.queueLoadedCallbacks.push(()=>i(s).then(e,n))}):i(s)}}Es.ScriptLoader=new Es;const Ss=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},ks={},Ns=Ss("en"),Ts=()=>we(ks,Ns.get()),As={getData:()=>he(ks,e=>({...e})),setCode:e=>{e&&Ns.set(e)},getCode:()=>Ns.get(),add:(e,t)=>{let n=ks[e];n||(ks[e]=n={}),pe(t,(e,t)=>{n[t.toLowerCase()]=e})},translate:e=>{const t=Ts().getOr({}),n=e=>_(e)?Object.prototype.toString.call(e):o(e)?"":""+e,o=e=>""===e||null==e,r=e=>{const o=n(e);return we(t,o.toLowerCase()).map(n).getOr(o)},i=e=>e.replace(/{context:\w+}$/,"");if(o(e))return"";if(m(s=e)&&xe(s,"raw"))return n(e.raw);var s;if((e=>h(e)&&e.length>1)(e)){const t=e.slice(1);return i(r(e[0]).replace(/\{([0-9]+)\}/g,(e,o)=>xe(t,o)?n(t[o]):e))}return i(r(e))},isRtl:()=>Ts().bind(e=>we(e,"_dir")).exists(e=>"rtl"===e),hasCode:e=>xe(ks,e)},Rs=()=>{const e=[],t={},n={},o=[],r=(e,t)=>{const n=X(o,n=>n.name===e&&n.state===t);W(n,e=>e.resolve())},i=e=>xe(t,e),s=(e,n)=>{const o=As.getCode();!o||n&&-1===(","+(n||"")+",").indexOf(","+o+",")||Es.ScriptLoader.add(t[e]+"/langs/"+o+".js")},a=(e,t="added")=>"added"===t&&(e=>xe(n,e))(e)||"loaded"===t&&i(e)?Promise.resolve():new Promise(n=>{o.push({name:e,state:t,resolve:n})});return{items:e,urls:t,lookup:n,get:e=>{if(n[e])return n[e].instance},requireLangPack:(e,t)=>{!1!==Rs.languageLoad&&(i(e)?s(e,t):a(e,"loaded").then(()=>s(e,t)))},add:(t,o)=>(e.push(o),n[t]={instance:o},r(t,"added"),o),remove:e=>{delete t[e],delete n[e]},createUrl:(e,t)=>f(t)?f(e)?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}:t,load:(e,o)=>{if(t[e])return Promise.resolve();let i=f(o)?o:o.prefix+o.resource+o.suffix;0!==i.indexOf("/")&&-1===i.indexOf("://")&&(i=Rs.baseURL+"/"+i),t[e]=i.substring(0,i.lastIndexOf("/"));const s=()=>(r(e,"loaded"),Promise.resolve());return n[e]?s():Es.ScriptLoader.add(i).then(s)},waitFor:a}};Rs.languageLoad=!0,Rs.baseURL="",Rs.PluginManager=Rs(),Rs.ThemeManager=Rs(),Rs.ModelManager=Rs();const Os=e=>{const t=Ss(M.none()),n=()=>t.get().each(e=>clearInterval(e));return{clear:()=>{n(),t.set(M.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:o=>{n(),t.set(M.some(setInterval(o,e)))}}},Ds=()=>{const e=(e=>{const t=Ss(M.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(M.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(M.some(e))}}})(E);return{...e,on:t=>e.get().each(t)}},Bs=(e,t)=>{let n=null;return{cancel:()=>{g(n)||(clearTimeout(n),n=null)},throttle:(...o)=>{g(n)&&(n=setTimeout(()=>{n=null,e.apply(null,o)},t))}}},Ls=(e,t)=>{let n=null;const o=()=>{g(n)||(clearTimeout(n),n=null)};return{cancel:o,throttle:(...r)=>{o(),n=setTimeout(()=>{n=null,e.apply(null,r)},t)}}},Ps=N("mce-annotation"),Is=N("data-mce-annotation"),Ms=N("data-mce-annotation-uid"),js=N("data-mce-annotation-active"),Fs=N("data-mce-annotation-classes"),Hs=N("data-mce-annotation-attrs"),Us=e=>t=>Cn(t,e),qs=(e,t)=>{const n=e.selection.getRng(),o=gn(n.startContainer),r=gn(e.getBody()),i=t.fold(()=>"."+Ps(),e=>`[${Is()}="${e}"]`),s=Bn(o,n.startOffset).getOr(o);return Qn(s,i,Us(r)).bind(t=>Jt(t,""+Ms()).bind(n=>Jt(t,""+Is()).map(t=>{const o=$s(e,n);return{uid:n,name:t,elements:o}})))},zs=(e,t)=>Zt(e,"data-mce-bogus")||Bo(e,'[data-mce-bogus="all"]',Us(t)),$s=(e,t)=>{const n=gn(e.getBody()),o=Do(n,`[${Ms()}="${t}"]`);return X(o,e=>!zs(e,n))},Ws=(e,t)=>{const n=gn(e.getBody()),o=Do(n,`[${Is()}="${t}"]`),r={};return W(o,e=>{if(!zs(e,n)){const t=Qt(e,Ms()),n=we(r,t).getOr([]);r[t]=n.concat([e])}}),r};let Vs=0;const Ks=e=>{const t=(new Date).getTime(),n=Math.floor(1e9*Math.random());return Vs++,e+"_"+n+Vs+String(t)},Xs=(e,t)=>gn(e.dom.cloneNode(t)),Ys=e=>Xs(e,!1),Gs=e=>Xs(e,!0),Qs=(e,t,n=P)=>{const o=new Lo(e,t),r=e=>{let t;do{t=o[e]()}while(t&&!Vo(t)&&!n(t));return M.from(t).filter(Vo)};return{current:()=>M.from(o.current()).filter(Vo),next:()=>r("next"),prev:()=>r("prev"),prev2:()=>r("prev2")}},Js=(e,t)=>{const n=t||(t=>e.isBlock(t)||Jo(t)||tr(t)),o=(e,t,n,r)=>{if(Vo(e)){const n=r(e,t,e.data);if(-1!==n)return M.some({container:e,offset:n})}return n().bind(e=>o(e.container,e.offset,n,r))};return{backwards:(t,r,i,s)=>{const a=Qs(t,null!=s?s:e.getRoot(),n);return o(t,r,()=>a.prev().map(e=>({container:e,offset:e.length})),i).getOrNull()},forwards:(t,r,i,s)=>{const a=Qs(t,null!=s?s:e.getRoot(),n);return o(t,r,()=>a.next().map(e=>({container:e,offset:0})),i).getOrNull()}}},Zs=Math.round,ea=e=>e?{left:Zs(e.left),top:Zs(e.top),bottom:Zs(e.bottom),right:Zs(e.right),width:Zs(e.width),height:Zs(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},ta=(e,t)=>(e=ea(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),na=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,oa=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top||!(e.top>t.bottom)&&na(t.top-e.bottom,e,t)},ra=(e,t)=>e.top>t.bottom||!(e.bottom<t.top)&&na(t.bottom-e.top,e,t),ia=(e,t,n)=>{const o=Math.max(Math.min(t,e.left+e.width),e.left),r=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-o)*(t-o)+(n-r)*(n-r))},sa=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},aa=(e,t)=>{if(Mo(e)&&e.hasChildNodes()){const n=e.childNodes;return n[((e,t,n)=>Math.min(Math.max(e,0),n))(t,0,n.length-1)]}return e},la=new RegExp("[Ì-Í¯Ò-ÒÒ-ÒÖ-Ö½Ö¿×-××-××Ø-ØÙ-ÙÙ°Û-ÛÛ-Û¤Û§-Û¨Ûª-Û­ÜÜ°-ÝÞ¦-Þ°ß«-ß³à -à à -à £à ¥-à §à ©-à ­à¡-à¡à££-à¤à¤ºà¤¼à¥-à¥à¥à¥-à¥à¥¢-à¥£à¦à¦¼à¦¾à§-à§à§à§à§¢-à§£à¨-à¨à¨¼à©-à©à©-à©à©-à©à©à©°-à©±à©µàª-àªàª¼à«-à«à«-à«à«à«¢-à«£à¬à¬¼à¬¾à¬¿à­-à­à­à­à­à­¢-à­£à®à®¾à¯à¯à¯à°à°¾-à±à±-à±à±-à±à±-à±à±¢-à±£à²à²¼à²¿à³à³à³-à³à³-à³à³¢-à³£à´à´¾àµ-àµàµàµàµ¢-àµ£à·à·à·-à·à·à·à¸±à¸´-à¸ºà¹-à¹àº±àº´-àº¹àº»-àº¼à»-à»à¼-à¼à¼µà¼·à¼¹à½±-à½¾à¾-à¾à¾-à¾à¾-à¾à¾-à¾¼à¿á­-á°á²-á·á¹-áºá½-á¾á-áá-á á±-á´áá-áááá-áá-áá²-á´á-áá²-á³á´-áµá·-á½áá-ááá -á á¢©á¤ -á¤¢á¤§-á¤¨á¤²á¤¹-á¤»á¨-á¨á¨á©á©-á©á© á©¢á©¥-á©¬á©³-á©¼á©¿áª°-áª½áª¾á¬-á¬á¬´á¬¶-á¬ºá¬¼á­á­«-á­³á®-á®á®¢-á®¥á®¨-á®©á®«-á®­á¯¦á¯¨-á¯©á¯­á¯¯-á¯±á°¬-á°³á°¶-á°·á³-á³á³-á³ á³¢-á³¨á³­á³´á³¸-á³¹á·-á·µá·¼-á·¿â-ââ-ââ-â â¡â¢-â¤â¥-â°â³¯-â³±âµ¿â· -â·¿ãª-ã­ã®-ã¯ã-ãê¯ê°-ê²ê´-ê½ê-êê°-ê±ê ê ê ê ¥-ê ¦ê£ê£ -ê£±ê¤¦-ê¤­ê¥-ê¥ê¦-ê¦ê¦³ê¦¶-ê¦¹ê¦¼ê§¥ê¨©-ê¨®ê¨±-ê¨²ê¨µ-ê¨¶ê©ê©ê©¼êª°êª²-êª´êª·-êª¸êª¾-êª¿ê«ê«¬-ê«­ê«¶ê¯¥ê¯¨ê¯­ï¬ï¸-ï¸ï¸ -ï¸¯ï¾-ï¾]"),ca=e=>f(e)&&e.charCodeAt(0)>=768&&la.test(e),da=Mo,ua=Qr,fa=Ho("display","block table"),ma=Ho("float","left right"),pa=((...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0})(da,ua,O(ma)),ha=O(Ho("white-space","pre pre-line pre-wrap")),ga=Vo,va=Jo,ba=ws.nodeIndex,ya=(e,t)=>t<0&&Mo(e)&&e.hasChildNodes()?void 0:aa(e,t),Ca=e=>e?e.createRange():ws.DOM.createRng(),_a=e=>f(e)&&/[\r\n\t ]/.test(e),wa=e=>!!e.setStart&&!!e.setEnd,xa=e=>{const t=e.startContainer,n=e.startOffset;if(_a(e.toString())&&ha(t.parentNode)&&Vo(t)){const e=t.data;if(_a(e[n-1])||_a(e[n+1]))return!0}return!1},Ea=e=>0===e.left&&0===e.right&&0===e.top&&0===e.bottom,Sa=e=>{var t;let n;const o=e.getClientRects();return n=ea(o.length>0?o[0]:e.getBoundingClientRect()),!wa(e)&&va(e)&&Ea(n)?(e=>{const t=e.ownerDocument,n=Ca(t),o=t.createTextNode(ar),r=e.parentNode;r.insertBefore(o,e),n.setStart(o,0),n.setEnd(o,1);const i=ea(n.getBoundingClientRect());return r.removeChild(o),i})(e):Ea(n)&&wa(e)&&null!==(t=(e=>{const t=e.endContainer,n=e.startOffset,o=e.endOffset;if(e.startContainer===t&&Vo(t)&&0===n&&1===o){const n=e.cloneRange();return n.setEndAfter(t),Sa(n)}return null})(e))&&void 0!==t?t:n},ka=(e,t)=>{const n=ta(e,t);return n.width=1,n.right=n.left+1,n},Na=(e,t,n)=>{const o=()=>(n||(n=(e=>{const t=[],n=e=>{var n,o;0!==e.height&&(t.length>0&&(n=e).left===(o=t[t.length-1]).left&&n.top===o.top&&n.bottom===o.bottom&&n.right===o.right||t.push(e))},o=(e,t)=>{const o=Ca(e.ownerDocument);if(t<e.data.length){if(ca(e.data[t]))return;if(ca(e.data[t-1])&&(o.setStart(e,t),o.setEnd(e,t+1),!xa(o)))return void n(ka(Sa(o),!1))}t>0&&(o.setStart(e,t-1),o.setEnd(e,t),xa(o)||n(ka(Sa(o),!1))),t<e.data.length&&(o.setStart(e,t),o.setEnd(e,t+1),xa(o)||n(ka(Sa(o),!0)))},r=e.container(),i=e.offset();if(ga(r))return o(r,i),t;if(da(r))if(e.isAtEnd()){const e=ya(r,i);ga(e)&&o(e,e.data.length),pa(e)&&!va(e)&&n(ka(Sa(e),!1))}else{const s=ya(r,i);if(ga(s)&&o(s,0),pa(s)&&e.isAtEnd())return n(ka(Sa(s),!1)),t;const a=ya(e.container(),e.offset()-1);pa(a)&&!va(a)&&(fa(a)||fa(s)||!pa(s))&&n(ka(Sa(a),!1)),pa(s)&&n(ka(Sa(s),!0))}return t})(Na(e,t))),n);return{container:N(e),offset:N(t),toRange:()=>{const n=Ca(e.ownerDocument);return n.setStart(e,t),n.setEnd(e,t),n},getClientRects:o,isVisible:()=>o().length>0,isAtStart:()=>(ga(e),0===t),isAtEnd:()=>ga(e)?t>=e.data.length:t>=e.childNodes.length,isEqual:n=>n&&e===n.container()&&t===n.offset(),getNode:n=>ya(e,n?t-1:t)}};Na.fromRangeStart=e=>Na(e.startContainer,e.startOffset),Na.fromRangeEnd=e=>Na(e.endContainer,e.endOffset),Na.after=e=>Na(e.parentNode,ba(e)+1),Na.before=e=>Na(e.parentNode,ba(e)),Na.isAbove=(e,t)=>Pt(le(t.getClientRects()),ce(e.getClientRects()),oa).getOr(!1),Na.isBelow=(e,t)=>Pt(ce(t.getClientRects()),le(e.getClientRects()),ra).getOr(!1),Na.isAtStart=e=>!!e&&e.isAtStart(),Na.isAtEnd=e=>!!e&&e.isAtEnd(),Na.isTextPosition=e=>!!e&&Vo(e.container()),Na.isElementPosition=e=>!Na.isTextPosition(e);const Ta=(e,t)=>{Vo(t)&&0===t.data.length&&e.remove(t)},Aa=(e,t,n)=>{Qo(n)?((e,t,n)=>{const o=M.from(n.firstChild),r=M.from(n.lastChild);t.insertNode(n),o.each(t=>Ta(e,t.previousSibling)),r.each(t=>Ta(e,t.nextSibling))})(e,t,n):((e,t,n)=>{t.insertNode(n),Ta(e,n.previousSibling),Ta(e,n.nextSibling)})(e,t,n)},Ra=Vo,Oa=qo,Da=ws.nodeIndex,Ba=e=>{const t=e.parentNode;return Oa(t)?Ba(t):t},La=e=>e?Oe(e.childNodes,(e,t)=>(Oa(t)&&"BR"!==t.nodeName?e=e.concat(La(t)):e.push(t),e),[]):[],Pa=e=>t=>e===t,Ia=e=>(Ra(e)?"text()":e.nodeName.toLowerCase())+"["+(e=>{let t,n;t=La(Ba(e)),n=De(t,Pa(e),e),t=t.slice(0,n+1);const o=Oe(t,(e,n,o)=>(Ra(n)&&Ra(t[o-1])&&e++,e),0);return t=Re(t,Fo([e.nodeName])),n=De(t,Pa(e),e),n-o})(e)+"]",Ma=(e,t)=>{let n,o=[],r=t.container(),i=t.offset();if(Ra(r))n=((e,t)=>{let n=e;for(;(n=n.previousSibling)&&Ra(n);)t+=n.data.length;return t})(r,i);else{const e=r.childNodes;i>=e.length?(n="after",i=e.length-1):n="before",r=e[i]}o.push(Ia(r));let s=((e,t,n)=>{const o=[];for(let r=t.parentNode;r&&r!==e;r=r.parentNode)o.push(r);return o})(e,r);return s=Re(s,O(qo)),o=o.concat(Ae(s,e=>Ia(e))),o.reverse().join("/")+","+n},ja=(e,t)=>{if(!t)return null;const n=t.split(","),o=n[0].split("/"),r=n.length>1?n[1]:"before",i=Oe(o,(e,t)=>{const n=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);return n?("text()"===n[1]&&(n[1]="#text"),((e,t,n)=>{let o=La(e);return o=Re(o,(e,t)=>!Ra(e)||!Ra(o[t-1])),o=Re(o,Fo([t])),o[n]})(e,n[1],parseInt(n[2],10))):null},e);if(!i)return null;if(!Ra(i)&&i.parentNode){let e;return e="after"===r?Da(i)+1:Da(i),Na(i.parentNode,e)}return((e,t)=>{let n=e,o=0;for(;Ra(n);){const r=n.data.length;if(t>=o&&t<=o+r){e=n,t-=o;break}if(!Ra(n.nextSibling)){e=n,t=r;break}o+=r,n=n.nextSibling}return Ra(e)&&t>e.data.length&&(t=e.data.length),Na(e,t)})(i,parseInt(r,10))},Fa=tr,Ha=(e,t,n,o,r)=>{const i=r?o.startContainer:o.endContainer;let s=r?o.startOffset:o.endOffset;const a=[],l=e.getRoot();if(Vo(i))a.push(n?((e,t,n)=>{let o=e(t.data.slice(0,n)).length;for(let r=t.previousSibling;r&&Vo(r);r=r.previousSibling)o+=e(r.data).length;return o})(t,i,s):s);else{let t=0;const o=i.childNodes;s>=o.length&&o.length&&(t=1,s=Math.max(0,o.length-1)),a.push(e.nodeIndex(o[s],n)+t)}for(let c=i;c&&c!==l;c=c.parentNode)a.push(e.nodeIndex(c,n));return a},Ua=(e,t,n)=>{let o=0;return Bt.each(e.select(t),e=>"all"===e.getAttribute("data-mce-bogus")?void 0:e!==n&&void o++),o},qa=(e,t)=>{let n=t?e.startContainer:e.endContainer,o=t?e.startOffset:e.endOffset;if(Mo(n)&&"TR"===n.nodeName){const r=n.childNodes;n=r[Math.min(t?o:o-1,r.length-1)],n&&(o=t?0:n.childNodes.length,t?e.setStart(n,o):e.setEnd(n,o))}},za=e=>(qa(e,!0),qa(e,!1),e),$a=(e,t)=>{if(Mo(e)&&(e=aa(e,t),Fa(e)))return e;if(Pr(e)){Vo(e)&&Br(e)&&(e=e.parentNode);let t=e.previousSibling;if(Fa(t))return t;if(t=e.nextSibling,Fa(t))return t}},Wa=(e,t,n)=>{const o=n.getNode(),r=n.getRng();if("IMG"===o.nodeName||Fa(o)){const e=o.nodeName;return{name:e,index:Ua(n.dom,e,o)}}const i=(e=>$a(e.startContainer,e.startOffset)||$a(e.endContainer,e.endOffset))(r);if(i){const e=i.tagName;return{name:e,index:Ua(n.dom,e,i)}}return((e,t,n,o)=>{const r=t.dom,i=Ha(r,e,n,o,!0),s=t.isForward(),a=qr(o)?{isFakeCaret:!0}:{};return t.isCollapsed()?{start:i,forward:s,...a}:{start:i,end:Ha(r,e,n,o,!1),forward:s,...a}})(e,n,t,r)},Va=(e,t,n)=>{const o={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",o,"&#xFEFF;"):e.create("span",o)},Ka=(e,t)=>{const n=e.dom;let o=e.getRng();const r=n.uniqueId(),i=e.isCollapsed(),s=e.getNode(),a=s.nodeName,l=e.isForward();if("IMG"===a)return{name:a,index:Ua(n,a,s)};const c=za(o.cloneRange());if(!i){c.collapse(!1);const e=Va(n,r+"_end",t);Aa(n,c,e)}o=za(o),o.collapse(!0);const d=Va(n,r+"_start",t);return Aa(n,o,d),e.moveToBookmark({id:r,keep:!0,forward:l}),{id:r,forward:l}},Xa=R(Wa,T,!0),Ya=e=>{const t=t=>t(e),n=N(e),o=()=>r,r={tag:!0,inner:e,fold:(t,n)=>n(e),isValue:I,isError:P,map:t=>Qa.value(t(e)),mapError:o,bind:t,exists:t,forall:t,getOr:n,or:o,getOrThunk:n,orThunk:o,getOrDie:n,each:t=>{t(e)},toOptional:()=>M.some(e)};return r},Ga=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(t,n)=>t(e),isValue:P,isError:I,map:t,mapError:t=>Qa.error(t(e)),bind:t,exists:P,forall:I,getOr:T,or:T,getOrThunk:B,orThunk:B,getOrDie:D(String(e)),each:E,toOptional:M.none};return n},Qa={value:Ya,error:Ga,fromOption:(e,t)=>e.fold(()=>Ga(t),Ya)},Ja=e=>{if(!h(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return W(e,(o,r)=>{const i=fe(o);if(1!==i.length)throw new Error("one and only one name per case");const s=i[0],a=o[s];if(void 0!==n[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!h(a))throw new Error("case arguments must be an array");t.push(s),n[s]=(...n)=>{const o=n.length;if(o!==a.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+a.length+" ("+a+"), got "+o);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[r].apply(null,n)},match:e=>{const o=fe(e);if(t.length!==o.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));if(!ne(t,e=>q(o,e)))throw new Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[s].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:s,params:n})}}}}),n};Ja([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Za=e=>"inline-command"===e.type||"inline-format"===e.type,el=e=>"block-command"===e.type||"block-format"===e.type,tl=e=>{const t=t=>Qa.error({message:t,pattern:e}),n=(n,o,r)=>{if(void 0!==e.format){let r;if(h(e.format)){if(!ne(e.format,f))return t(n+" pattern has non-string items in the `format` array");r=e.format}else{if(!f(e.format))return t(n+" pattern has non-string `format` parameter");r=[e.format]}return Qa.value(o(r))}return void 0!==e.cmd?f(e.cmd)?Qa.value(r(e.cmd,e.value)):t(n+" pattern has non-string `cmd` parameter"):t(n+" pattern is missing both `format` and `cmd` parameters")};if(!m(e))return t("Raw pattern is not an object");if(!f(e.start))return t("Raw pattern is missing `start` parameter");if(void 0!==e.end){if(!f(e.end))return t("Inline pattern has non-string `end` parameter");if(0===e.start.length&&0===e.end.length)return t("Inline pattern has empty `start` and `end` parameters");let o=e.start,r=e.end;return 0===r.length&&(r=o,o=""),n("Inline",e=>({type:"inline-format",start:o,end:r,format:e}),(e,t)=>({type:"inline-command",start:o,end:r,cmd:e,value:t}))}return void 0!==e.replacement?f(e.replacement)?0===e.start.length?t("Replacement pattern has empty `start` parameter"):Qa.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter"):0===e.start.length?t("Block pattern has empty `start` parameter"):n("Block",t=>({type:"block-format",start:e.start,format:t[0]}),(t,n)=>({type:"block-command",start:e.start,cmd:t,value:n}))},nl=e=>X(e,el),ol=e=>X(e,Za),rl=e=>{const t=(e=>{const t=[],n=[];return W(e,e=>{e.fold(e=>{t.push(e)},e=>{n.push(e)})}),{errors:t,values:n}})($(e,tl));return W(t.errors,e=>console.error(e.message,e.pattern)),t.values},il=wt().deviceType,sl=il.isTouch(),al=ws.DOM,ll=e=>u(e,RegExp),cl=e=>t=>t.options.get(e),dl=e=>f(e)||m(e),ul=(e,t="")=>n=>{const o=f(n);if(o){if(-1!==n.indexOf("=")){const r=(e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return G(t,(e,t)=>{const n=t.split("="),o=n[0],r=n.length>1?n[1]:o;return e[We(o)]=We(r),e},{})})(n);return{value:we(r,e.id).getOr(t),valid:o}}return{value:n,valid:o}}return{valid:!1,message:"Must be a string."}},fl=cl("iframe_attrs"),ml=cl("doctype"),pl=cl("document_base_url"),hl=cl("body_id"),gl=cl("body_class"),vl=cl("content_security_policy"),bl=cl("br_in_pre"),yl=cl("forced_root_block"),Cl=cl("forced_root_block_attrs"),_l=cl("newline_behavior"),wl=cl("br_newline_selector"),xl=cl("no_newline_selector"),El=cl("keep_styles"),Sl=cl("end_container_on_empty_block"),kl=cl("automatic_uploads"),Nl=cl("images_reuse_filename"),Tl=cl("images_replace_blob_uris"),Al=cl("icons"),Rl=cl("icons_url"),Ol=cl("images_upload_url"),Dl=cl("images_upload_base_path"),Bl=cl("images_upload_credentials"),Ll=cl("images_upload_handler"),Pl=cl("content_css_cors"),Il=cl("referrer_policy"),Ml=cl("language"),jl=cl("language_url"),Fl=cl("indent_use_margin"),Hl=cl("indentation"),Ul=cl("content_css"),ql=cl("content_style"),zl=cl("font_css"),$l=cl("directionality"),Wl=cl("inline_boundaries_selector"),Vl=cl("object_resizing"),Kl=cl("resize_img_proportional"),Xl=cl("placeholder"),Yl=cl("event_root"),Gl=cl("service_message"),Ql=cl("theme"),Jl=cl("theme_url"),Zl=cl("model"),ec=cl("model_url"),tc=cl("inline_boundaries"),nc=cl("formats"),oc=cl("preview_styles"),rc=cl("format_empty_lines"),ic=cl("format_noneditable_selector"),sc=cl("custom_ui_selector"),ac=cl("inline"),lc=cl("hidden_input"),cc=cl("submit_patch"),dc=cl("add_form_submit_trigger"),uc=cl("add_unload_trigger"),fc=cl("custom_undo_redo_levels"),mc=cl("disable_nodechange"),pc=cl("readonly"),hc=cl("content_css_cors"),gc=cl("plugins"),vc=cl("external_plugins"),bc=cl("block_unsupported_drop"),yc=cl("visual"),Cc=cl("visual_table_class"),_c=cl("visual_anchor_class"),wc=cl("iframe_aria_text"),xc=cl("setup"),Ec=cl("init_instance_callback"),Sc=cl("urlconverter_callback"),kc=cl("auto_focus"),Nc=cl("browser_spellcheck"),Tc=cl("protect"),Ac=cl("paste_block_drop"),Rc=cl("paste_data_images"),Oc=cl("paste_preprocess"),Dc=cl("paste_postprocess"),Bc=cl("paste_webkit_styles"),Lc=cl("paste_remove_styles_if_webkit"),Pc=cl("paste_merge_formats"),Ic=cl("smart_paste"),Mc=cl("paste_as_text"),jc=cl("paste_tab_spaces"),Fc=cl("allow_html_data_urls"),Hc=cl("text_patterns"),Uc=cl("text_patterns_lookup"),qc=cl("noneditable_class"),zc=cl("editable_class"),$c=cl("noneditable_regexp"),Wc=cl("preserve_cdata"),Vc=cl("highlight_on_focus"),Kc=cl("xss_sanitization"),Xc=e=>Bt.explode(e.options.get("images_file_types")),Yc=cl("table_tab_navigation"),Gc=Mo,Qc=Vo,Jc=e=>{const t=e.parentNode;t&&t.removeChild(e)},Zc=e=>{const t=Rr(e);return{count:e.length-t.length,text:t}},ed=e=>{let t;for(;-1!==(t=e.data.lastIndexOf(Tr));)e.deleteData(t,1)},td=(e,t)=>(nd(e),t),nd=e=>{Gc(e)&&Pr(e)&&(Ir(e)?e.removeAttribute("data-mce-caret"):Jc(e)),Qc(e)&&(ed(e),0===e.data.length&&Jc(e))},od=tr,rd=rr,id=nr,sd=(e,t,n)=>{const o=ta(t.getBoundingClientRect(),n);let r,i;if("BODY"===e.tagName){const t=e.ownerDocument.documentElement;r=e.scrollLeft||t.scrollLeft,i=e.scrollTop||t.scrollTop}else{const t=e.getBoundingClientRect();r=e.scrollLeft-t.left,i=e.scrollTop-t.top}o.left+=r,o.right+=r,o.top+=i,o.bottom+=i,o.width=1;let s=t.offsetWidth-t.clientWidth;return s>0&&(n&&(s*=-1),o.left+=s,o.right+=s),o},ad=()=>At.browser.isFirefox(),ld=e=>od(e)||rd(e),cd=e=>(ld(e)||zo(e)&&ad())&&kn(gn(e)).exists(Jn),dd=er,ud=tr,fd=rr,md=Ho("display","block table table-cell table-caption list-item"),pd=Pr,hd=Br,gd=Mo,vd=Vo,bd=Qr,yd=e=>e>0,Cd=e=>e<0,_d=(e,t)=>{let n;for(;n=e(t);)if(!hd(n))return n;return null},wd=(e,t,n,o,r)=>{const i=new Lo(e,o),s=ud(e)||hd(e);let a;if(Cd(t)){if(s&&(a=_d(i.prev.bind(i),!0),n(a)))return a;for(;a=_d(i.prev.bind(i),r);)if(n(a))return a}if(yd(t)){if(s&&(a=_d(i.next.bind(i),!0),n(a)))return a;for(;a=_d(i.next.bind(i),r);)if(n(a))return a}return null},xd=(e,t)=>{for(;e&&e!==t;){if(md(e))return e;e=e.parentNode}return null},Ed=(e,t,n)=>xd(e.container(),n)===xd(t.container(),n),Sd=(e,t)=>{if(!t)return M.none();const n=t.container(),o=t.offset();return gd(n)?M.from(n.childNodes[o+e]):M.none()},kd=(e,t)=>{var n;const o=(null!==(n=t.ownerDocument)&&void 0!==n?n:document).createRange();return e?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)),o},Nd=(e,t,n)=>xd(t,e)===xd(n,e),Td=(e,t,n)=>{const o=e?"previousSibling":"nextSibling";let r=n;for(;r&&r!==t;){let e=r[o];if(e&&pd(e)&&(e=e[o]),ud(e)||fd(e)){if(Nd(t,e,r))return e;break}if(bd(e))break;r=r.parentNode}return null},Ad=R(kd,!0),Rd=R(kd,!1),Od=(e,t,n)=>{let o;const r=R(Td,!0,t),i=R(Td,!1,t),s=n.startContainer,a=n.startOffset;if(Br(s)){const e=vd(s)?s.parentNode:s,t=e.getAttribute("data-mce-caret");if("before"===t&&(o=e.nextSibling,cd(o)))return Ad(o);if("after"===t&&(o=e.previousSibling,cd(o)))return Rd(o)}if(!n.collapsed)return n;if(Vo(s)){if(pd(s)){if(1===e){if(o=i(s),o)return Ad(o);if(o=r(s),o)return Rd(o)}if(-1===e){if(o=r(s),o)return Rd(o);if(o=i(s),o)return Ad(o)}return n}if(Hr(s)&&a>=s.data.length-1)return 1===e&&(o=i(s),o)?Ad(o):n;if(Fr(s)&&a<=1)return-1===e&&(o=r(s),o)?Rd(o):n;if(a===s.data.length)return o=i(s),o?Ad(o):n;if(0===a)return o=r(s),o?Rd(o):n}return n},Dd=(e,t)=>Sd(e?0:-1,t).filter(ud),Bd=(e,t,n)=>{const o=Od(e,t,n);return-1===e?Na.fromRangeStart(o):Na.fromRangeEnd(o)},Ld=e=>M.from(e.getNode()).map(gn),Pd=(e,t)=>{let n=t;for(;n=e(n);)if(n.isVisible())return n;return n},Id=(e,t)=>{const n=Ed(e,t);return!(n||!Jo(e.getNode()))||n};var Md;!function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"}(Md||(Md={}));const jd=tr,Fd=Vo,Hd=Mo,Ud=Jo,qd=Qr,zd=e=>Xr(e)||(e=>!!Jr(e)&&!G(de(e.getElementsByTagName("*")),(e,t)=>e||zr(t),!1))(e),$d=Zr,Wd=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,Vd=(e,t)=>{if(yd(e)){if(qd(t.previousSibling)&&!Fd(t.previousSibling))return Na.before(t);if(Fd(t))return Na(t,0)}if(Cd(e)){if(qd(t.nextSibling)&&!Fd(t.nextSibling))return Na.after(t);if(Fd(t))return Na(t,t.data.length)}return Cd(e)?Ud(t)?Na.before(t):Na.after(t):Na.before(t)},Kd=(e,t,n)=>{let o,r,i,s;if(!Hd(n)||!t)return null;if(t.isEqual(Na.after(n))&&n.lastChild){if(s=Na.after(n.lastChild),Cd(e)&&qd(n.lastChild)&&Hd(n.lastChild))return Ud(n.lastChild)?Na.before(n.lastChild):s}else s=t;const a=s.container();let l=s.offset();if(Fd(a)){if(Cd(e)&&l>0)return Na(a,--l);if(yd(e)&&l<a.length)return Na(a,++l);o=a}else{if(Cd(e)&&l>0&&(r=Wd(a,l-1),qd(r)))return!zd(r)&&(i=wd(r,e,$d,r),i)?Fd(i)?Na(i,i.data.length):Na.after(i):Fd(r)?Na(r,r.data.length):Na.before(r);if(yd(e)&&l<a.childNodes.length&&(r=Wd(a,l),qd(r)))return Ud(r)?((e,t)=>{const n=t.nextSibling;return n&&qd(n)?Fd(n)?Na(n,0):Na.before(n):Kd(Md.Forwards,Na.after(t),e)})(n,r):!zd(r)&&(i=wd(r,e,$d,r),i)?Fd(i)?Na(i,0):Na.before(i):Fd(r)?Na(r,0):Na.after(r);o=r||s.getNode()}if(o&&(yd(e)&&s.isAtEnd()||Cd(e)&&s.isAtStart())&&(o=wd(o,e,I,n,!0),$d(o,n)))return Vd(e,o);r=o?wd(o,e,$d,n):o;const c=Be(X(((e,t)=>{const n=[];let o=e;for(;o&&o!==t;)n.push(o),o=o.parentNode;return n})(a,n),jd));return!c||r&&c.contains(r)?r?Vd(e,r):null:(s=yd(e)?Na.after(c):Na.before(c),s)},Xd=e=>({next:t=>Kd(Md.Forwards,t,e),prev:t=>Kd(Md.Backwards,t,e)}),Yd=e=>Na.isTextPosition(e)?0===e.offset():Qr(e.getNode()),Gd=e=>{if(Na.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}return Qr(e.getNode(!0))},Qd=(e,t)=>!Na.isTextPosition(e)&&!Na.isTextPosition(t)&&e.getNode()===t.getNode(!0),Jd=(e,t,n)=>{const o=Xd(t);return M.from(e?o.next(n):o.prev(n))},Zd=(e,t,n)=>Jd(e,t,n).bind(o=>Ed(n,o,t)&&((e,t,n)=>{return e?!Qd(t,n)&&!(!Na.isTextPosition(o=t)&&Jo(o.getNode()))&&Gd(t)&&Yd(n):!Qd(n,t)&&Yd(t)&&Gd(n);var o})(e,n,o)?Jd(e,t,o):M.some(o)),eu=(e,t,n,o)=>Zd(e,t,n).bind(n=>o(n)?eu(e,t,n,o):M.some(n)),tu=(e,t)=>{const n=e?t.firstChild:t.lastChild;return Vo(n)?M.some(Na(n,e?0:n.data.length)):n?Qr(n)?M.some(e?Na.before(n):Jo(o=n)?Na.before(o):Na.after(o)):((e,t,n)=>{const o=e?Na.before(n):Na.after(n);return Jd(e,t,o)})(e,t,n):M.none();var o},nu=R(Jd,!0),ou=R(Jd,!1),ru=R(tu,!0),iu=R(tu,!1),su="_mce_caret",au=e=>Mo(e)&&e.id===su,lu=(e,t)=>{let n=t;for(;n&&n!==e;){if(au(n))return n;n=n.parentNode}return null},cu=e=>xe(e,"name"),du=e=>Bt.isArray(e.start),uu=e=>!(!cu(e)&&v(e.forward))||e.forward,fu=(e,t)=>(Mo(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),mu=(e,t)=>iu(e).fold(P,e=>(t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0)),pu=(e,t,n)=>!(!(e=>!e.hasChildNodes())(t)||!lu(e,t)||(((e,t)=>{var n;const o=(null!==(n=e.ownerDocument)&&void 0!==n?n:document).createTextNode(Tr);e.appendChild(o),t.setStart(o,0),t.setEnd(o,0)})(t,n),0)),hu=(e,t,n,o)=>{const r=n[t?"start":"end"],i=e.getRoot();if(r){let e=i,n=r[0];for(let t=r.length-1;e&&t>=1;t--){const n=e.childNodes;if(pu(i,e,o))return!0;if(r[t]>n.length-1)return!!pu(i,e,o)||mu(e,o);e=n[r[t]]}Vo(e)&&(n=Math.min(r[0],e.data.length)),Mo(e)&&(n=Math.min(r[0],e.childNodes.length)),t?o.setStart(e,n):o.setEnd(e,n)}return!0},gu=e=>Vo(e)&&e.data.length>0,vu=(e,t,n)=>{const o=e.get(n.id+"_"+t),r=null==o?void 0:o.parentNode,i=n.keep;if(o&&r){let s,a;if("start"===t?i?o.hasChildNodes()?(s=o.firstChild,a=1):gu(o.nextSibling)?(s=o.nextSibling,a=0):gu(o.previousSibling)?(s=o.previousSibling,a=o.previousSibling.data.length):(s=r,a=e.nodeIndex(o)+1):(s=r,a=e.nodeIndex(o)):i?o.hasChildNodes()?(s=o.firstChild,a=1):gu(o.previousSibling)?(s=o.previousSibling,a=o.previousSibling.data.length):(s=r,a=e.nodeIndex(o)):(s=r,a=e.nodeIndex(o)),!i){const r=o.previousSibling,i=o.nextSibling;let l;for(Bt.each(Bt.grep(o.childNodes),e=>{Vo(e)&&(e.data=e.data.replace(/\uFEFF/g,""))});l=e.get(n.id+"_"+t);)e.remove(l,!0);if(Vo(i)&&Vo(r)&&!At.browser.isOpera()){const t=r.data.length;r.appendData(i.data),e.remove(i),s=r,a=t}}return M.some(Na(s,a))}return M.none()},bu=(e,t,n)=>((e,t,n=!1)=>2===t?Wa(Rr,n,e):3===t?(e=>{const t=e.getRng();return{start:Ma(e.dom.getRoot(),Na.fromRangeStart(t)),end:Ma(e.dom.getRoot(),Na.fromRangeEnd(t)),forward:e.isForward()}})(e):t?(e=>({rng:e.getRng(),forward:e.isForward()}))(e):Ka(e,!1))(e,t,n),yu=(e,t)=>{((e,t)=>{const n=e.dom;if(t){if(du(t))return((e,t)=>{const n=e.createRng();return hu(e,!0,t,n)&&hu(e,!1,t,n)?M.some({range:n,forward:uu(t)}):M.none()})(n,t);if((e=>f(e.start))(t))return((e,t)=>{const n=M.from(ja(e.getRoot(),t.start)),o=M.from(ja(e.getRoot(),t.end));return Pt(n,o,(n,o)=>{const r=e.createRng();return r.setStart(n.container(),n.offset()),r.setEnd(o.container(),o.offset()),{range:r,forward:uu(t)}})})(n,t);if((e=>xe(e,"id"))(t))return((e,t)=>{const n=vu(e,"start",t),o=vu(e,"end",t);return Pt(n,o.or(n),(n,o)=>{const r=e.createRng();return r.setStart(fu(e,n.container()),n.offset()),r.setEnd(fu(e,o.container()),o.offset()),{range:r,forward:uu(t)}})})(n,t);if(cu(t))return((e,t)=>M.from(e.select(t.name)[t.index]).map(t=>{const n=e.createRng();return n.selectNode(t),{range:n,forward:!0}}))(n,t);if((e=>xe(e,"rng"))(t))return M.some({range:t.rng,forward:uu(t)})}return M.none()})(e,t).each(({range:t,forward:n})=>{e.setRng(t,n)})},Cu=e=>Mo(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type"),_u=e=>"Â "===e,wu=e=>""!==e&&-1!==" \f\n\r\t\v".indexOf(e),xu=e=>!wu(e)&&!_u(e)&&!lr(e),Eu=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},Su=e=>(e=>{return{value:(t=e,He(t,"#").toUpperCase())};var t})(Eu(e.red)+Eu(e.green)+Eu(e.blue)),ku=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Nu=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Tu=(e,t,n,o)=>({red:e,green:t,blue:n,alpha:o}),Au=(e,t,n,o)=>{const r=parseInt(e,10),i=parseInt(t,10),s=parseInt(n,10),a=parseFloat(o);return Tu(r,i,s,a)},Ru=e=>(e=>{if("transparent"===e)return M.some(Tu(0,0,0,0));const t=ku.exec(e);if(null!==t)return M.some(Au(t[1],t[2],t[3],"1"));const n=Nu.exec(e);return null!==n?M.some(Au(n[1],n[2],n[3],n[4])):M.none()})(e).map(Su).map(e=>"#"+e.value).getOr(e),Ou=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},Du=(e,t)=>{const n=Do(t,"td[data-mce-selected],th[data-mce-selected]");return n.length>0?n:(e=>X((e=>te(e,e=>{const t=sa(e);return t?[gn(t)]:[]}))(e),_r))(e)},Bu=e=>Du(Ou(e.selection.getSel()),gn(e.getBody())),Lu=(e,t)=>Yn(e,"table",t),Pu=e=>Ln(e).fold(N([e]),t=>[e].concat(Pu(t))),Iu=e=>Pn(e).fold(N([e]),t=>"br"===Ht(t)?Tn(t).map(t=>[e].concat(Iu(t))).getOr([]):[e].concat(Iu(t))),Mu=(e,t)=>Pt((e=>{const t=e.startContainer,n=e.startOffset;return Vo(t)?0===n?M.some(gn(t)):M.none():M.from(t.childNodes[n]).map(gn)})(t),(e=>{const t=e.endContainer,n=e.endOffset;return Vo(t)?n===t.data.length?M.some(gn(t)):M.none():M.from(t.childNodes[n-1]).map(gn)})(t),(t,n)=>{const o=J(Pu(e),R(Cn,t)),r=J(Iu(e),R(Cn,n));return o.isSome()&&r.isSome()}).getOr(!1),ju=(e,t,n,o)=>{const r=n,i=new Lo(n,r),s=ye(e.schema.getMoveCaretBeforeOnEnterElements(),(e,t)=>!q(["td","th","table"],t.toLowerCase()));let a=n;do{if(Vo(a)&&0!==Bt.trim(a.data).length)return void(o?t.setStart(a,0):t.setEnd(a,a.data.length));if(s[a.nodeName])return void(o?t.setStartBefore(a):"BR"===a.nodeName?t.setEndBefore(a):t.setEndAfter(a))}while(a=o?i.next():i.prev());"BODY"===r.nodeName&&(o?t.setStart(r,0):t.setEnd(r,r.childNodes.length))},Fu=e=>{const t=e.selection.getSel();return C(t)&&t.rangeCount>0},Hu=(e,t)=>{const n=Bu(e);n.length>0?W(n,n=>{const o=n.dom,r=e.dom.createRng();r.setStartBefore(o),r.setEndAfter(o),t(r,!0)}):t(e.selection.getRng(),!1)},Uu=(e,t,n)=>{const o=Ka(e,t);n(o),e.moveToBookmark(o)},qu=e=>w(null==e?void 0:e.nodeType),zu=e=>Mo(e)&&!Cu(e)&&!au(e)&&!qo(e),$u=e=>!0===e.isContentEditable,Wu=(e,t,n)=>{const{selection:o,dom:r}=e,i=o.getNode(),s=tr(i);Uu(o,!0,()=>{t()}),s&&tr(i)&&r.isChildOf(i,e.getBody())?e.selection.select(i):n(o.getStart())&&Vu(r,o)},Vu=(e,t)=>{var n,o;const r=t.getRng(),{startContainer:i,startOffset:s}=r;if(!((e,t)=>{if(zu(t)&&!/^(TD|TH)$/.test(t.nodeName)){const n=e.getAttrib(t,"data-mce-selected"),o=parseInt(n,10);return!isNaN(o)&&o>0}return!1})(e,t.getNode())&&Mo(i)){const a=i.childNodes,l=e.getRoot();let c;if(s<a.length){const t=a[s];c=new Lo(t,null!==(n=e.getParent(t,e.isBlock))&&void 0!==n?n:l)}else{const t=a[a.length-1];c=new Lo(t,null!==(o=e.getParent(t,e.isBlock))&&void 0!==o?o:l),c.next(!0)}for(let n=c.current();n;n=c.next()){if("false"===e.getContentEditable(n))return;if(Vo(n)&&!Gu(n))return r.setStart(n,0),void t.setRng(r)}}},Ku=(e,t,n)=>{if(e){const o=t?"nextSibling":"previousSibling";for(e=n?e:e[o];e;e=e[o])if(Mo(e)||!Gu(e))return e}},Xu=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||yi(e,t),Yu=(e,t,n)=>e.schema.isValidChild(t,n),Gu=(e,t=!1)=>{if(C(e)&&Vo(e)){const n=t?e.data.replace(/ /g,"Â "):e.data;return ti(n)}return!1},Qu=(e,t)=>{const n=e.dom;return zu(t)&&"false"===n.getContentEditable(t)&&((e,t)=>{const n="[data-mce-cef-wrappable]",o=ic(e),r=Ye(o)?n:`${n},${o}`;return bn(gn(t),r)})(e,t)&&0===n.select('[contenteditable="true"]',t).length},Ju=(e,t)=>_(e)?e(t):(C(t)&&(e=e.replace(/%(\w+)/g,(e,n)=>t[n]||e)),e),Zu=(e,t)=>(e=""+((e=e||"").nodeName||e),t=""+((t=t||"").nodeName||t),e.toLowerCase()===t.toLowerCase()),ef=(e,t)=>{if(y(e))return null;{let n=String(e);return"color"!==t&&"backgroundColor"!==t||(n=Ru(n)),"fontWeight"===t&&700===e&&(n="bold"),"fontFamily"===t&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},tf=(e,t,n)=>{const o=e.getStyle(t,n);return ef(o,n)},nf=(e,t)=>{let n;return e.getParent(t,t=>!!Mo(t)&&(n=e.getStyle(t,"text-decoration"),!!n&&"none"!==n)),n},of=(e,t,n)=>e.getParents(t,n,e.getRoot()),rf=(e,t,n)=>{const o=e.formatter.get(t);return C(o)&&z(o,n)},sf=e=>Ee(e,"block"),af=e=>Ee(e,"selector"),lf=e=>Ee(e,"inline"),cf=e=>af(e)&&!1!==e.expand&&!lf(e),df=Cu,uf=of,ff=Gu,mf=Xu,pf=(e,t)=>{let n=t;for(;n;){if(Mo(n)&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},hf=(e,t,n,o)=>{const r=t.data;if(e){for(let i=n;i>0;i--)if(o(r.charAt(i-1)))return i}else for(let i=n;i<r.length;i++)if(o(r.charAt(i)))return i;return-1},gf=(e,t,n)=>hf(e,t,n,e=>_u(e)||wu(e)),vf=(e,t,n)=>hf(e,t,n,xu),bf=(e,t,n,o,r,i)=>{let s;const a=e.getParent(n,e.isBlock)||t,l=(t,n,o)=>{const i=Js(e);return M.from((r?i.backwards:i.forwards)(t,n,(e,t)=>df(e.parentNode)?-1:(s=e,o(r,e,t)),a))};return l(n,o,gf).bind(e=>i?l(e.container,e.offset+(r?-1:0),vf):M.some(e)).orThunk(()=>s?M.some({container:s,offset:r?0:s.length}):M.none())},yf=(e,t,n,o,r)=>{const i=o[r];Vo(o)&&Ye(o.data)&&i&&(o=i);const s=uf(e,o);for(let a=0;a<s.length;a++)for(let o=0;o<t.length;o++){const r=t[o];if((!C(r.collapsed)||r.collapsed===n.collapsed)&&af(r)&&e.is(s[a],r.selector))return s[a]}return o},Cf=(e,t,n,o)=>{var r;let i=n;const s=e.getRoot(),a=t[0];if(sf(a)&&(i=a.wrapper?null:e.getParent(n,a.block,s)),!i){const t=null!==(r=e.getParent(n,"LI,TD,TH"))&&void 0!==r?r:s;i=e.getParent(Vo(n)?n.parentNode:n,t=>t!==s&&mf(e.schema,t),t)}if(i&&sf(a)&&a.wrapper&&(i=uf(e,i,"ul,ol").reverse()[0]||i),!i)for(i=n;i&&i[o]&&!e.isBlock(i[o])&&(i=i[o],!Zu(i,"br")););return i||n},_f=(e,t,n,o)=>{const r=n.parentNode;return!C(n[o])&&(!(r!==t&&!y(r)&&!e.isBlock(r))||_f(e,t,r,o))},wf=(e,t,n,o,r)=>{let i=n;const s=r?"previousSibling":"nextSibling",a=e.getRoot();if(Vo(n)&&!ff(n)&&(r?o>0:o<n.data.length))return n;for(;i;){if(!t[0].block_expand&&e.isBlock(i))return i;for(let t=i[s];t;t=t[s]){const n=Vo(t)&&!_f(e,a,t,s);if(!df(t)&&(!Jo(l=t)||!l.getAttribute("data-mce-bogus")||l.nextSibling)&&!ff(t,n))return i}if(i===a||i.parentNode===a){n=i;break}i=i.parentNode}var l;return n},xf=e=>df(e.parentNode)||df(e),Ef=(e,t,n,o=!1)=>{let{startContainer:r,startOffset:i,endContainer:s,endOffset:a}=t;const l=n[0];return Mo(r)&&r.hasChildNodes()&&(r=aa(r,i),Vo(r)&&(i=0)),Mo(s)&&s.hasChildNodes()&&(s=aa(s,t.collapsed?a:a-1),Vo(s)&&(a=s.data.length)),r=pf(e,r),s=pf(e,s),xf(r)&&(r=df(r)?r:r.parentNode,r=t.collapsed?r.previousSibling||r:r.nextSibling||r,Vo(r)&&(i=t.collapsed?r.length:0)),xf(s)&&(s=df(s)?s:s.parentNode,s=t.collapsed?s.nextSibling||s:s.previousSibling||s,Vo(s)&&(a=t.collapsed?0:s.length)),t.collapsed&&(bf(e,e.getRoot(),r,i,!0,o).each(({container:e,offset:t})=>{r=e,i=t}),bf(e,e.getRoot(),s,a,!1,o).each(({container:e,offset:t})=>{s=e,a=t})),(lf(l)||l.block_expand)&&(lf(l)&&Vo(r)&&0!==i||(r=wf(e,n,r,i,!0)),lf(l)&&Vo(s)&&a!==s.data.length||(s=wf(e,n,s,a,!1))),cf(l)&&(r=yf(e,n,t,r,"previousSibling"),s=yf(e,n,t,s,"nextSibling")),(sf(l)||af(l))&&(r=Cf(e,n,r,"previousSibling"),s=Cf(e,n,s,"nextSibling"),sf(l)&&(e.isBlock(r)||(r=wf(e,n,r,i,!0)),e.isBlock(s)||(s=wf(e,n,s,a,!1)))),Mo(r)&&r.parentNode&&(i=e.nodeIndex(r),r=r.parentNode),Mo(s)&&s.parentNode&&(a=e.nodeIndex(s)+1,s=s.parentNode),{startContainer:r,startOffset:i,endContainer:s,endOffset:a}},Sf=(e,t,n)=>{var o;const r=t.startOffset,i=aa(t.startContainer,r),s=t.endOffset,a=aa(t.endContainer,s-1),l=e=>{const t=e[0];Vo(t)&&t===i&&r>=t.data.length&&e.splice(0,1);const n=e[e.length-1];return 0===s&&e.length>0&&n===a&&Vo(n)&&e.splice(e.length-1,1),e},c=(e,t,n)=>{const o=[];for(;e&&e!==n;e=e[t])o.push(e);return o},d=(t,n)=>e.getParent(t,e=>e.parentNode===n,n),u=(e,t,o)=>{const r=o?"nextSibling":"previousSibling";for(let i=e,s=i.parentNode;i&&i!==t;i=s){s=i.parentNode;const t=c(i===e?i:i[r],r);t.length&&(o||t.reverse(),n(l(t)))}};if(i===a)return n(l([i]));const f=null!==(o=e.findCommonAncestor(i,a))&&void 0!==o?o:e.getRoot();if(e.isChildOf(i,a))return u(i,f,!0);if(e.isChildOf(a,i))return u(a,f);const m=d(i,f)||i,p=d(a,f)||a;u(i,m,!0);const h=c(m===i?m:m.nextSibling,"nextSibling",p===a?p.nextSibling:p);h.length&&n(l(h)),u(a,p)},kf=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],Nf=(e,t,n,o,r,i)=>{const{uid:s=t,...a}=n;ln(e,Ps()),Yt(e,""+Ms(),s),Yt(e,""+Is(),o);const{attributes:l={},classes:c=[]}=r(s,a);if(Gt(e,l),((e,t)=>{W(t,t=>{ln(e,t)})})(e,c),i){c.length>0&&Yt(e,""+Fs(),c.join(","));const t=fe(l);t.length>0&&Yt(e,""+Hs(),t.join(","))}},Tf=(e,t,n,o,r)=>{const i=pn("span",e);return Nf(i,t,n,o,r,!1),i},Af=e=>{const t=(()=>{const e={};return{register:(t,n)=>{e[t]={name:t,settings:n}},lookup:t=>we(e,t).map(e=>e.settings),getNames:()=>fe(e)}})();((e,t)=>{const n=Is(),o=e=>M.from(e.attr(n)).bind(t.lookup),r=e=>{var t,n;e.attr(Ms(),null),e.attr(Is(),null),e.attr(js(),null);const o=M.from(e.attr(Hs())).map(e=>e.split(",")).getOr([]),r=M.from(e.attr(Fs())).map(e=>e.split(",")).getOr([]);W(o,t=>e.attr(t,null));const i=null!==(n=null===(t=e.attr("class"))||void 0===t?void 0:t.split(" "))&&void 0!==n?n:[],s=re(i,[Ps()].concat(r));e.attr("class",s.length>0?s.join(" "):null),e.attr(Fs(),null),e.attr(Hs(),null)};e.serializer.addTempAttr(js()),e.serializer.addAttributeFilter(n,e=>{for(const t of e)o(t).each(e=>{!1===e.persistent&&("span"===t.name?t.unwrap():r(t))})})})(e,t);const n=((e,t)=>{const n=Ss({}),o=()=>({listeners:[],previous:Ds()}),r=(e,t)=>{i(e,e=>(t(e),e))},i=(e,t)=>{const r=n.get(),i=t(we(r,e).getOrThunk(o));r[e]=i,n.set(r)},s=(t,n)=>{W($s(e,t),e=>{n?Yt(e,js(),"true"):en(e,js())})},a=Ls(()=>{const n=se(t.getNames());W(n,t=>{i(t,n=>{const o=n.previous.get();return qs(e,M.some(t)).fold(()=>{o.each(e=>{(e=>{r(e,t=>{W(t.listeners,t=>t(!1,e))})})(t),n.previous.clear(),s(e,!1)})},({uid:e,name:t,elements:i})=>{Lt(o,e)||(o.each(e=>s(e,!1)),((e,t,n)=>{r(e,o=>{W(o.listeners,o=>o(!0,e,{uid:t,nodes:$(n,e=>e.dom)}))})})(t,e,i),n.previous.set(e),s(e,!0))}),{previous:n.previous,listeners:n.listeners}})})},30);return e.on("remove",()=>{a.cancel()}),e.on("NodeChange",()=>{a.throttle()}),{addListener:(e,t)=>{i(e,e=>({previous:e.previous,listeners:e.listeners.concat([t])}))}}})(e,t),o=Kt("span"),r=e=>{W(e,e=>{o(e)?bo(e):(e=>{dn(e,Ps()),en(e,""+Ms()),en(e,""+Is()),en(e,""+js());const t=Jt(e,""+Hs()).map(e=>e.split(",")).getOr([]),n=Jt(e,""+Fs()).map(e=>e.split(",")).getOr([]);var o;W(t,t=>en(e,t)),o=e,W(n,e=>{dn(o,e)}),en(e,""+Fs()),en(e,""+Hs())})(e)})};return{register:(e,n)=>{t.register(e,n)},annotate:(n,o)=>{t.lookup(n).each(t=>{((e,t,n,o)=>{e.undoManager.transact(()=>{const r=e.selection,i=r.getRng(),s=Bu(e).length>0,a=Ks("mce-annotation");if(i.collapsed&&!s&&((e,t)=>{const n=Ef(e.dom,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)})(e,i),r.getRng().collapsed&&!s){const i=Tf(e.getDoc(),a,o,t,n.decorate);_o(i,ar),r.getRng().insertNode(i.dom),r.select(i.dom)}else Uu(r,!1,()=>{Hu(e,r=>{((e,t,n,o,r,i)=>{const s=[],a=Tf(e.getDoc(),n,i,o,r),l=Ds(),c=()=>{l.clear()},d=e=>{W(e,u)},u=t=>{switch(((e,t,n,o)=>Sn(t).fold(()=>"skipping",r=>"br"===o||(e=>$t(e)&&dr(e)===Tr)(t)?"valid":(e=>zt(e)&&un(e,Ps()))(t)?"existing":au(t.dom)?"caret":z(kf,e=>bn(t,e))?"valid-block":Yu(e,n,o)&&Yu(e,Ht(r),n)?"valid":"invalid-child"))(e,t,"span",Ht(t))){case"invalid-child":{c();const e=Dn(t);d(e),c();break}case"valid-block":c(),Nf(t,n,i,o,r,!0);break;case"valid":{const e=l.get().getOrThunk(()=>{const e=Ys(a);return s.push(e),l.set(e),e});po(t,e);break}}};Sf(e.dom,t,e=>{c(),(e=>{const t=$(e,gn);d(t)})(e)})})(e,r,a,t,n.decorate,o)})})})})(e,n,t,o)})},annotationChanged:(e,t)=>{n.addListener(e,t)},remove:t=>{qs(e,M.some(t)).each(({elements:t})=>{const n=e.selection.getBookmark();r(t),e.selection.moveToBookmark(n)})},removeAll:t=>{const n=e.selection.getBookmark();pe(Ws(e,t),(e,t)=>{r(e)}),e.selection.moveToBookmark(n)},getAll:t=>{const n=Ws(e,t);return he(n,e=>$(e,e=>e.dom))}}},Rf=e=>({getBookmark:R(bu,e),moveToBookmark:R(yu,e)});Rf.isBookmarkNode=Cu;const Of=(e,t,n)=>!n.collapsed&&z(n.getClientRects(),n=>((e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom)(n,e,t)),Df=(e,t,n)=>{e.dispatch(t,n)},Bf=(e,t,n,o)=>{e.dispatch("FormatApply",{format:t,node:n,vars:o})},Lf=(e,t,n,o)=>{e.dispatch("FormatRemove",{format:t,node:n,vars:o})},Pf=(e,t)=>e.dispatch("SetContent",t),If=(e,t)=>e.dispatch("GetContent",t),Mf=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),jf={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||jf.metaKeyPressed(e),metaKeyPressed:e=>At.os.isMacOS()||At.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Ff="data-mce-selected",Hf=Math.abs,Uf=Math.round,qf={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},zf=(e,t)=>{const n=t.dom,o=t.getDoc(),r=document,i=t.getBody();let s,a,l,c,d,u,f,m,p,h,g,v,b,y,_;const w=e=>C(e)&&(Zo(e)||n.is(e,"figure.image")),x=e=>rr(e)||n.hasClass(e,"mce-preview-object"),E=e=>{const n=e.target;((e,t)=>{if((e=>"longpress"===e.type||0===e.type.indexOf("touch"))(e)){const n=e.touches[0];return w(e.target)&&!Of(n.clientX,n.clientY,t)}return w(e.target)&&!Of(e.clientX,e.clientY,t)})(e,t.selection.getRng())&&!e.isDefaultPrevented()&&t.selection.select(n)},S=e=>n.hasClass(e,"mce-preview-object")&&C(e.firstElementChild)?[e,e.firstElementChild]:n.is(e,"figure.image")?[e.querySelector("img")]:[e],k=e=>{const o=Vl(t);return!!o&&"false"!==e.getAttribute("data-mce-resize")&&e!==t.getBody()&&(n.hasClass(e,"mce-preview-object")&&C(e.firstElementChild)?bn(gn(e.firstElementChild),o):bn(gn(e),o))},N=(e,o,r)=>{if(C(r)){const i=S(e);W(i,e=>{e.style[o]||!t.schema.isValid(e.nodeName.toLowerCase(),o)?n.setStyle(e,o,r):n.setAttrib(e,o,""+r)})}},T=(e,t,n)=>{N(e,"width",t),N(e,"height",n)},A=e=>{let o,r,d,C,E;o=e.screenX-u,r=e.screenY-f,v=o*c[2]+m,b=r*c[3]+p,v=v<5?5:v,b=b<5?5:b,d=(w(s)||x(s))&&!1!==Kl(t)?!jf.modifierPressed(e):jf.modifierPressed(e),d&&(Hf(o)>Hf(r)?(b=Uf(v*h),v=Uf(b/h)):(v=Uf(b/h),b=Uf(v*h))),T(a,v,b),C=c.startPos.x+o,E=c.startPos.y+r,C=C>0?C:0,E=E>0?E:0,n.setStyles(l,{left:C,top:E,display:"block"}),l.innerHTML=v+" &times; "+b,c[2]<0&&a.clientWidth<=v&&n.setStyle(a,"left",void 0+(m-v)),c[3]<0&&a.clientHeight<=b&&n.setStyle(a,"top",void 0+(p-b)),o=i.scrollWidth-y,r=i.scrollHeight-_,o+r!==0&&n.setStyles(l,{left:C-o,top:E-r}),g||(((e,t,n,o,r)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:o,origin:r})})(t,s,m,p,"corner-"+c.name),g=!0)},R=()=>{const e=g;g=!1,e&&(N(s,"width",v),N(s,"height",b)),n.unbind(o,"mousemove",A),n.unbind(o,"mouseup",R),r!==o&&(n.unbind(r,"mousemove",A),n.unbind(r,"mouseup",R)),n.remove(a),n.remove(l),n.remove(d),O(s),e&&(((e,t,n,o,r)=>{e.dispatch("ObjectResized",{target:t,width:n,height:o,origin:r})})(t,s,v,b,"corner-"+c.name),n.setAttrib(s,"style",n.getAttrib(s,"style"))),t.nodeChanged()},O=e=>{I();const g=n.getPos(e,i),C=g.x,w=g.y,E=e.getBoundingClientRect(),N=E.width||E.right-E.left,O=E.height||E.bottom-E.top;s!==e&&(B(),s=e,v=b=0);const D=t.dispatch("ObjectSelected",{target:e});k(e)&&!D.isDefaultPrevented()?pe(qf,(e,t)=>{let g=n.get("mceResizeHandle"+t);g&&n.remove(g),g=n.add(i,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),n.bind(g,"mousedown",g=>{g.stopImmediatePropagation(),g.preventDefault(),(g=>{const v=S(s)[0];var b;u=g.screenX,f=g.screenY,m=v.clientWidth,p=v.clientHeight,h=p/m,c=e,c.name=t,c.startPos={x:N*e[0]+C,y:O*e[1]+w},y=i.scrollWidth,_=i.scrollHeight,d=n.add(i,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(d,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),a=x(b=s)?n.create("img",{src:At.transparentSrc}):b.cloneNode(!0),n.addClass(a,"mce-clonedresizable"),n.setAttrib(a,"data-mce-bogus","all"),a.contentEditable="false",n.setStyles(a,{left:C,top:w,margin:0}),T(a,N,O),a.removeAttribute(Ff),i.appendChild(a),n.bind(o,"mousemove",A),n.bind(o,"mouseup",R),r!==o&&(n.bind(r,"mousemove",A),n.bind(r,"mouseup",R)),l=n.add(i,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},m+" &times; "+p)})(g)}),e.elm=g,n.setStyles(g,{left:N*e[0]+C-g.offsetWidth/2,top:O*e[1]+w-g.offsetHeight/2})}):B(!1)},D=Bs(O,0),B=(e=!0)=>{D.cancel(),I(),s&&e&&s.removeAttribute(Ff),pe(qf,(e,t)=>{const o=n.get("mceResizeHandle"+t);o&&(n.unbind(o),n.remove(o))})},L=(e,t)=>n.isChildOf(e,t),P=o=>{if(g||t.removed||t.composing)return;const r="mousedown"===o.type?o.target:e.getNode(),s=Qn(gn(r),"table,img,figure.image,hr,video,span.mce-preview-object").map(e=>e.dom).filter(e=>n.isEditable(e.parentElement)).getOrUndefined(),a=C(s)?n.getAttrib(s,Ff,"1"):"1";if(W(n.select("img[data-mce-selected],hr[data-mce-selected]"),e=>{e.removeAttribute(Ff)}),C(s)&&L(s,i)){M();const t=e.getStart(!0);if(L(t,s)&&L(e.getEnd(!0),s))return n.setAttrib(s,Ff,a),void D.throttle(s)}B()},I=()=>{pe(qf,e=>{e.elm&&(n.unbind(e.elm),delete e.elm)})},M=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(e){}};return t.on("init",()=>{M(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",P),t.on("keyup compositionend",e=>{s&&"TABLE"===s.nodeName&&P(e)}),t.on("hide blur",B),t.on("contextmenu longpress",E,!0)}),t.on("remove",I),{isResizable:k,showResizeRect:O,hideResizeRect:B,updateResizeRect:P,destroy:()=>{D.cancel(),s=a=d=null}}},$f=(e,t,n)=>{const o=e.document.createRange();var r;return r=o,t.fold(e=>{r.setStartBefore(e.dom)},(e,t)=>{r.setStart(e.dom,t)},e=>{r.setStartAfter(e.dom)}),((e,t)=>{t.fold(t=>{e.setEndBefore(t.dom)},(t,n)=>{e.setEnd(t.dom,n)},t=>{e.setEndAfter(t.dom)})})(o,n),o},Wf=(e,t,n,o,r)=>{const i=e.document.createRange();return i.setStart(t.dom,n),i.setEnd(o.dom,r),i},Vf=Ja([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Kf=(e,t,n)=>t(gn(n.startContainer),n.startOffset,gn(n.endContainer),n.endOffset),Xf=(e,t,n,o)=>({start:e,soffset:t,finish:n,foffset:o}),Yf=document.caretPositionFromPoint?(e,t,n)=>{var o,r;return M.from(null===(r=(o=e.dom).caretPositionFromPoint)||void 0===r?void 0:r.call(o,t,n)).bind(t=>{if(null===t.offsetNode)return M.none();const n=e.dom.createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),M.some(n)})}:document.caretRangeFromPoint?(e,t,n)=>{var o,r;return M.from(null===(r=(o=e.dom).caretRangeFromPoint)||void 0===r?void 0:r.call(o,t,n))}:M.none,Gf=Ja([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Qf={before:Gf.before,on:Gf.on,after:Gf.after,cata:(e,t,n,o)=>e.fold(t,n,o),getStart:e=>e.fold(T,T,T)},Jf=Ja([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Zf={domRange:Jf.domRange,relative:Jf.relative,exact:Jf.exact,exactFromRange:e=>Jf.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=(e=>e.match({domRange:e=>gn(e.startContainer),relative:(e,t)=>Qf.getStart(e),exact:(e,t,n,o)=>e}))(e);return En(t)},range:Xf},em=(e,t)=>{const n=Ht(e);return"input"===n?Qf.after(e):q(["br","img"],n)?0===t?Qf.before(e):Qf.after(e):Qf.on(e,t)},tm=(e,t)=>{const n=e.fold(Qf.before,em,Qf.after),o=t.fold(Qf.before,em,Qf.after);return Zf.relative(n,o)},nm=(e,t,n,o)=>{const r=em(e,t),i=em(n,o);return Zf.relative(r,i)},om=(e,t)=>{const n=(t||document).createDocumentFragment();return W(e,e=>{n.appendChild(e.dom)}),gn(n)},rm=(e,t,n)=>((e,t,n)=>((e,t,n)=>{const o=gn(e.document);return Yf(o,t,n).map(e=>Xf(gn(e.startContainer),e.startOffset,gn(e.endContainer),e.endOffset))})(e,t,n))(En(gn(n)).dom,e,t).map(e=>{const t=n.createRange();return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),t}).getOrUndefined(),im=(e,t)=>C(e)&&C(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,sm=(e,t,n)=>null!==((e,t,n)=>{let o=e;for(;o&&o!==t;){if(n(o))return o;o=o.parentNode}return null})(e,t,n),am=(e,t,n)=>sm(e,t,e=>e.nodeName===n),lm=(e,t)=>Pr(e)&&!sm(e,t,au),cm=(e,t,n)=>{const o=t.parentNode;if(o){const r=new Lo(t,e.getParent(o,e.isBlock)||e.getRoot());let i;for(;i=r[n?"prev":"next"]();)if(Jo(i))return!0}return!1},dm=(e,t,n,o,r)=>{const i=e.getRoot(),s=e.schema.getNonEmptyElements(),a=r.parentNode;let l,c;if(!a)return M.none();const d=e.getParent(a,e.isBlock)||i;if(o&&Jo(r)&&t&&e.isEmpty(d))return M.some(Na(a,e.nodeIndex(r)));const u=new Lo(r,d);for(;c=u[o?"prev":"next"]();){if("false"===e.getContentEditableParent(c)||lm(c,i))return M.none();if(Vo(c)&&c.data.length>0)return am(c,i,"A")?M.none():M.some(Na(c,o?c.data.length:0));if(e.isBlock(c)||s[c.nodeName.toLowerCase()])return M.none();l=c}return Yo(l)?M.none():n&&l?M.some(Na(l,0)):M.none()},um=(e,t,n,o)=>{const r=e.getRoot();let i,s=!1,a=n?o.startContainer:o.endContainer,l=n?o.startOffset:o.endOffset;const c=Mo(a)&&l===a.childNodes.length,d=e.schema.getNonEmptyElements();let u=n;if(Pr(a))return M.none();if(Mo(a)&&l>a.childNodes.length-1&&(u=!1),Go(a)&&(a=r,l=0),a===r){if(u&&(i=a.childNodes[l>0?l-1:0],i)){if(Pr(i))return M.none();if(d[i.nodeName]||zo(i))return M.none()}if(a.hasChildNodes()){if(l=Math.min(!u&&l>0?l-1:l,a.childNodes.length-1),a=a.childNodes[l],l=Vo(a)&&c?a.data.length:0,!t&&a===r.lastChild&&zo(a))return M.none();if(((e,t)=>{let n=t;for(;n&&n!==e;){if(tr(n))return!0;n=n.parentNode}return!1})(r,a)||Pr(a))return M.none();if(a.hasChildNodes()&&!zo(a)){i=a;const t=new Lo(a,r);do{if(tr(i)||Pr(i)){s=!1;break}if(Vo(i)&&i.data.length>0){l=u?0:i.data.length,a=i,s=!0;break}if(d[i.nodeName.toLowerCase()]&&!or(i)){l=e.nodeIndex(i),a=i.parentNode,u||l++,s=!0;break}}while(i=u?t.next():t.prev())}}}return t&&(Vo(a)&&0===l&&dm(e,c,t,!0,a).each(e=>{a=e.container(),l=e.offset(),s=!0}),Mo(a)&&(i=a.childNodes[l],i||(i=a.childNodes[l-1]),!i||!Jo(i)||((e,t)=>{var n;return"A"===(null===(n=e.previousSibling)||void 0===n?void 0:n.nodeName)})(i)||cm(e,i,!1)||cm(e,i,!0)||dm(e,c,t,!0,i).each(e=>{a=e.container(),l=e.offset(),s=!0}))),u&&!t&&Vo(a)&&l===a.data.length&&dm(e,c,t,!1,a).each(e=>{a=e.container(),l=e.offset(),s=!0}),s&&a?M.some(Na(a,l)):M.none()},fm=(e,t)=>{const n=t.collapsed,o=t.cloneRange(),r=Na.fromRangeStart(t);return um(e,n,!0,o).each(e=>{n&&Na.isAbove(r,e)||o.setStart(e.container(),e.offset())}),n||um(e,n,!1,o).each(e=>{o.setEnd(e.container(),e.offset())}),n&&o.collapse(!0),im(t,o)?M.none():M.some(o)},mm=(e,t)=>e.splitText(t),pm=e=>{let t=e.startContainer,n=e.startOffset,o=e.endContainer,r=e.endOffset;if(t===o&&Vo(t)){if(n>0&&n<t.data.length)if(o=mm(t,n),t=o.previousSibling,r>n){r-=n;const e=mm(o,r).previousSibling;t=o=e,r=e.data.length,n=0}else r=0}else if(Vo(t)&&n>0&&n<t.data.length&&(t=mm(t,n),n=0),Vo(o)&&r>0&&r<o.data.length){const e=mm(o,r).previousSibling;o=e,r=e.data.length}return{startContainer:t,startOffset:n,endContainer:o,endOffset:r}},hm=e=>({walk:(t,n)=>Sf(e,t,n),split:pm,expand:(t,n={type:"word"})=>{if("word"===n.type){const n=Ef(e,t,[{inline:"span"}]),o=e.createRng();return o.setStart(n.startContainer,n.startOffset),o.setEnd(n.endContainer,n.endOffset),o}return t},normalize:t=>fm(e,t).fold(P,e=>(t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0))});hm.compareRanges=im,hm.getCaretRangeFromPoint=rm,hm.getSelectedNode=sa,hm.getNode=aa;const gm=((e,t)=>{const n=t=>{const n=(e=>{const t=e.dom;return Wn(e)?t.getBoundingClientRect().height:t.offsetHeight})(t);if(n<=0||null===n){const n=ro(t,e);return parseFloat(n)||0}return n},o=(e,t)=>G(t,(t,n)=>{const o=ro(e,n),r=void 0===o?0:parseInt(o,10);return isNaN(r)?t:t+r},0);return{set:(t,n)=>{if(!w(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);const o=t.dom;eo(o)&&(o.style[e]=n+"px")},get:n,getOuter:n,aggregate:o,max:(e,t,n)=>{const r=o(e,n);return t>r?t-r:0}}})("height"),vm=()=>gn(document),bm=(e,t)=>e.view(t).fold(N([]),t=>{const n=e.owner(t),o=bm(e,n);return[t].concat(o)});var ym=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?M.none():M.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(gn)},owner:e=>xn(e)});const Cm=e=>"textarea"===Ht(e),_m=(e,t)=>{const n=(e=>{const t=e.dom.ownerDocument,n=t.body,o=t.defaultView,r=t.documentElement;if(n===e.dom)return Eo(n.offsetLeft,n.offsetTop);const i=So(null==o?void 0:o.pageYOffset,r.scrollTop),s=So(null==o?void 0:o.pageXOffset,r.scrollLeft),a=So(r.clientTop,n.clientTop),l=So(r.clientLeft,n.clientLeft);return ko(e).translate(s-l,i-a)})(e),o=(e=>gm.get(e))(e);return{element:e,bottom:n.top+o,height:o,pos:n,cleanup:t}},wm=(e,t,n,o)=>{km(e,(r,i)=>Em(e,t,n,o),n)},xm=(e,t,n,o,r)=>{const i={elm:o.element.dom,alignToTop:r};((e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented())(e,i)||(n(t,No(t).top,o,r),((e,t)=>{e.dispatch("AfterScrollIntoView",t)})(e,i))},Em=(e,t,n,o)=>{gn(e.getBody());const r=gn(e.getDoc()),i=((e,t)=>{const n=((e,t)=>{const n=Dn(e);if(0===n.length||Cm(e))return{element:e,offset:t};if(t<n.length&&!Cm(n[t]))return{element:n[t],offset:0};{const o=n[n.length-1];return Cm(o)?{element:e,offset:t}:"img"===Ht(o)?{element:o,offset:1}:$t(o)?{element:o,offset:dr(o).length}:{element:o,offset:Dn(o).length}}})(e,t),o=mn('<span data-mce-bogus="all" style="display: inline-block;">\ufeff</span>');return co(n.element,o),_m(o,()=>vo(o))})(gn(n.startContainer),n.startOffset);xm(e,r,t,i,o),i.cleanup()},Sm=(e,t,n,o)=>{const r=gn(e.getDoc());xm(e,r,n,(e=>_m(gn(e),E))(t),o)},km=(e,t,n)=>{const o=n.startContainer,r=n.startOffset,i=n.endContainer,s=n.endOffset;t(gn(o),gn(i));const a=e.dom.createRng();a.setStart(o,r),a.setEnd(i,s),e.selection.setRng(n)},Nm=(e,t)=>e.element.dom.scrollIntoView({block:t?"start":"end"}),Tm=(e,t,n,o)=>{const r=t+e,i=n.pos.top,s=n.bottom,a=s-i>=t;i<e?Nm(n,!1!==o):i>r?Nm(n,a?!1!==o:!0===o):s>r&&!a&&Nm(n,!0===o)},Am=(e,t,n,o)=>{const r=En(e).dom.innerHeight;Tm(t,r,n,o)},Rm=(e,t,n,o)=>{const r=En(e).dom.innerHeight;Tm(t,r,n,o);const i=(e=>{const t=vm(),n=No(t),o=((e,t)=>{const n=t.owner(e);return bm(t,n)})(e,ym),r=ko(e),i=Y(o,(e,t)=>{const n=ko(t);return{left:e.left+n.left,top:e.top+n.top}},{left:0,top:0});return Eo(i.left+r.left+n.left,i.top+r.top+n.top)})(n.element),s=Ro(window);i.top<s.y?To(n.element,!1!==o):i.top>s.bottom&&To(n.element,!0===o)},Om=(e,t,n)=>wm(e,Am,t,n),Dm=(e,t,n)=>Sm(e,t,Am,n),Bm=(e,t,n)=>wm(e,Rm,t,n),Lm=(e,t,n)=>Sm(e,t,Rm,n),Pm=(e,t,n)=>{(e.inline?Om:Bm)(e,t,n)},Im=e=>e.dom.focus(),Mm=e=>{const t=Hn(e).dom;return e.dom===t.activeElement},jm=(e=vm())=>M.from(e.dom.activeElement).map(gn),Fm=(e,t)=>{const n=$t(t)?dr(t).length:Dn(t).length+1;return e>n?n:e<0?0:e},Hm=e=>Zf.range(e.start,Fm(e.soffset,e.start),e.finish,Fm(e.foffset,e.finish)),Um=(e,t)=>!Io(t.dom)&&(_n(e,t)||Cn(e,t)),qm=e=>t=>Um(e,t.start)&&Um(e,t.finish),zm=e=>Zf.range(gn(e.startContainer),e.startOffset,gn(e.endContainer),e.endOffset),$m=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),M.some(t)}catch(e){return M.none()}},Wm=e=>{const t=(e=>e.inline||At.browser.isFirefox())(e)?(n=gn(e.getBody()),(e=>{const t=e.getSelection();return(t&&0!==t.rangeCount?M.from(t.getRangeAt(0)):M.none()).map(zm)})(En(n).dom).filter(qm(n))):M.none();var n;e.bookmark=t.isSome()?t:e.bookmark},Vm=e=>(e.bookmark?e.bookmark:M.none()).bind(t=>{return n=gn(e.getBody()),M.from(t).filter(qm(n)).map(Hm);var n}).bind($m),Km={isEditorUIElement:e=>{const t=e.className.toString();return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")}},Xm={setEditorTimeout:(e,t,n)=>((e,t)=>(w(t)||(t=0),setTimeout(e,t)))(()=>{e.removed||t()},n),setEditorInterval:(e,t,n)=>{const o=((e,t)=>(w(t)||(t=0),setInterval(e,t)))(()=>{e.removed?clearInterval(o):t()},n);return o}};let Ym;const Gm=ws.DOM,Qm=e=>{const t=e.classList;return void 0!==t&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"))},Jm=(e,t)=>{const n=sc(e);return null!==Gm.getParent(t,t=>(e=>Mo(e)&&Km.isEditorUIElement(e))(t)||!!n&&e.dom.is(t,n))},Zm=e=>{try{const t=Hn(gn(e.getElement()));return jm(t).fold(()=>document.body,e=>e.dom)}catch(e){return document.body}},ep=(e,t)=>{const n=t.editor;(e=>{const t=Bs(()=>{Wm(e)},0);e.on("init",()=>{e.inline&&((e,t)=>{const n=()=>{t.throttle()};ws.DOM.bind(document,"mouseup",n),e.on("remove",()=>{ws.DOM.unbind(document,"mouseup",n)})})(e,t),((e,t)=>{((e,t)=>{e.on("mouseup touchend",e=>{t.throttle()})})(e,t),e.on("keyup NodeChange AfterSetSelectionRange",t=>{(e=>"nodechange"===e.type&&e.selectionChange)(t)||Wm(e)})})(e,t)}),e.on("remove",()=>{t.cancel()})})(n);const o=(e,t)=>{Vc(e)&&!0!==e.inline&&t(gn(e.getContainer()),"tox-edit-focus")};n.on("focusin",()=>{const t=e.focusedEditor;Qm(Zm(n))&&o(n,ln),t!==n&&(t&&t.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:t}),n.focus(!0))}),n.on("focusout",()=>{Xm.setEditorTimeout(n,()=>{const t=e.focusedEditor;Qm(Zm(n))&&t===n||o(n,dn),Jm(n,Zm(n))||t!==n||(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Ym||(Ym=t=>{const n=e.activeEditor;n&&zn(t).each(t=>{t.ownerDocument===document&&(t===document.body||Jm(n,t)||e.focusedEditor!==n||(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null))})},Gm.bind(document,"focusin",Ym))},tp=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&Ym&&(Gm.unbind(document,"focusin",Ym),Ym=null)},np=(e,t)=>{((e,t)=>(e=>e.collapsed?M.from(aa(e.startContainer,e.startOffset)).map(gn):M.none())(t).bind(t=>Cr(t)?M.some(t):_n(e,t)?M.none():M.some(e)))(gn(e.getBody()),t).bind(e=>ru(e.dom)).fold(()=>{e.selection.normalize()},t=>e.selection.setRng(t.toRange()))},op=e=>{if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},rp=e=>e.inline?(e=>{const t=e.getBody();return t&&(n=gn(t),Mm(n)||(o=n,jm(Hn(o)).filter(e=>o.dom.contains(e.dom))).isSome());var n,o})(e):(e=>C(e.iframeElement)&&Mm(gn(e.iframeElement)))(e),ip=e=>e.editorManager.setActive(e),sp=(e,t,n,o,r)=>{const i=n?t.startOffset:t.endOffset;return M.from(n?t.startContainer:t.endContainer).map(gn).map(e=>o&&t.collapsed?e:Bn(e,r(e,i)).getOr(e)).bind(e=>zt(e)?M.some(e):Sn(e).filter(zt)).map(e=>e.dom).getOr(e)},ap=(e,t,n=!1)=>sp(e,t,!0,n,(e,t)=>Math.min(In(e),t)),lp=(e,t,n=!1)=>sp(e,t,!1,n,(e,t)=>t>0?t-1:t),cp=(e,t)=>{const n=e;for(;e&&Vo(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},dp=(e,t)=>$(t,t=>{const n=e.dispatch("GetSelectionRange",{range:t});return n.range!==t?n.range:t}),up=["img","br"],fp=e=>ur(e).filter(e=>0!==e.trim().length||e.indexOf(ar)>-1).isSome()||q(up,Ht(e))||(e=>{return zt(t=e)&&(e=>{const t=jt("ownerDocument.defaultView",e);return m(e)&&((e=>((e,t)=>{const n=((e,t)=>jt("HTMLElement",t))(0,t);if(null==n)throw new Error("HTMLElement not available on this browser");return n})(0,e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Ft(e).constructor.name))})(t.dom)&&"false"===Qt(e,"contenteditable");var t})(e),mp="[data-mce-autocompleter]",pp=e=>Gn(e,mp),hp={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},gp=(e,t,n)=>{const o=n?"lastChild":"firstChild",r=n?"prev":"next";if(e[o])return e[o];if(e!==t){let n=e[r];if(n)return n;for(let o=e.parent;o&&o!==t;o=o.parent)if(n=o[r],n)return n}},vp=e=>{var t;const n=null!==(t=e.value)&&void 0!==t?t:"";if(!ti(n))return!1;const o=e.parent;return!o||"span"===o.name&&!o.attr("style")||!/^[ ]+$/.test(n)},bp=e=>{const t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class yp{constructor(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}static create(e,t){const n=new yp(e,hp[e]||1);return t&&pe(t,(e,t)=>{n.attr(t,e)}),n}replace(e){const t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t}attr(e,t){const n=this;if(!f(e))return C(e)&&pe(e,(e,t)=>{n.attr(t,e)}),n;const o=n.attributes;if(o){if(void 0!==t){if(null===t){if(e in o.map){delete o.map[e];let t=o.length;for(;t--;)if(o[t].name===e)return o.splice(t,1),n}return n}if(e in o.map){let n=o.length;for(;n--;)if(o[n].name===e){o[n].value=t;break}}else o.push({name:e,value:t});return o.map[e]=t,n}return o.map[e]}}clone(){const e=this,t=new yp(e.name,e.type),n=e.attributes;if(n){const e=[];e.map={};for(let t=0,o=n.length;t<o;t++){const o=n[t];"id"!==o.name&&(e[e.length]={name:o.name,value:o.value},e.map[o.name]=o.value)}t.attributes=e}return t.value=e.value,t}wrap(e){const t=this;return t.parent&&(t.parent.insert(e,t),e.append(t)),t}unwrap(){const e=this;for(let t=e.firstChild;t;){const n=t.next;e.insert(t,e,!0),t=n}e.remove()}remove(){const e=this,t=e.parent,n=e.next,o=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):o&&(o.next=n),t.lastChild===e?(t.lastChild=o,o&&(o.next=null)):n&&(n.prev=o),e.parent=e.next=e.prev=null),e}append(e){const t=this;e.parent&&e.remove();const n=t.lastChild;return n?(n.next=e,e.prev=n,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e}insert(e,t,n){e.parent&&e.remove();const o=t.parent||this;return n?(t===o.firstChild?o.firstChild=e:t.prev&&(t.prev.next=e),e.prev=t.prev,e.next=t,t.prev=e):(t===o.lastChild?o.lastChild=e:t.next&&(t.next.prev=e),e.next=t.next,e.prev=t,t.next=e),e.parent=o,e}getAll(e){const t=this,n=[];for(let o=t.firstChild;o;o=gp(o,t))o.name===e&&n.push(o);return n}children(){const e=[];for(let t=this.firstChild;t;t=t.next)e.push(t);return e}empty(){const e=this;if(e.firstChild){const t=[];for(let o=e.firstChild;o;o=gp(o,e))t.push(o);let n=t.length;for(;n--;){const e=t[n];e.parent=e.firstChild=e.lastChild=e.next=e.prev=null}}return e.firstChild=e.lastChild=null,e}isEmpty(e,t={},n){var o;const r=this;let i=r.firstChild;if(bp(r))return!1;if(i)do{if(1===i.type){if(i.attr("data-mce-bogus"))continue;if(e[i.name])return!1;if(bp(i))return!1}if(8===i.type)return!1;if(3===i.type&&!vp(i))return!1;if(3===i.type&&i.parent&&t[i.parent.name]&&ti(null!==(o=i.value)&&void 0!==o?o:""))return!1;if(n&&n(i))return!1}while(i=gp(i,r));return!0}walk(e){return gp(this,null,e)}}const Cp=(e,t,n=0)=>{const o=e.toLowerCase();if(-1!==o.indexOf("[if ",n)&&((e,t)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t)))(o,n)){const e=o.indexOf("[endif]",n);return o.indexOf(">",e)}if(t){const e=o.indexOf(">",n);return-1!==e?e:o.length}{const t=/--!?>/g;t.lastIndex=n;const r=t.exec(e);return r?r.index+r[0].length:o.length}},_p=(e,t,n)=>{const o=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,r=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,i=e.getVoidElements();let s=1,a=n;for(;0!==s;)for(o.lastIndex=a;;){const e=o.exec(t);if(null===e)return a;if("!"===e[1]){a=qe(e[2],"--")?Cp(t,!1,e.index+"!--".length):Cp(t,!0,e.index+1);break}{r.lastIndex=o.lastIndex;const n=r.exec(t);if(g(n)||n.index!==o.lastIndex)continue;"/"===e[1]?s-=1:xe(i,e[2])||(s+=1),a=o.lastIndex+n[0].length;break}}return a},wp=(e,t)=>{const n=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,o=e.schema;let r=((e,t)=>{const n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")})(e.getTempAttrs(),t);const i=o.getVoidElements();let s;for(;s=n.exec(r);){const e=n.lastIndex,t=s[0].length;let a;a=i[s[1]]?e:_p(o,r,e),r=r.substring(0,e-t)+r.substring(a),n.lastIndex=e-t}return Rr(r)},xp=wp,Ep=e=>{const t=Do(e,"[data-mce-bogus]");W(t,e=>{"all"===Qt(e,"data-mce-bogus")?vo(e):gr(e)?(co(e,hn(sr)),vo(e)):bo(e)})},Sp=e=>{const t=Do(e,"input");W(t,e=>{en(e,"name")})},kp=Bt.makeMap,Np=e=>{const t=[],n=(e=e||{}).indent,o=kp(e.indent_before||""),r=kp(e.indent_after||""),i=zi.getEncodeFunc(e.entity_encoding||"raw",e.entities),s="xhtml"!==e.element_format;return{start:(e,a,l)=>{if(n&&o[e]&&t.length>0){const e=t[t.length-1];e.length>0&&"\n"!==e&&t.push("\n")}if(t.push("<",e),a)for(let n=0,o=a.length;n<o;n++){const e=a[n];t.push(" ",e.name,'="',i(e.value,!0),'"')}if(t[t.length]=!l||s?">":" />",l&&n&&r[e]&&t.length>0){const e=t[t.length-1];e.length>0&&"\n"!==e&&t.push("\n")}},end:e=>{let o;t.push("</",e,">"),n&&r[e]&&t.length>0&&(o=t[t.length-1],o.length>0&&"\n"!==o&&t.push("\n"))},text:(e,n)=>{e.length>0&&(t[t.length]=n?e:i(e))},cdata:e=>{t.push("<![CDATA[",e,"]]>")},comment:e=>{t.push("\x3c!--",e,"--\x3e")},pi:(e,o)=>{o?t.push("<?",e," ",i(o),"?>"):t.push("<?",e,"?>"),n&&t.push("\n")},doctype:e=>{t.push("<!DOCTYPE",e,">",n?"\n":"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},Tp=(e={},t=ns())=>{const n=Np(e);return e.validate=!("validate"in e)||e.validate,{serialize:o=>{const r=e.validate,i={3:e=>{var t;n.text(null!==(t=e.value)&&void 0!==t?t:"",e.raw)},8:e=>{var t;n.comment(null!==(t=e.value)&&void 0!==t?t:"")},7:e=>{n.pi(e.name,e.value)},10:e=>{var t;n.doctype(null!==(t=e.value)&&void 0!==t?t:"")},4:e=>{var t;n.cdata(null!==(t=e.value)&&void 0!==t?t:"")},11:e=>{let t=e;if(t=t.firstChild)do{s(t)}while(t=t.next)}};n.reset();const s=e=>{var o;const a=i[e.type];if(a)a(e);else{const i=e.name,a=i in t.getVoidElements();let l=e.attributes;if(r&&l&&l.length>1){const n=[];n.map={};const o=t.getElementRule(e.name);if(o){for(let e=0,t=o.attributesOrder.length;e<t;e++){const t=o.attributesOrder[e];if(t in l.map){const e=l.map[t];n.map[t]=e,n.push({name:t,value:e})}}for(let e=0,t=l.length;e<t;e++){const t=l[e].name;if(!(t in n.map)){const e=l.map[t];n.map[t]=e,n.push({name:t,value:e})}}l=n}}if(n.start(i,l,a),!a){let t=e.firstChild;if(t){"pre"!==i&&"textarea"!==i||3!==t.type||"\n"!==(null===(o=t.value)||void 0===o?void 0:o[0])||n.text("\n",!0);do{s(t)}while(t=t.next)}n.end(i)}}};return 1!==o.type||e.inner?3===o.type?i[3](o):i[11](o):s(o),n.getContent()}}},Ap=new Set;W(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],e=>{Ap.add(e)});const Rp=["font","text-decoration","text-emphasis"],Op=(e,t)=>fe(e.parseStyle(e.getAttrib(t,"style"))),Dp=(e,t,n)=>{const o=Op(e,t),r=Op(e,n),i=o=>{var r,i;const s=null!==(r=e.getStyle(t,o))&&void 0!==r?r:"",a=null!==(i=e.getStyle(n,o))&&void 0!==i?i:"";return Xe(s)&&Xe(a)&&s!==a};return z(o,e=>{const t=t=>z(t,t=>t===e);if(!t(r)&&t(Rp)){const e=X(r,e=>z(Rp,t=>qe(e,t)));return z(e,i)}return i(e)})},Bp=(e,t,n)=>M.from(n.container()).filter(Vo).exists(o=>{const r=e?0:-1;return t(o.data.charAt(n.offset()+r))}),Lp=R(Bp,!0,wu),Pp=R(Bp,!1,wu),Ip=e=>{const t=e.container();return Vo(t)&&(0===t.data.length||Ar(t.data)&&Rf.isBookmarkNode(t.parentNode))},Mp=(e,t)=>n=>Sd(e?0:-1,n).filter(t).isSome(),jp=e=>Zo(e)&&"block"===ro(gn(e),"display"),Fp=e=>tr(e)&&!(e=>Mo(e)&&"all"===e.getAttribute("data-mce-bogus"))(e),Hp=Mp(!0,jp),Up=Mp(!1,jp),qp=Mp(!0,rr),zp=Mp(!1,rr),$p=Mp(!0,zo),Wp=Mp(!1,zo),Vp=Mp(!0,Fp),Kp=Mp(!1,Fp),Xp=(e,t)=>((e,t,n)=>_n(t,e)?Nn(e,e=>n(e)||Cn(e,t)).slice(0,-1):[])(e,t,P),Yp=(e,t)=>[e].concat(Xp(e,t)),Gp=(e,t,n)=>eu(e,t,n,Ip),Qp=(e,t)=>J(Yp(gn(t.container()),e),pr),Jp=(e,t,n)=>Gp(e,t.dom,n).forall(e=>Qp(t,n).fold(()=>!Ed(e,n,t.dom),o=>!Ed(e,n,t.dom)&&_n(o,gn(e.container())))),Zp=(e,t,n)=>Qp(t,n).fold(()=>Gp(e,t.dom,n).forall(e=>!Ed(e,n,t.dom)),t=>Gp(e,t.dom,n).isNone()),eh=R(Zp,!1),th=R(Zp,!0),nh=R(Jp,!1),oh=R(Jp,!0),rh=e=>Ld(e).exists(gr),ih=(e,t,n)=>{const o=X(Yp(gn(n.container()),t),pr),r=le(o).getOr(t);return Jd(e,r.dom,n).filter(rh)},sh=(e,t)=>Ld(t).exists(gr)||ih(!0,e,t).isSome(),ah=(e,t)=>(e=>M.from(e.getNode(!0)).map(gn))(t).exists(gr)||ih(!1,e,t).isSome(),lh=R(ih,!1),ch=R(ih,!0),dh=e=>Na.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),uh=(e,t)=>{const n=X(Yp(gn(t.container()),e),pr);return le(n).getOr(e)},fh=(e,t)=>dh(t)?Pp(t):Pp(t)||ou(uh(e,t).dom,t).exists(Pp),mh=(e,t)=>dh(t)?Lp(t):Lp(t)||nu(uh(e,t).dom,t).exists(Lp),ph=e=>Ld(e).bind(e=>Xn(e,zt)).exists(e=>(e=>q(["pre","pre-wrap"],e))(ro(e,"white-space"))),hh=(e,t)=>n=>{return o=new Lo(n,e)[t](),C(o)&&tr(o)&&md(o);var o},gh=(e,t)=>!ph(t)&&(eh(e,t)||nh(e,t)||ah(e,t)||fh(e,t)||((e,t)=>{const n=ou(e.dom,t).getOr(t),o=hh(e.dom,"prev");return t.isAtStart()&&(o(t.container())||o(n.container()))})(e,t)),vh=(e,t)=>!ph(t)&&(th(e,t)||oh(e,t)||sh(e,t)||mh(e,t)||((e,t)=>{const n=nu(e.dom,t).getOr(t),o=hh(e.dom,"next");return t.isAtEnd()&&(o(t.container())||o(n.container()))})(e,t)),bh=(e,t)=>gh(e,t)||vh(e,(e=>{const t=e.container(),n=e.offset();return Vo(t)&&n<t.data.length?Na(t,n+1):e})(t)),yh=(e,t)=>_u(e.charAt(t)),Ch=(e,t)=>wu(e.charAt(t)),_h=(e,t,n)=>{const o=t.data,r=Na(t,0);return n||!yh(o,0)||bh(e,r)?!!(n&&Ch(o,0)&&gh(e,r))&&(t.data=ar+o.slice(1),!0):(t.data=" "+o.slice(1),!0)},wh=(e,t,n)=>{const o=t.data,r=Na(t,o.length-1);return n||!yh(o,o.length-1)||bh(e,r)?!!(n&&Ch(o,o.length-1)&&vh(e,r))&&(t.data=o.slice(0,-1)+ar,!0):(t.data=o.slice(0,-1)+" ",!0)},xh=(e,t,n)=>{if(0===n)return;const o=gn(e),r=Kn(o,pr).getOr(o),i=e.data.slice(t,t+n),s=t+n>=e.data.length&&vh(r,Na(e,e.data.length)),a=0===t&&gh(r,Na(e,0));e.replaceData(t,n,oi(i,4,a,s))},Eh=(e,t)=>{const n=e.data.slice(t),o=n.length-Ve(n).length;xh(e,t,o)},Sh=(e,t)=>{const n=e.data.slice(0,t),o=n.length-Ke(n).length;xh(e,t-o,o)},kh=(e,t,n,o=!0)=>{const r=Ke(e.data).length,i=o?e:t,s=o?t:e;return o?i.appendData(s.data):i.insertData(0,s.data),vo(gn(s)),n&&Eh(i,r),i},Nh=(e,t)=>((e,t)=>{const n=e.container(),o=e.offset();return!Na.isTextPosition(e)&&n===t.parentNode&&o>Na.before(t).offset()})(t,e)?Na(t.container(),t.offset()-1):t,Th=e=>{return Qr(e.previousSibling)?M.some(Vo(t=e.previousSibling)?Na(t,t.data.length):Na.after(t)):e.previousSibling?iu(e.previousSibling):M.none();var t},Ah=e=>{return Qr(e.nextSibling)?M.some(Vo(t=e.nextSibling)?Na(t,0):Na.before(t)):e.nextSibling?ru(e.nextSibling):M.none();var t},Rh=(e,t,n)=>{n.fold(()=>{e.focus()},n=>{e.selection.setRng(n.toRange(),t)})},Oh=(e,t)=>t&&xe(e.schema.getBlockElements(),Ht(t)),Dh=e=>{if(li(e)){const t=mn('<br data-mce-bogus="1">');return go(e),mo(e,t),M.some(Na.before(t.dom))}return M.none()},Bh=(e,t,n,o=!0)=>{const r=((e,t,n)=>((e,t,n)=>e?((e,t)=>Ah(t).orThunk(()=>Th(t)).orThunk(()=>((e,t)=>nu(e,Na.after(t)).orThunk(()=>ou(e,Na.before(t))))(e,t)))(t,n):((e,t)=>Th(t).orThunk(()=>Ah(t)).orThunk(()=>((e,t)=>M.from(t.previousSibling?t.previousSibling:t.parentNode).bind(t=>ou(e,Na.before(t))).orThunk(()=>nu(e,Na.after(t))))(e,t)))(t,n))(e,t,n).map(R(Nh,n)))(t,e.getBody(),n.dom),i=Kn(n,R(Oh,e),(s=e.getBody(),e=>e.dom===s));var s;const a=((e,t,n)=>{const o=Tn(e).filter($t),r=An(e).filter($t);return vo(e),(i=o,s=r,a=t,l=(e,t,o)=>{const r=e.dom,i=t.dom,s=r.data.length;return kh(r,i,n),o.container()===i?Na(r,s):o},i.isSome()&&s.isSome()&&a.isSome()?M.some(l(i.getOrDie(),s.getOrDie(),a.getOrDie())):M.none()).orThunk(()=>(n&&(o.each(e=>Sh(e.dom,e.dom.length)),r.each(e=>Eh(e.dom,0))),t));var i,s,a,l})(n,r,((e,t)=>xe(e.schema.getTextInlineElements(),Ht(t)))(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):i.bind(Dh).fold(()=>{o&&Rh(e,t,a)},n=>{o&&Rh(e,t,M.some(n))})},Lh=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Ph=(e,t)=>bn(gn(t),Wl(e))&&!yi(e.schema,t)&&e.dom.isEditable(t),Ih=(e,t,n)=>{const o=((e,t,n)=>X(ws.DOM.getParents(n.container(),"*",t),e))(e,t,n);return M.from(o[o.length-1])},Mh=(e,t)=>{const n=t.container(),o=t.offset();return e?Lr(n)?Vo(n.nextSibling)?Na(n.nextSibling,0):Na.after(n):Mr(t)?Na(n,o+1):t:Lr(n)?Vo(n.previousSibling)?Na(n.previousSibling,n.previousSibling.data.length):Na.before(n):jr(t)?Na(n,o-1):t},jh=R(Mh,!0),Fh=R(Mh,!1),Hh=(e,t)=>{const n=e=>e.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},Uh=e=>Hh(e,"Delete"),qh=e=>vr(e)||yr(e),zh=(e,t)=>_n(e,t)?Xn(t,qh,(e=>t=>Lt(Sn(t),e,Cn))(e)):M.none(),$h=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},Wh=e=>{var t;return(8===Ut(t=e)||"#comment"===Ht(t)?Tn(e):Pn(e)).bind(Wh).orThunk(()=>M.some(e))},Vh=(e,t,n,o=!0)=>{var r;t.deleteContents();const i=Wh(n).getOr(n),s=gn(null!==(r=e.dom.getParent(i.dom,e.dom.isBlock))&&void 0!==r?r:n.dom);if(s.dom===e.getBody()?$h(e,o):li(s)&&(kr(s),o&&e.selection.setCursorLocation(s.dom,0)),!Cn(n,s)){const e=Lt(Sn(s),n)?[]:Sn(a=s).map(Dn).map(e=>X(e,e=>!Cn(a,e))).getOr([]);W(e.concat(Dn(n)),e=>{Cn(e,s)||_n(e,s)||!li(e)||vo(e)})}var a},Kh=e=>Do(e,"td,th"),Xh=(e,t)=>({start:e,end:t}),Yh=Ja([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Gh=(e,t)=>Qn(gn(e),"td,th",t),Qh=e=>!Cn(e.start,e.end),Jh=(e,t)=>Lu(e.start,t).bind(n=>Lu(e.end,t).bind(e=>It(Cn(n,e),n))),Zh=e=>t=>Jh(t,e).map(e=>((e,t,n)=>({rng:e,table:t,cells:n}))(t,e,Kh(e))),eg=(e,t,n,o)=>{if(n.collapsed||!e.forall(Qh))return M.none();if(t.isSameTable){const t=e.bind(Zh(o));return M.some({start:t,end:t})}{const e=Gh(n.startContainer,o),t=Gh(n.endContainer,o),r=e.bind((e=>t=>Lu(t,e).bind(e=>ce(Kh(e)).map(e=>Xh(t,e))))(o)).bind(Zh(o)),i=t.bind((e=>t=>Lu(t,e).bind(e=>le(Kh(e)).map(e=>Xh(e,t))))(o)).bind(Zh(o));return M.some({start:r,end:i})}},tg=(e,t)=>Z(e,e=>Cn(e,t)),ng=e=>Pt(tg(e.cells,e.rng.start),tg(e.cells,e.rng.end),(t,n)=>e.cells.slice(t,n+1)),og=(e,t)=>{const{startTable:n,endTable:o}=t,r=e.cloneRange();return n.each(e=>r.setStartAfter(e.dom)),o.each(e=>r.setEndBefore(e.dom)),r},rg=e=>W(e,e=>{en(e,"contenteditable"),kr(e)}),ig=(e,t,n,o)=>{const r=n.cloneRange();o?(r.setStart(n.startContainer,n.startOffset),r.setEndAfter(t.dom.lastChild)):(r.setStartBefore(t.dom.firstChild),r.setEnd(n.endContainer,n.endOffset)),cg(e,r,t,!1).each(e=>e())},sg=e=>{const t=Bu(e),n=gn(e.selection.getNode());nr(n.dom)&&li(n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&z(t,e=>Cn(e,n))&&Yt(n,"data-mce-selected","1")},ag=(e,t,n)=>M.some(()=>{const o=e.selection.getRng(),r=n.bind(({rng:n,isStartInTable:r})=>{const i=((e,t)=>M.from(e.dom.getParent(t,e.dom.isBlock)).map(gn))(e,r?n.endContainer:n.startContainer);n.deleteContents(),((e,t,n)=>{n.each(n=>{t?vo(n):(kr(n),e.selection.setCursorLocation(n.dom,0))})})(e,r,i.filter(li));const s=r?t[0]:t[t.length-1];return ig(e,s,o,r),li(s)?M.none():M.some(r?t.slice(1):t.slice(0,-1))}).getOr(t);rg(r),sg(e)}),lg=(e,t,n,o)=>M.some(()=>{const r=e.selection.getRng(),i=t[0],s=n[n.length-1];ig(e,i,r,!0),ig(e,s,r,!1);const a=li(i)?t:t.slice(1),l=li(s)?n:n.slice(0,-1);rg(a.concat(l)),o.deleteContents(),sg(e)}),cg=(e,t,n,o=!0)=>M.some(()=>{Vh(e,t,n,o)}),dg=(e,t)=>M.some(()=>Bh(e,!1,t)),ug=(e,t)=>J(Yp(t,e),_r),fg=(e,t)=>J(Yp(t,e),Kt("caption")),mg=(e,t)=>M.some(()=>{kr(t),e.selection.setCursorLocation(t.dom,0)}),pg=(e,t)=>e?$p(t):Wp(t),hg=(e,t)=>{const n=gn(e.selection.getStart(!0)),o=Bu(e);return e.selection.isCollapsed()&&0===o.length?((e,t,n)=>{const o=gn(e.getBody());return fg(o,n).fold(()=>((e,t,n,o)=>{const r=Na.fromRangeStart(e.selection.getRng());return ug(n,o).bind(o=>li(o)?mg(e,o):((e,t,n,o,r)=>Zd(n,e.getBody(),r).bind(e=>ug(t,gn(e.getNode())).bind(e=>Cn(e,o)?M.none():M.some(E))))(e,n,t,o,r))})(e,t,o,n).orThunk(()=>It(((e,t)=>{const n=Na.fromRangeStart(e.selection.getRng());return pg(t,n)||Jd(t,e.getBody(),n).exists(e=>pg(t,e))})(e,t),E)),n=>((e,t,n,o)=>{const r=Na.fromRangeStart(e.selection.getRng());return li(o)?mg(e,o):((e,t,n,o,r)=>Zd(n,e.getBody(),r).fold(()=>M.some(E),i=>((e,t,n,o)=>ru(e.dom).bind(r=>iu(e.dom).map(e=>t?n.isEqual(r)&&o.isEqual(e):n.isEqual(e)&&o.isEqual(r))).getOr(!0))(o,n,r,i)?((e,t)=>mg(e,t))(e,o):((e,t,n)=>fg(e,gn(n.getNode())).fold(()=>M.some(E),e=>It(!Cn(e,t),E)))(t,o,i)))(e,n,t,o,r)})(e,t,o,n))})(e,t,n):((e,t,n)=>{const o=gn(e.getBody()),r=e.selection.getRng();return 0!==n.length?ag(e,n,M.none()):((e,t,n,o)=>fg(t,o).fold(()=>((e,t,n)=>((e,t)=>{const n=(e=>t=>Cn(e,t))(e),o=((e,t)=>{const n=Gh(e.startContainer,t),o=Gh(e.endContainer,t);return Pt(n,o,Xh)})(t,n),r=((e,t)=>{const n=e=>Lu(gn(e),t),o=n(e.startContainer),r=n(e.endContainer),i=o.isSome(),s=r.isSome(),a=Pt(o,r,Cn).getOr(!1);return{startTable:o,endTable:r,isStartInTable:i,isEndInTable:s,isSameTable:a,isMultiTable:!a&&i&&s}})(t,n);return((e,t,n)=>e.exists(e=>((e,t)=>!Qh(e)&&Jh(e,t).exists(e=>{const t=e.dom.rows;return 1===t.length&&1===t[0].cells.length}))(e,n)&&Mu(e.start,t)))(o,t,n)?o.map(e=>Yh.singleCellTable(t,e.start)):r.isMultiTable?((e,t,n,o)=>eg(e,t,n,o).bind(({start:e,end:o})=>{const r=e.bind(ng).getOr([]),i=o.bind(ng).getOr([]);if(r.length>0&&i.length>0){const e=og(n,t);return M.some(Yh.multiTable(r,i,e))}return M.none()}))(o,r,t,n):((e,t,n,o)=>eg(e,t,n,o).bind(({start:e,end:t})=>e.or(t)).bind(e=>{const{isSameTable:o}=t,r=ng(e).getOr([]);if(o&&e.cells.length===r.length)return M.some(Yh.fullTable(e.table));if(r.length>0){if(o)return M.some(Yh.partialTable(r,M.none()));{const e=og(n,t);return M.some(Yh.partialTable(r,M.some({...t,rng:e})))}}return M.none()}))(o,r,t,n)})(t,n).bind(t=>t.fold(R(cg,e),R(dg,e),R(ag,e),R(lg,e))))(e,t,n),t=>((e,t)=>mg(e,t))(e,t)))(e,o,r,t)})(e,n,o)},gg=(e,t)=>{let n=t;for(;n&&n!==e;){if(er(n)||tr(n))return n;n=n.parentNode}return null},vg=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],bg=Bt.each,yg=e=>{const t=e.dom,n=new Set(e.serializer.getTempAttrs()),o=e=>z(vg,t=>qe(e,t))||n.has(e);return{compare:(e,n)=>{if(e.nodeName!==n.nodeName||e.nodeType!==n.nodeType)return!1;const r=e=>{const n={};return bg(t.getAttribs(e),r=>{const i=r.nodeName.toLowerCase();"style"===i||o(i)||(n[i]=t.getAttrib(e,i))}),n},i=(e,t)=>{for(const n in e)if(xe(e,n)){const o=t[n];if(b(o))return!1;if(e[n]!==o)return!1;delete t[n]}for(const n in t)if(xe(t,n))return!1;return!0};if(Mo(e)&&Mo(n)){if(!i(r(e),r(n)))return!1;if(!i(t.parseStyle(t.getAttrib(e,"style")),t.parseStyle(t.getAttrib(n,"style"))))return!1}return!Cu(e)&&!Cu(n)},isAttributeInternal:o}},Cg=(e,t,n,o)=>{const r=n.name;for(let i=0,s=e.length;i<s;i++){const t=e[i];if(t.name===r){const e=o.nodes[r];e?e.nodes.push(n):o.nodes[r]={filter:t,nodes:[n]}}}if(n.attributes)for(let i=0,s=t.length;i<s;i++){const e=t[i],r=e.name;if(r in n.attributes.map){const t=o.attributes[r];t?t.nodes.push(n):o.attributes[r]={filter:e,nodes:[n]}}}},_g=(e,t)=>{const n=(e,n)=>{pe(e,e=>{const o=de(e.nodes);W(e.filter.callbacks,r=>{for(let t=o.length-1;t>=0;t--){const r=o[t];(n?void 0!==r.attr(e.filter.name):r.name===e.filter.name)&&!y(r.parent)||o.splice(t,1)}o.length>0&&r(o,e.filter.name,t)})})};n(e.nodes,!1),n(e.attributes,!0)},wg=(e,t,n,o={})=>{const r=((e,t,n)=>{const o={nodes:{},attributes:{}};return n.firstChild&&((n,r)=>{let i=n;for(;i=i.walk();)Cg(e,t,i,o)})(n),o})(e,t,n);_g(r,o)},xg=(e,t,n)=>{if(e.insert&&t(n)){const e=new yp("br",1);e.attr("data-mce-bogus","1"),n.empty().append(e)}else n.empty().append(new yp("#text",3)).value=ar},Eg=(e,t)=>{const n=null==e?void 0:e.firstChild;return C(n)&&n===e.lastChild&&n.name===t},Sg=(e,t,n,o)=>o.isEmpty(t,n,t=>((e,t)=>{const n=e.getElementRule(t.name);return!0===(null==n?void 0:n.paddEmpty)})(e,t)),kg=e=>{let t;for(let n=e;n;n=n.parent){const e=n.attr("contenteditable");if("false"===e)break;"true"===e&&(t=n)}return M.from(t)},Ng=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const o=e.children();for(const e of o)n&&!t.isValidChild(n.name,e.name)&&Ng(e,t,n);e.unwrap()}},Tg=(e,t,n,o=E)=>{const r=t.getTextBlockElements(),i=t.getNonEmptyElements(),s=t.getWhitespaceElements(),a=Bt.makeMap("tr,td,th,tbody,thead,tfoot,table"),l=new Set,c=e=>e!==n&&!a[e.name];for(let d=0;d<e.length;d++){const n=e[d];let a,u,f;if(!n.parent||l.has(n))continue;if(r[n.name]&&"li"===n.parent.name){let e=n.next;for(;e&&r[e.name];)e.name="li",l.add(e),n.parent.insert(e,n.parent),e=e.next;n.unwrap();continue}const m=[n];for(a=n.parent;a&&!t.isValidChild(a.name,n.name)&&c(a);a=a.parent)m.push(a);if(a&&m.length>1)if(t.isValidChild(a.name,n.name)){m.reverse(),u=m[0].clone(),o(u);let e=u;for(let n=0;n<m.length-1;n++){t.isValidChild(e.name,m[n].name)&&n>0?(f=m[n].clone(),o(f),e.append(f)):f=e;for(let e=m[n].firstChild;e&&e!==m[n+1];){const t=e.next;f.append(e),e=t}e=f}Sg(t,i,s,u)?a.insert(n,m[0],!0):(a.insert(u,m[0],!0),a.insert(n,u)),a=m[0],(Sg(t,i,s,a)||Eg(a,"br"))&&a.empty().remove()}else Ng(n,t);else if(n.parent){if("li"===n.name){let e=n.prev;if(e&&("ul"===e.name||"ol"===e.name)){e.append(n);continue}if(e=n.next,e&&("ul"===e.name||"ol"===e.name)&&e.firstChild){e.insert(n,e.firstChild,!0);continue}const t=new yp("ul",1);o(t),n.wrap(t);continue}if(t.isValidChild(n.parent.name,"div")&&t.isValidChild("div",n.name)){const e=new yp("div",1);o(e),n.wrap(e)}else Ng(n,t)}}},Ag=(e,t,n=t.parent)=>!(!n||!e.children[t.name]||e.isValidChild(n.name,t.name))||!(!n||"a"!==t.name||!((e,t)=>{let n=e;for(;n;){if("a"===n.name)return!0;n=n.parent}return!1})(n)),Rg=e=>e.collapsed?e:(e=>{const t=Na.fromRangeStart(e),n=Na.fromRangeEnd(e),o=e.commonAncestorContainer;return Jd(!1,o,n).map(r=>!Ed(t,n,o)&&Ed(t,r,o)?((e,t,n,o)=>{const r=document.createRange();return r.setStart(e,t),r.setEnd(n,o),r})(t.container(),t.offset(),r.container(),r.offset()):e).getOr(e)})(e),Og=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},Dg=(e,t)=>{const n=Na.after(e),o=Xd(t).prev(n);return o?o.toRange():null},Bg=["pre"],Lg=nr,Pg=e=>e instanceof yp,Ig=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),!0!==n&&(e=>{rp(e)&&ru(e.getBody()).each(t=>{const n=t.getNode(),o=zo(n)?ru(n).getOr(t):t;e.selection.setRng(o.toRange())})})(e)},Mg=e=>_(e)?e:P,jg=(e,t,n)=>{const o=t(e),r=Mg(n);return o.orThunk(()=>r(e)?M.none():((e,t,n)=>{let o=e.dom;const r=Mg(n);for(;o.parentNode;){o=o.parentNode;const e=gn(o),n=t(e);if(n.isSome())return n;if(r(e))break}return M.none()})(e,t,r))},Fg=Zu,Hg=(e,t,n)=>{const o=e.formatter.get(n);if(o)for(let r=0;r<o.length;r++){const n=o[r];if(af(n)&&!1===n.inherit&&e.dom.is(t,n.selector))return!0}return!1},Ug=(e,t,n,o,r)=>{const i=e.dom.getRoot();if(t===i)return!1;const s=e.dom.getParent(t,t=>!!Hg(e,t,n)||t.parentNode===i||!!$g(e,t,n,o,!0));return!!$g(e,s,n,o,r)},qg=(e,t,n)=>!(!lf(n)||!Fg(t,n.inline))||!(!sf(n)||!Fg(t,n.block))||!!af(n)&&Mo(t)&&e.is(t,n.selector),zg=(e,t,n,o,r,i)=>{const s=n[o],a="attributes"===o;if(_(n.onmatch))return n.onmatch(t,n,o);if(s)if(ke(s)){for(let l=0;l<s.length;l++)if(a?e.getAttrib(t,s[l]):tf(e,t,s[l]))return!0}else for(const l in s)if(xe(s,l)){const o=a?e.getAttrib(t,l):tf(e,t,l),c=Ju(s[l],i),d=y(o)||Ye(o);if(d&&y(c))continue;if(r&&d&&!n.exact)return!1;if((!r||n.exact)&&!Fg(o,ef(c,l)))return!1}return!0},$g=(e,t,n,o,r)=>{const i=e.formatter.get(n),s=e.dom;if(i&&Mo(t))for(let a=0;a<i.length;a++){const n=i[a];if(qg(e.dom,t,n)&&zg(s,t,n,"attributes",r,o)&&zg(s,t,n,"styles",r,o)){const r=n.classes;if(r)for(let n=0;n<r.length;n++)if(!e.dom.hasClass(t,Ju(r[n],o)))return;return n}}},Wg=(e,t,n,o,r)=>{if(o)return Ug(e,o,t,n,r);if(o=e.selection.getNode(),Ug(e,o,t,n,r))return!0;const i=e.selection.getStart();return!(i===o||!Ug(e,i,t,n,r))},Vg=Tr,Kg=e=>(e=>{const t=[];let n=e;for(;n;){if(Vo(n)&&n.data!==Vg||n.childNodes.length>1)return[];Mo(n)&&t.push(n),n=n.firstChild}return t})(e).length>0,Xg=e=>{if(e){const t=new Lo(e,e);for(let e=t.current();e;e=t.next())if(Vo(e))return e}return null},Yg=e=>{const t=pn("span");return Gt(t,{id:su,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&mo(t,hn(Vg)),t},Gg=(e,t,n=!0)=>{const o=e.dom,r=e.selection;if(Kg(t))Bh(e,!1,gn(t),n);else{const e=r.getRng(),n=o.getParent(t,o.isBlock),i=e.startContainer,s=e.startOffset,a=e.endContainer,l=e.endOffset,c=(e=>{const t=Xg(e);return t&&t.data.charAt(0)===Vg&&t.deleteData(0,1),t})(t);o.remove(t,!0),i===c&&s>0&&e.setStart(c,s-1),a===c&&l>0&&e.setEnd(c,l-1),n&&o.isEmpty(n)&&kr(gn(n)),r.setRng(e)}},Qg=(e,t,n=!0)=>{const o=e.dom,r=e.selection;if(t)Gg(e,t,n);else if(!(t=lu(e.getBody(),r.getStart())))for(;t=o.get(su);)Gg(e,t,!1)},Jg=(e,t)=>(e.appendChild(t),t),Zg=(e,t)=>{var n;const o=Y(e,(e,t)=>Jg(e,t.cloneNode(!1)),t),r=null!==(n=o.ownerDocument)&&void 0!==n?n:document;return Jg(o,r.createTextNode(Vg))},ev=(e,t,n,o)=>{const s=e.dom,a=e.selection;let l=!1;const c=e.formatter.get(t);if(!c)return;const d=a.getRng(),u=d.startContainer,f=d.startOffset;let m=u;Vo(u)&&(f!==u.data.length&&(l=!0),m=m.parentNode);const p=[];let g;for(;m;){if($g(e,m,t,n,o)){g=m;break}m.nextSibling&&(l=!0),p.push(m),m=m.parentNode}if(g)if(l){const r=a.getBookmark();d.collapse(!0);let i=Ef(s,d,c,!0);i=pm(i),e.formatter.remove(t,n,i,o),a.moveToBookmark(r)}else{const l=lu(e.getBody(),g),c=Yg(!1).dom;((e,t,n)=>{var o,r;const i=e.dom,s=i.getParent(n,R(Xu,e.schema));s&&i.isEmpty(s)?null===(o=n.parentNode)||void 0===o||o.replaceChild(t,n):((e=>{const t=Do(e,"br"),n=X((e=>{const t=[];let n=e.dom;for(;n;)t.push(gn(n)),n=n.lastChild;return t})(e).slice(-1),gr);t.length===n.length&&W(n,vo)})(gn(n)),i.isEmpty(n)?null===(r=n.parentNode)||void 0===r||r.replaceChild(t,n):i.insertAfter(t,n))})(e,c,null!=l?l:g);const d=((e,t,n,o,s,a)=>{const l=e.formatter,c=e.dom,d=X(fe(l.get()),e=>e!==o&&!Ue(e,"removeformat")),u=((e,t,n)=>G(n,(n,o)=>{const r=((e,t)=>rf(e,t,e=>{const t=e=>_(e)||e.length>1&&"%"===e.charAt(0);return z(["styles","attributes"],n=>we(e,n).exists(e=>{const n=h(e)?e:_e(e);return z(n,t)}))}))(e,o);return e.formatter.matchNode(t,o,{},r)?n.concat([o]):n},[]))(e,n,d);if(X(u,t=>!((e,t,n)=>{const o=["inline","block","selector","attributes","styles","classes"],s=e=>ye(e,(e,t)=>z(o,e=>e===t));return rf(e,t,t=>{const o=s(t);return rf(e,n,e=>{const t=s(e);return((e,t,n=i)=>r(n).eq(e,t))(o,t)})})})(e,t,o)).length>0){const e=n.cloneNode(!1);return c.add(t,e),l.remove(o,s,e,a),c.remove(e),M.some(e)}return M.none()})(e,c,g,t,n,o),u=Zg(p.concat(d.toArray()),c);l&&Gg(e,l,!1),a.setCursorLocation(u,1),s.isEmpty(g)&&s.remove(g)}},tv=e=>{const t=Yg(!1),n=Zg(e,t.dom);return{caretContainer:t,caretPosition:Na(n,0)}},nv=(e,t)=>{const{caretContainer:n,caretPosition:o}=tv(t);return co(gn(e),n),vo(gn(e)),o},ov=(e,t)=>{const n=e.schema.getTextInlineElements();return xe(n,Ht(t))&&!au(t.dom)&&!qo(t.dom)},rv=e=>au(e.dom)&&Kg(e.dom),iv={},sv=Fo(["pre"]);iv.pre||(iv.pre=[]),iv.pre.push(e=>{if(!e.selection.getRng().collapsed){const t=e.selection.getSelectedBlocks(),n=X(X(t,sv),(e=>t=>{const n=t.previousSibling;return sv(n)&&q(e,n)})(t));W(n,e=>{((e,t)=>{const n=gn(t),o=xn(n).dom;vo(n),ho(gn(e),[pn("br",o),pn("br",o),...Dn(n)])})(e.previousSibling,e)})}});const av=["fontWeight","fontStyle","color","fontSize","fontFamily"],lv=(e,t)=>{const n=e.get(t);return h(n)?J(n,e=>lf(e)&&"span"===e.inline&&(e=>m(e.styles)&&z(fe(e.styles),e=>q(av,e)))(e)):M.none()},cv=(e,t)=>ou(t,Na.fromRangeStart(e)).isNone(),dv=(e,t)=>!1===nu(t,Na.fromRangeEnd(e)).exists(e=>!Jo(e.getNode())||nu(t,e).isSome()),uv=e=>t=>ir(t)&&e.isEditable(t),fv=e=>X(e.getSelectedBlocks(),uv(e.dom)),mv=Bt.each,pv=e=>Mo(e)&&!Cu(e)&&!au(e)&&!qo(e),hv=(e,t)=>{for(let n=e;n;n=n[t]){if(Vo(n)&&Xe(n.data))return e;if(Mo(n)&&!Cu(n))return n}return e},gv=(e,t,n)=>{const o=yg(e),r=Mo(t)&&$u(t),i=Mo(n)&&$u(n);if(r&&i){const r=hv(t,"previousSibling"),i=hv(n,"nextSibling");if(o.compare(r,i)){for(let e=r.nextSibling;e&&e!==i;){const t=e;e=e.nextSibling,r.appendChild(t)}return e.dom.remove(i),Bt.each(Bt.grep(i.childNodes),e=>{r.appendChild(e)}),r}}return n},vv=(e,t,n,o)=>{var r;if(o&&!1!==t.merge_siblings){const t=null!==(r=gv(e,Ku(o),o))&&void 0!==r?r:o;gv(e,t,Ku(t,!0))}},bv=(e,t,n)=>{mv(e.childNodes,e=>{pv(e)&&(t(e)&&n(e),e.hasChildNodes()&&bv(e,t,n))})},yv=(e,t)=>n=>!(!n||!tf(e,n,t)),Cv=(e,t,n)=>o=>{e.setStyle(o,t,n),""===o.getAttribute("style")&&o.removeAttribute("style"),((e,t)=>{"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)})(e,o)},_v=Ja([{keep:[]},{rename:["name"]},{removed:[]}]),wv=/^(src|href|style)$/,xv=Bt.each,Ev=Zu,Sv=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),kv=(e,t,n)=>{let o=t[n?"startContainer":"endContainer"],r=t[n?"startOffset":"endOffset"];if(Mo(o)){const e=o.childNodes.length-1;!n&&r&&r--,o=o.childNodes[r>e?e:r]}return Vo(o)&&n&&r>=o.data.length&&(o=new Lo(o,e.getBody()).next()||o),Vo(o)&&!n&&0===r&&(o=new Lo(o,e.getBody()).prev()||o),o},Nv=(e,t)=>{const n=t?"firstChild":"lastChild",o=e[n];return(e=>/^(TR|TH|TD)$/.test(e.nodeName))(e)&&o?"TR"===e.nodeName&&o[n]||o:e},Tv=(e,t,n,o)=>{var r;const i=e.create(n,o);return null===(r=t.parentNode)||void 0===r||r.insertBefore(i,t),i.appendChild(t),i},Av=(e,t,n,o,r)=>{const i=gn(t),s=gn(e.create(o,r)),a=n?On(i):Rn(i);return ho(s,a),n?(co(i,s),fo(s,i)):(uo(i,s),mo(s,i)),s.dom},Rv=(e,t,n)=>{const o=t.parentNode;let r;const i=e.dom,s=yl(e);sf(n)&&o===i.getRoot()&&(n.list_block&&Ev(t,n.list_block)||W(de(t.childNodes),t=>{Yu(e,s,t.nodeName.toLowerCase())?r?r.appendChild(t):(r=Tv(i,t,s),i.setAttribs(r,Cl(e))):r=null})),(e=>af(e)&&lf(e)&&Lt(we(e,"mixed"),!0))(n)&&!Ev(n.inline,t)||i.remove(t,!0)},Ov=(e,t,n)=>w(e)?{name:t,value:null}:{name:e,value:Ju(t,n)},Dv=(e,t)=>{""===e.getAttrib(t,"style")&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},Bv=(e,t,n,o,r)=>{let i=!1;xv(n.styles,(s,a)=>{const{name:l,value:c}=Ov(a,s,o),d=ef(c,l);(n.remove_similar||g(c)||!Mo(r)||Ev(tf(e,r,l),d))&&e.setStyle(t,l,""),i=!0}),i&&Dv(e,t)},Lv=(e,t,n,o,r)=>{const i=e.dom,s=yg(e),a=e.schema;if(lf(t)&&vi(a,t.inline)&&yi(a,o)&&o.parentElement===e.getBody())return Rv(e,o,t),_v.removed();if(!t.ceFalseOverride&&o&&"false"===i.getContentEditableParent(o))return _v.keep();if(o&&!qg(i,o,t)&&!((e,t)=>t.links&&"A"===e.nodeName)(o,t))return _v.keep();const l=o,c=t.preserve_attributes;if(lf(t)&&"all"===t.remove&&h(c)){const e=X(i.getAttribs(l),e=>q(c,e.name.toLowerCase()));if(i.removeAllAttribs(l),W(e,e=>i.setAttrib(l,e.name,e.value)),e.length>0)return _v.rename("span")}if("all"!==t.remove){Bv(i,l,t,n,r),xv(t.attributes,(e,o)=>{const{name:s,value:a}=Ov(o,e,n);if(t.remove_similar||g(a)||!Mo(r)||Ev(i.getAttrib(r,s),a)){if("class"===s){const e=i.getAttrib(l,s);if(e){let t="";if(W(e.split(/\s+/),e=>{/mce\-\w+/.test(e)&&(t+=(t?" ":"")+e)}),t)return void i.setAttrib(l,s,t)}}if(wv.test(s)&&l.removeAttribute("data-mce-"+s),"style"===s&&Fo(["li"])(l)&&"none"===i.getStyle(l,"list-style-type"))return l.removeAttribute(s),void i.setStyle(l,"list-style-type","none");"class"===s&&l.removeAttribute("className"),l.removeAttribute(s)}}),xv(t.classes,e=>{e=Ju(e,n),Mo(r)&&!i.hasClass(r,e)||i.removeClass(l,e)});const e=i.getAttribs(l);for(let t=0;t<e.length;t++)if(!s.isAttributeInternal(e[t].nodeName))return _v.keep()}return"none"!==t.remove?(Rv(e,l,t),_v.removed()):_v.keep()},Pv=(e,t,n,o,r)=>Lv(e,t,n,o,r).fold(P,t=>(e.dom.rename(o,t),!0),I),Iv=(e,t,n,o)=>Lv(e,t,n,o,o).fold(N(o),t=>(e.dom.createFragment().appendChild(o),e.dom.rename(o,t)),N(null)),Mv=(e,t,n,o,r)=>{const i=e.formatter.get(t),s=i[0],a=e.dom,l=e.selection,c=o=>{const a=((e,t,n,o,r)=>{let i;return t.parentNode&&W(of(e.dom,t.parentNode).reverse(),t=>{if(!i&&Mo(t)&&"_start"!==t.id&&"_end"!==t.id){const s=$g(e,t,n,o,r);s&&!1!==s.split&&(i=t)}}),i})(e,o,t,n,r);return((e,t,n,o,r,i,s,a)=>{var l,c;let d,u;const f=e.dom;if(n){const i=n.parentNode;for(let n=o.parentNode;n&&n!==i;n=n.parentNode){let o=f.clone(n,!1);for(let n=0;n<t.length&&(o=Iv(e,t[n],a,o),null!==o);n++);o&&(d&&o.appendChild(d),u||(u=o),d=o)}s.mixed&&f.isBlock(n)||(o=null!==(l=f.split(n,o))&&void 0!==l?l:o),d&&u&&(null===(c=r.parentNode)||void 0===c||c.insertBefore(d,r),u.appendChild(r),lf(s)&&vv(e,s,0,d))}return o})(e,i,a,o,o,0,s,n)},d=t=>z(i,o=>Pv(e,o,n,t,t)),u=t=>{const n=de(t.childNodes),o=d(t)||z(i,e=>qg(a,t,e)),r=t.parentNode;if(!o&&C(r)&&cf(s)&&d(r),s.deep&&n.length)for(let e=0;e<n.length;e++)u(n[e]);W(["underline","line-through","overline"],n=>{Mo(t)&&e.dom.getStyle(t,"text-decoration")===n&&t.parentNode&&nf(a,t.parentNode)===n&&Pv(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:n}},void 0,t)})},f=e=>{const t=a.get(e?"_start":"_end");if(t){let n=t[e?"firstChild":"lastChild"];return(e=>Cu(e)&&Mo(e)&&("_start"===e.id||"_end"===e.id))(n)&&(n=n[e?"firstChild":"lastChild"]),Vo(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),a.remove(t,!0),n}return null},m=t=>{let n,o,r=Ef(a,t,i,t.collapsed);if(s.split){if(r=pm(r),n=kv(e,r,!0),o=kv(e,r),n!==o){if(n=Nv(n,!0),o=Nv(o,!1),Sv(a,n,o)){const e=M.from(n.firstChild).getOr(n);return c(Av(a,e,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void f(!0)}if(Sv(a,o,n)){const e=M.from(o.lastChild).getOr(o);return c(Av(a,e,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void f(!1)}n=Tv(a,n,"span",{id:"_start","data-mce-type":"bookmark"}),o=Tv(a,o,"span",{id:"_end","data-mce-type":"bookmark"});const e=a.createRng();e.setStartAfter(n),e.setEndBefore(o),Sf(a,e,e=>{W(e,e=>{Cu(e)||Cu(e.parentNode)||c(e)})}),c(n),c(o),n=f(!0),o=f()}else n=o=c(n);r.startContainer=n.parentNode?n.parentNode:n,r.startOffset=a.nodeIndex(n),r.endContainer=o.parentNode?o.parentNode:o,r.endOffset=a.nodeIndex(o)+1}Sf(a,r,e=>{W(e,u)})};if(o){if(qu(o)){const e=a.createRng();e.setStartBefore(o),e.setEndAfter(o),m(e)}else m(o);Lf(e,t,o,n)}else l.isCollapsed()&&lf(s)&&!Bu(e).length?ev(e,t,n,r):(Wu(e,()=>Hu(e,m),o=>lf(s)&&Wg(e,t,n,o)),e.nodeChanged()),((e,t,n)=>{"removeformat"===t?W(fv(e.selection),t=>{W(av,n=>e.dom.setStyle(t,n,"")),Dv(e.dom,t)}):lv(e.formatter,t).each(t=>{W(fv(e.selection),o=>Bv(e.dom,o,t,n,null))})})(e,t,n),Lf(e,t,o,n)},jv=Bt.each,Fv=Bt.each,Hv=(e,t,n,o)=>{if(Fv(n.styles,(n,r)=>{e.setStyle(t,r,Ju(n,o))}),n.styles){const n=e.getAttrib(t,"style");n&&e.setAttrib(t,"data-mce-style",n)}},Uv=(e,t,n,o)=>{const r=e.formatter.get(t),i=r[0],s=!o&&e.selection.isCollapsed(),a=e.dom,l=e.selection,c=(e,t=i)=>{_(t.onformat)&&t.onformat(e,t,n,o),Hv(a,e,t,n),Fv(t.attributes,(t,o)=>{a.setAttrib(e,o,Ju(t,n))}),Fv(t.classes,t=>{const o=Ju(t,n);a.hasClass(e,o)||a.addClass(e,o)})},d=(e,t)=>{let n=!1;return Fv(e,e=>!(!af(e)||("false"!==a.getContentEditable(t)||e.ceFalseOverride)&&(!C(e.collapsed)||e.collapsed===s)&&a.is(t,e.selector)&&!au(t)&&(c(t,e),n=!0,1))),n},u=e=>{if(f(e)){const t=a.create(e);return c(t),t}return null},m=(o,s,a)=>{const l=[];let f=!0;const m=i.inline||i.block,p=u(m);Sf(o,s,s=>{let u;const h=s=>{let g=!1,v=f,b=!1;const y=s.parentNode,_=y.nodeName.toLowerCase(),w=o.getContentEditable(s);C(w)&&(v=f,f="true"===w,g=!0,b=Qu(e,s));const x=f&&!g;if(Jo(s)&&!((e,t,n,o)=>{if(rc(e)&&lf(t)&&n.parentNode){const t=es(e.schema),r=((e,t)=>((e,t)=>{const n=e.dom;return n.parentNode?((e,t)=>J(e.dom.childNodes,e=>t(gn(e))).map(gn))(gn(n.parentNode),t=>!Cn(e,t)&&(e=>au(e.dom))(t)):M.none()})(e).isSome())(gn(n));return Ee(t,o)&&li(gn(n.parentNode),!1)&&!r}return!1})(e,i,s,_))return u=null,void(sf(i)&&o.remove(s));if((o=>(e=>sf(e)&&!0===e.wrapper)(i)&&$g(e,o,t,n))(s))u=null;else{if(((t,n,o)=>{const r=(e=>sf(e)&&!0!==e.wrapper)(i)&&Xu(e.schema,t)&&Yu(e,n,m);return o&&r})(s,_,x)){const e=o.rename(s,m);return c(e),l.push(e),void(u=null)}if(af(i)){let e=d(r,s);if(!e&&C(y)&&cf(i)&&(e=d(r,y)),!lf(i)||e)return void(u=null)}C(p)&&((t,n,r,s)=>{const l=t.nodeName.toLowerCase(),c=Yu(e,m,l)&&Yu(e,n,m),d=!a&&Vo(t)&&Ar(t.data),u=au(t),f=!lf(i)||!o.isBlock(t);return(r||s)&&c&&!d&&!u&&f})(s,_,x,b)?(u||(u=o.clone(p,!1),y.insertBefore(u,s),l.push(u)),b&&g&&(f=v),u.appendChild(s)):(u=null,W(de(s.childNodes),h),g&&(f=v),u=null)}};W(s,h)}),!0===i.links&&W(l,e=>{const t=e=>{"A"===e.nodeName&&c(e,i),W(de(e.childNodes),t)};t(e)}),W(l,s=>{const a=(e=>{let t=0;return W(e.childNodes,e=>{(e=>C(e)&&Vo(e)&&0===e.length)(e)||Cu(e)||t++}),t})(s);!(l.length>1)&&o.isBlock(s)||0!==a?(lf(i)||sf(i)&&i.wrapper)&&(i.exact||1!==a||(s=(e=>J(e.childNodes,zu).filter(e=>"false"!==o.getContentEditable(e)&&qg(o,e,i)).map(t=>{const n=o.clone(t,!1);return c(n),o.replace(n,e,!0),o.remove(t,!0),n}).getOr(e))(s)),((e,t,n,o)=>{jv(t,t=>{lf(t)&&jv(e.dom.select(t.inline,o),o=>{pv(o)&&Pv(e,t,n,o,t.exact?o:null)}),((e,t,n)=>{t.clear_child_styles&&mv(e.select(t.links?"*:not(a)":"*",n),n=>{pv(n)&&$u(n)&&mv(t.styles,(t,o)=>{e.setStyle(n,o,"")})})})(e.dom,t,o)})})(e,r,n,s),((e,t,n,o,r)=>{const i=r.parentNode;$g(e,i,n,o)&&Pv(e,t,o,r)||t.merge_with_parents&&i&&e.dom.getParent(i,i=>!!$g(e,i,n,o)&&(Pv(e,t,o,r),!0))})(e,i,t,n,s),((e,t,n,o)=>{if(t.styles&&t.styles.backgroundColor){const r=yv(e,"fontSize");bv(o,e=>r(e)&&$u(e),Cv(e,"backgroundColor",Ju(t.styles.backgroundColor,n)))}})(o,i,n,s),((e,t,n,o)=>{const r=t=>{if(Mo(t)&&Mo(t.parentNode)&&$u(t)){const n=nf(e,t.parentNode);e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(Bt.walk(o,r,"childNodes"),r(o))})(o,i,0,s),((e,t,n,o)=>{if(lf(t)&&("sub"===t.inline||"sup"===t.inline)){const n=yv(e,"fontSize");bv(o,e=>n(e)&&$u(e),Cv(e,"fontSize",""));const r=X(e.select("sup"===t.inline?"sub":"sup",o),$u);e.remove(r,!0)}})(o,i,0,s),vv(e,i,0,s)):o.remove(s,!0)})},p=qu(o)?o:l.getNode();if("false"===a.getContentEditable(p)&&!Qu(e,p))return d(r,o=p),void Bf(e,t,o,n);if(i){if(o)if(qu(o)){if(!d(r,o)){const e=a.createRng();e.setStartBefore(o),e.setEndAfter(o),m(a,Ef(a,e,r),!0)}}else m(a,o,!0);else s&&lf(i)&&!Bu(e).length?((e,t,n)=>{let o;const r=e.selection,i=e.formatter.get(t);if(!i)return;const s=r.getRng();let a=s.startOffset;const l=s.startContainer.nodeValue;o=lu(e.getBody(),r.getStart());const c=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(l&&a>0&&a<l.length&&c.test(l.charAt(a))&&c.test(l.charAt(a-1))){const o=r.getBookmark();s.collapse(!0);let a=Ef(e.dom,s,i);a=pm(a),e.formatter.apply(t,n,a),r.moveToBookmark(o)}else{let i=o?Xg(o):null;o&&(null==i?void 0:i.data)===Vg||(d=e.getDoc(),u=Yg(!0).dom,o=d.importNode(u,!0),i=o.firstChild,s.insertNode(o),a=1),e.formatter.apply(t,n,o),r.setCursorLocation(i,a)}var d,u})(e,t,n):(l.setRng(Rg(l.getRng())),Wu(e,()=>{Hu(e,(e,t)=>{const n=t?e:Ef(a,e,r);m(a,n,!1)})},I),e.nodeChanged()),lv(e.formatter,t).each(t=>{W((e=>X((e=>{const t=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(1===t.length)return cv(n,t[0])&&dv(n,t[0])?t:[];{const e=le(t).filter(e=>cv(n,e)).toArray(),o=ce(t).filter(e=>dv(n,e)).toArray(),r=t.slice(1,-1);return e.concat(r).concat(o)}})(e),uv(e.dom)))(e.selection),e=>Hv(a,e,t,n))});((e,t)=>{xe(iv,e)&&W(iv[e],e=>{e(t)})})(t,e)}Bf(e,t,o,n)},qv=e=>xe(e,"vars"),zv=e=>e.selection.getStart(),$v=(e,t,n,o,r)=>Q(t,t=>{const i=e.formatter.matchNode(t,n,null!=r?r:{},o);return!b(i)},t=>!!Hg(e,t,n)||!o&&C(e.formatter.matchNode(t,n,r,!0))),Wv=(e,t)=>{const n=null!=t?t:zv(e);return X(of(e.dom,n),e=>Mo(e)&&!qo(e))},Vv=(e,t,n)=>{const o=Wv(e,t);pe(n,(n,r)=>{const i=n=>{const i=$v(e,o,r,n.similar,qv(n)?n.vars:void 0),s=i.isSome();if(n.state.get()!==s){n.state.set(s);const e=i.getOr(t);qv(n)?n.callback(s,{node:e,format:r,parents:o}):W(n.callbacks,t=>t(s,{node:e,format:r,parents:o}))}};W([n.withSimilar,n.withoutSimilar],i),W(n.withVars,i)})},Kv=Bt.explode,Xv=()=>{const e={};return{addFilter:(t,n)=>{W(Kv(t),t=>{xe(e,t)||(e[t]={name:t,callbacks:[]}),e[t].callbacks.push(n)})},getFilters:()=>_e(e),removeFilter:(t,n)=>{W(Kv(t),t=>{if(xe(e,t))if(C(n)){const o=e[t],r=X(o.callbacks,e=>e!==n);r.length>0?o.callbacks=r:delete e[t]}else delete e[t]})}}},Yv=e=>{const[t,...n]=e.split(","),o=n.join(","),r=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(r){const e=";base64"===r[2],t=e?(e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""})(o):decodeURIComponent(o);return M.some({type:r[1],data:t,base64Encoded:e})}return M.none()},Gv=(e,t,n=!0)=>{let o=t;if(n)try{o=atob(t)}catch(e){return M.none()}const r=new Uint8Array(o.length);for(let i=0;i<r.length;i++)r[i]=o.charCodeAt(i);return M.some(new Blob([r],{type:e}))},Qv=e=>new Promise((t,n)=>{const o=new FileReader;o.onloadend=()=>{t(o.result)},o.onerror=()=>{var e;n(null===(e=o.error)||void 0===e?void 0:e.message)},o.readAsDataURL(e)});let Jv=0;const Zv=(e,t,n)=>Yv(e).bind(({data:e,type:o,base64Encoded:r})=>{if(t&&!r)return M.none();{const t=r?e:btoa(e);return n(t,o)}}),eb=(e,t,n)=>{const o=e.create("blobid"+Jv++,t,n);return e.add(o),o},tb=(e,t,n=!1)=>Zv(t,n,(t,n)=>M.from(e.getByData(t,n)).orThunk(()=>Gv(n,t).map(n=>eb(e,n,t))));function nb(e){return(nb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ob(e,t){return(ob=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rb(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ib(e,t,n){return(ib=rb()?Reflect.construct:function(e,t,n){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(e,o));return n&&ob(r,n.prototype),r}).apply(null,arguments)}function sb(e){return function(e){if(Array.isArray(e))return ab(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ab(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ab(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ab(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var lb=Object.hasOwnProperty,cb=Object.setPrototypeOf,db=Object.isFrozen,ub=Object.getPrototypeOf,fb=Object.getOwnPropertyDescriptor,mb=Object.freeze,pb=Object.seal,hb=Object.create,gb="undefined"!=typeof Reflect&&Reflect,vb=gb.apply,bb=gb.construct;vb||(vb=function(e,t,n){return e.apply(t,n)}),mb||(mb=function(e){return e}),pb||(pb=function(e){return e}),bb||(bb=function(e,t){return ib(e,sb(t))});var yb,Cb=Rb(Array.prototype.forEach),_b=Rb(Array.prototype.pop),wb=Rb(Array.prototype.push),xb=Rb(String.prototype.toLowerCase),Eb=Rb(String.prototype.match),Sb=Rb(String.prototype.replace),kb=Rb(String.prototype.indexOf),Nb=Rb(String.prototype.trim),Tb=Rb(RegExp.prototype.test),Ab=(yb=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return bb(yb,t)});function Rb(e){return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return vb(e,t,o)}}function Ob(e,t){cb&&cb(e,null);for(var n=t.length;n--;){var o=t[n];if("string"==typeof o){var r=xb(o);r!==o&&(db(t)||(t[n]=r),o=r)}e[o]=!0}return e}function Db(e){var t,n=hb(null);for(t in e)vb(lb,e,[t])&&(n[t]=e[t]);return n}function Bb(e,t){for(;null!==e;){var n=fb(e,t);if(n){if(n.get)return Rb(n.get);if("function"==typeof n.value)return Rb(n.value)}e=ub(e)}return function(e){return console.warn("fallback value for",e),null}}var Lb=mb(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Pb=mb(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ib=mb(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Mb=mb(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),jb=mb(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Fb=mb(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Hb=mb(["#text"]),Ub=mb(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),qb=mb(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),zb=mb(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),$b=mb(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Wb=pb(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Vb=pb(/<%[\w\W]*|[\w\W]*%>/gm),Kb=pb(/^data-[\-\w.\u00B7-\uFFFF]/),Xb=pb(/^aria-[\-\w]+$/),Yb=pb(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Gb=pb(/^(?:\w+script|data):/i),Qb=pb(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Jb=pb(/^html$/i),Zb=function(){return"undefined"==typeof window?null:window},ey=function(e,t){if("object"!==nb(e)||"function"!=typeof e.createPolicy)return null;var n=null,o="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(o)&&(n=t.currentScript.getAttribute(o));var r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}},ty=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zb(),n=function(t){return e(t)};if(n.version="2.3.8",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var o=t.document,r=t.document,i=t.DocumentFragment,s=t.HTMLTemplateElement,a=t.Node,l=t.Element,c=t.NodeFilter,d=t.NamedNodeMap,u=void 0===d?t.NamedNodeMap||t.MozNamedAttrMap:d,f=t.HTMLFormElement,m=t.DOMParser,p=t.trustedTypes,h=l.prototype,g=Bb(h,"cloneNode"),v=Bb(h,"nextSibling"),b=Bb(h,"childNodes"),y=Bb(h,"parentNode");if("function"==typeof s){var C=r.createElement("template");C.content&&C.content.ownerDocument&&(r=C.content.ownerDocument)}var _=ey(p,o),w=_?_.createHTML(""):"",x=r,E=x.implementation,S=x.createNodeIterator,k=x.createDocumentFragment,N=x.getElementsByTagName,T=o.importNode,A={};try{A=Db(r).documentMode?r.documentMode:{}}catch(e){}var R={};n.isSupported="function"==typeof y&&E&&void 0!==E.createHTMLDocument&&9!==A;var O,D,B=Wb,L=Vb,P=Kb,I=Xb,M=Gb,j=Qb,F=Yb,H=null,U=Ob({},[].concat(sb(Lb),sb(Pb),sb(Ib),sb(jb),sb(Hb))),q=null,z=Ob({},[].concat(sb(Ub),sb(qb),sb(zb),sb($b))),$=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),W=null,V=null,K=!0,X=!0,Y=!1,G=!1,Q=!1,J=!1,Z=!1,ee=!1,te=!1,ne=!1,oe=!0,re=!0,ie=!1,se={},ae=null,le=Ob({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ce=null,de=Ob({},["audio","video","img","source","image","track"]),ue=null,fe=Ob({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),me="http://www.w3.org/1998/Math/MathML",pe="http://www.w3.org/2000/svg",he="http://www.w3.org/1999/xhtml",ge=he,ve=!1,be=["application/xhtml+xml","text/html"],ye="text/html",Ce=null,_e=r.createElement("form"),we=function(e){return e instanceof RegExp||e instanceof Function},xe=function(e){Ce&&Ce===e||(e&&"object"===nb(e)||(e={}),e=Db(e),H="ALLOWED_TAGS"in e?Ob({},e.ALLOWED_TAGS):U,q="ALLOWED_ATTR"in e?Ob({},e.ALLOWED_ATTR):z,ue="ADD_URI_SAFE_ATTR"in e?Ob(Db(fe),e.ADD_URI_SAFE_ATTR):fe,ce="ADD_DATA_URI_TAGS"in e?Ob(Db(de),e.ADD_DATA_URI_TAGS):de,ae="FORBID_CONTENTS"in e?Ob({},e.FORBID_CONTENTS):le,W="FORBID_TAGS"in e?Ob({},e.FORBID_TAGS):{},V="FORBID_ATTR"in e?Ob({},e.FORBID_ATTR):{},se="USE_PROFILES"in e&&e.USE_PROFILES,K=!1!==e.ALLOW_ARIA_ATTR,X=!1!==e.ALLOW_DATA_ATTR,Y=e.ALLOW_UNKNOWN_PROTOCOLS||!1,G=e.SAFE_FOR_TEMPLATES||!1,Q=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_TRUSTED_TYPE||!1,Z=e.FORCE_BODY||!1,oe=!1!==e.SANITIZE_DOM,re=!1!==e.KEEP_CONTENT,ie=e.IN_PLACE||!1,F=e.ALLOWED_URI_REGEXP||F,ge=e.NAMESPACE||he,e.CUSTOM_ELEMENT_HANDLING&&we(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&($.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&we(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&($.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&($.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),O=O=-1===be.indexOf(e.PARSER_MEDIA_TYPE)?ye:e.PARSER_MEDIA_TYPE,D="application/xhtml+xml"===O?function(e){return e}:xb,G&&(X=!1),te&&(ee=!0),se&&(H=Ob({},sb(Hb)),q=[],!0===se.html&&(Ob(H,Lb),Ob(q,Ub)),!0===se.svg&&(Ob(H,Pb),Ob(q,qb),Ob(q,$b)),!0===se.svgFilters&&(Ob(H,Ib),Ob(q,qb),Ob(q,$b)),!0===se.mathMl&&(Ob(H,jb),Ob(q,zb),Ob(q,$b))),e.ADD_TAGS&&(H===U&&(H=Db(H)),Ob(H,e.ADD_TAGS)),e.ADD_ATTR&&(q===z&&(q=Db(q)),Ob(q,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&Ob(ue,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(ae===le&&(ae=Db(ae)),Ob(ae,e.FORBID_CONTENTS)),re&&(H["#text"]=!0),Q&&Ob(H,["html","head","body"]),H.table&&(Ob(H,["tbody"]),delete W.tbody),mb&&mb(e),Ce=e)},Ee=Ob({},["mi","mo","mn","ms","mtext"]),Se=Ob({},["foreignobject","desc","title","annotation-xml"]),ke=Ob({},["title","style","font","a","script"]),Ne=Ob({},Pb);Ob(Ne,Ib),Ob(Ne,Mb);var Te=Ob({},jb);Ob(Te,Fb);var Ae=function(e){var t=y(e);t&&t.tagName||(t={namespaceURI:he,tagName:"template"});var n=xb(e.tagName),o=xb(t.tagName);return e.namespaceURI===pe?t.namespaceURI===he?"svg"===n:t.namespaceURI===me?"svg"===n&&("annotation-xml"===o||Ee[o]):Boolean(Ne[n]):e.namespaceURI===me?t.namespaceURI===he?"math"===n:t.namespaceURI===pe?"math"===n&&Se[o]:Boolean(Te[n]):e.namespaceURI===he&&!(t.namespaceURI===pe&&!Se[o])&&!(t.namespaceURI===me&&!Ee[o])&&!Te[n]&&(ke[n]||!Ne[n])},Re=function(e){wb(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=w}catch(t){e.remove()}}},Oe=function(e,t){try{wb(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){wb(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!q[e])if(ee||te)try{Re(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},De=function(e){var t,n;if(Z)e="<remove></remove>"+e;else{var o=Eb(e,/^[\r\n\t ]+/);n=o&&o[0]}"application/xhtml+xml"===O&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var i=_?_.createHTML(e):e;if(ge===he)try{t=(new m).parseFromString(i,O)}catch(e){}if(!t||!t.documentElement){t=E.createDocument(ge,"template",null);try{t.documentElement.innerHTML=ve?"":i}catch(e){}}var s=t.body||t.documentElement;return e&&n&&s.insertBefore(r.createTextNode(n),s.childNodes[0]||null),ge===he?N.call(t,Q?"html":"body")[0]:Q?t.documentElement:s},Be=function(e){return S.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},Le=function(e){return e instanceof f&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof u)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)},Pe=function(e){return"object"===nb(a)?e instanceof a:e&&"object"===nb(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Ie=function(e,t,o){R[e]&&Cb(R[e],(function(e){e.call(n,t,o,Ce)}))},Me=function(e){var t;if(Ie("beforeSanitizeElements",e,null),Le(e))return Re(e),!0;if(Tb(/[\u0080-\uFFFF]/,e.nodeName))return Re(e),!0;var o=D(e.nodeName);if(Ie("uponSanitizeElement",e,{tagName:o,allowedTags:H}),e.hasChildNodes()&&!Pe(e.firstElementChild)&&(!Pe(e.content)||!Pe(e.content.firstElementChild))&&Tb(/<[/\w]/g,e.innerHTML)&&Tb(/<[/\w]/g,e.textContent))return Re(e),!0;if("select"===o&&Tb(/<template/i,e.innerHTML))return Re(e),!0;if(!H[o]||W[o]){if(!W[o]&&Fe(o)){if($.tagNameCheck instanceof RegExp&&Tb($.tagNameCheck,o))return!1;if($.tagNameCheck instanceof Function&&$.tagNameCheck(o))return!1}if(re&&!ae[o]){var r=y(e)||e.parentNode,i=b(e)||e.childNodes;if(i&&r)for(var s=i.length-1;s>=0;--s)r.insertBefore(g(i[s],!0),v(e))}return Re(e),!0}return e instanceof l&&!Ae(e)?(Re(e),!0):"noscript"!==o&&"noembed"!==o||!Tb(/<\/no(script|embed)/i,e.innerHTML)?(G&&3===e.nodeType&&(t=Sb(t=e.textContent,B," "),t=Sb(t,L," "),e.textContent!==t&&(wb(n.removed,{element:e.cloneNode()}),e.textContent=t)),Ie("afterSanitizeElements",e,null),!1):(Re(e),!0)},je=function(e,t,n){if(oe&&("id"===t||"name"===t)&&(n in r||n in _e))return!1;if(X&&!V[t]&&Tb(P,t));else if(K&&Tb(I,t));else if(!q[t]||V[t]){if(!(Fe(e)&&($.tagNameCheck instanceof RegExp&&Tb($.tagNameCheck,e)||$.tagNameCheck instanceof Function&&$.tagNameCheck(e))&&($.attributeNameCheck instanceof RegExp&&Tb($.attributeNameCheck,t)||$.attributeNameCheck instanceof Function&&$.attributeNameCheck(t))||"is"===t&&$.allowCustomizedBuiltInElements&&($.tagNameCheck instanceof RegExp&&Tb($.tagNameCheck,n)||$.tagNameCheck instanceof Function&&$.tagNameCheck(n))))return!1}else if(ue[t]);else if(Tb(F,Sb(n,j,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==kb(n,"data:")||!ce[e])if(Y&&!Tb(M,Sb(n,j,"")));else if(n)return!1;return!0},Fe=function(e){return e.indexOf("-")>0},He=function(e){var t,n,o,r;Ie("beforeSanitizeAttributes",e,null);var i=e.attributes;if(i){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:q};for(r=i.length;r--;){var a=t=i[r],l=a.name,c=a.namespaceURI;n="value"===l?t.value:Nb(t.value),o=D(l);var d=n;if(s.attrName=o,s.attrValue=n,s.keepAttr=!0,s.forceKeepAttr=void 0,Ie("uponSanitizeAttribute",e,s),n=s.attrValue,!s.forceKeepAttr)if(s.keepAttr)if(Tb(/\/>/i,n))Oe(l,e);else{G&&(n=Sb(n,B," "),n=Sb(n,L," "));var u=D(e.nodeName);if(je(u,o,n)){if(n!==d)try{c?e.setAttributeNS(c,l,n):e.setAttribute(l,n)}catch(t){Oe(l,e)}}else Oe(l,e)}else Oe(l,e)}Ie("afterSanitizeAttributes",e,null)}},Ue=function e(t){var n,o=Be(t);for(Ie("beforeSanitizeShadowDOM",t,null);n=o.nextNode();)Ie("uponSanitizeShadowNode",n,null),Me(n)||(n.content instanceof i&&e(n.content),He(n));Ie("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e,r){var s,l,c,d,u;if((ve=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Pe(e)){if("function"!=typeof e.toString)throw Ab("toString is not a function");if("string"!=typeof(e=e.toString()))throw Ab("dirty is not a string, aborting")}if(!n.isSupported){if("object"===nb(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(Pe(e))return t.toStaticHTML(e.outerHTML)}return e}if(J||xe(r),n.removed=[],"string"==typeof e&&(ie=!1),ie){if(e.nodeName){var f=D(e.nodeName);if(!H[f]||W[f])throw Ab("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof a)1===(l=(s=De("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?s=l:s.appendChild(l);else{if(!ee&&!G&&!Q&&-1===e.indexOf("<"))return _&&ne?_.createHTML(e):e;if(!(s=De(e)))return ee?null:ne?w:""}s&&Z&&Re(s.firstChild);for(var m=Be(ie?e:s);c=m.nextNode();)3===c.nodeType&&c===d||Me(c)||(c.content instanceof i&&Ue(c.content),He(c),d=c);if(d=null,ie)return e;if(ee){if(te)for(u=k.call(s.ownerDocument);s.firstChild;)u.appendChild(s.firstChild);else u=s;return q.shadowroot&&(u=T.call(o,u,!0)),u}var p=Q?s.outerHTML:s.innerHTML;return Q&&H["!doctype"]&&s.ownerDocument&&s.ownerDocument.doctype&&s.ownerDocument.doctype.name&&Tb(Jb,s.ownerDocument.doctype.name)&&(p="<!DOCTYPE "+s.ownerDocument.doctype.name+">\n"+p),G&&(p=Sb(p,B," "),p=Sb(p,L," ")),_&&ne?_.createHTML(p):p},n.setConfig=function(e){xe(e),J=!0},n.clearConfig=function(){Ce=null,J=!1},n.isValidAttribute=function(e,t,n){Ce||xe({});var o=D(e),r=D(t);return je(o,r,n)},n.addHook=function(e,t){"function"==typeof t&&(R[e]=R[e]||[],wb(R[e],t))},n.removeHook=function(e){if(R[e])return _b(R[e])},n.removeHooks=function(e){R[e]&&(R[e]=[])},n.removeAllHooks=function(){R={}},n}();const ny=Bt.each,oy=Bt.trim,ry=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],iy={ftp:21,http:80,https:443,mailto:25},sy=["img","video"],ay=(e,t,n)=>{const o=(e=>{try{return decodeURIComponent(e)}catch(t){return unescape(e)}})(t).replace(/\s/g,"");return!e.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(o)||!e.allow_html_data_urls&&(/^data:image\//i.test(o)?((e,t)=>C(e)?!e:!C(t)||!q(sy,t))(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(o):/^data:/i.test(o)))};class ly{constructor(e,t={}){this.path="",this.directory="",e=oy(e),this.settings=t;const n=t.base_uri,o=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))return void(o.source=e);const r=0===e.indexOf("//");if(0!==e.indexOf("/")||r||(e=(n&&n.protocol||"http")+"://mce_host"+e),!/^[\w\-]*:?\/\//.test(e)){const t=n?n.path:new ly(document.location.href).directory;if(""===(null==n?void 0:n.protocol))e="//mce_host"+o.toAbsPath(t,e);else{const r=/([^#?]*)([#?]?.*)/.exec(e);r&&(e=(n&&n.protocol||"http")+"://mce_host"+o.toAbsPath(t,r[1])+r[2])}}e=e.replace(/@@/g,"(mce_at)");const i=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);i&&ny(ry,(e,t)=>{let n=i[t];n&&(n=n.replace(/\(mce_at\)/g,"@@")),o[e]=n}),n&&(o.protocol||(o.protocol=n.protocol),o.userInfo||(o.userInfo=n.userInfo),o.port||"mce_host"!==o.host||(o.port=n.port),o.host&&"mce_host"!==o.host||(o.host=n.host),o.source=""),r&&(o.protocol="")}static parseDataUri(e){let t;const n=decodeURIComponent(e).split(","),o=/data:([^;]+)/.exec(n[0]);return o&&(t=o[1]),{type:t,data:n[1]}}static isDomSafe(e,t,n={}){if(n.allow_script_urls)return!0;{const o=zi.decode(e).replace(/[\s\u0000-\u001F]+/g,"");return!ay(n,o,t)}}static getDocumentBaseUrl(e){var t;let n;return n=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?null!==(t=e.href)&&void 0!==t?t:"":e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/")),n}setPath(e){const t=/^(.*?)\/?(\w+)?$/.exec(e);t&&(this.path=t[0],this.directory=t[1],this.file=t[2]),this.source="",this.getURI()}toRelative(e){if("./"===e)return e;const t=new ly(e,{base_uri:this});if("mce_host"!==t.host&&this.host!==t.host&&t.host||this.port!==t.port||this.protocol!==t.protocol&&""!==t.protocol)return t.getURI();const n=this.getURI(),o=t.getURI();if(n===o||"/"===n.charAt(n.length-1)&&n.substr(0,n.length-1)===o)return n;let r=this.toRelPath(this.path,t.path);return t.query&&(r+="?"+t.query),t.anchor&&(r+="#"+t.anchor),r}toAbsolute(e,t){const n=new ly(e,{base_uri:this});return n.getURI(t&&this.isSameOrigin(n))}isSameOrigin(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;const t=this.protocol?iy[this.protocol]:null;if(t&&(this.port||t)==(e.port||t))return!0}return!1}toRelPath(e,t){let n,o,r=0,i="";const s=e.substring(0,e.lastIndexOf("/")).split("/"),a=t.split("/");if(s.length>=a.length)for(n=0,o=s.length;n<o;n++)if(n>=a.length||s[n]!==a[n]){r=n+1;break}if(s.length<a.length)for(n=0,o=a.length;n<o;n++)if(n>=s.length||s[n]!==a[n]){r=n+1;break}if(1===r)return t;for(n=0,o=s.length-(r-1);n<o;n++)i+="../";for(n=r-1,o=a.length;n<o;n++)i+=n!==r-1?"/"+a[n]:a[n];return i}toAbsPath(e,t){let n=0;const o=/\/$/.test(t)?"/":"",r=e.split("/"),i=t.split("/"),s=[];ny(r,e=>{e&&s.push(e)});const a=[];for(let d=i.length-1;d>=0;d--)0!==i[d].length&&"."!==i[d]&&(".."!==i[d]?n>0?n--:a.push(i[d]):n++);const l=s.length-n;let c;return c=l<=0?oe(a).join("/"):s.slice(0,l).join("/")+"/"+oe(a).join("/"),0!==c.indexOf("/")&&(c="/"+c),o&&c.lastIndexOf("/")!==c.length-1&&(c+=o),c}getURI(e=!1){let t;return this.source&&!e||(t="",e||(t+=this.protocol?this.protocol+"://":"//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source}}const cy=Bt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),dy="data-mce-type";let uy=0;const fy=(e,t,n,o)=>{var r,i,s,a;const l=t.validate,c=n.getSpecialElements();8===e.nodeType&&!t.allow_conditional_comments&&/^\[if/i.test(null!==(r=e.nodeValue)&&void 0!==r?r:"")&&(e.nodeValue=" "+e.nodeValue);const d=null!==(i=null==o?void 0:o.tagName)&&void 0!==i?i:e.nodeName.toLowerCase();if(1!==e.nodeType||"body"===d)return;const u=gn(e),m=Zt(u,dy),p=Qt(u,"data-mce-bogus");if(!m&&f(p))return void("all"===p?vo(u):bo(u));const h=n.getElementRule(d);if(!l||h){if(C(o)&&(o.allowedTags[d]=!0),l&&h&&!m){if(W(null!==(s=h.attributesForced)&&void 0!==s?s:[],e=>{Yt(u,e.name,"{$uid}"===e.value?"mce_"+uy++:e.value)}),W(null!==(a=h.attributesDefault)&&void 0!==a?a:[],e=>{Zt(u,e.name)||Yt(u,e.name,"{$uid}"===e.value?"mce_"+uy++:e.value)}),h.attributesRequired&&!z(h.attributesRequired,e=>Zt(u,e)))return void bo(u);if(h.removeEmptyAttrs&&(e=>{const t=e.dom.attributes;return null==t||0===t.length})(u))return void bo(u);h.outputName&&h.outputName!==d&&((e,t)=>{const n=((e,t)=>{const n=pn(t),o=tn(e);return Gt(n,o),n})(e,t);uo(e,n);const o=Dn(e);ho(n,o),vo(e)})(u,h.outputName)}}else xe(c,d)?vo(u):bo(u)},my=(e,t,n,o,r)=>!(o in cy&&ay(e,r,n))&&(!e.validate||t.isValid(n,o)||qe(o,"data-")||qe(o,"aria-")),py=(e,t)=>e.hasAttribute(dy)&&("id"===t||"class"===t||"style"===t),hy=(e,t)=>e in t.getBoolAttrs(),gy=(e,t,n)=>{const{attributes:o}=e;for(let r=o.length-1;r>=0;r--){const i=o[r],s=i.name,a=i.value;my(t,n,e.tagName.toLowerCase(),s,a)||py(e,s)?hy(s,n)&&e.setAttribute(s,s):e.removeAttribute(s)}},vy=Bt.makeMap,by=Bt.extend,yy=(e,t,n)=>{const o=e.name,r=o in n&&"title"!==o&&"textarea"!==o,i=t.childNodes;for(let s=0,a=i.length;s<a;s++){const t=i[s],o=new yp(t.nodeName.toLowerCase(),t.nodeType);if(Mo(t)){const e=t.attributes;for(let t=0,n=e.length;t<n;t++){const n=e[t];o.attr(n.name,n.value)}}else Vo(t)?(o.value=t.data,r&&(o.raw=!0)):(Yo(t)||Ko(t)||Xo(t))&&(o.value=t.data);yy(o,t,n),e.append(o)}},Cy=(e={},t=ns())=>{const n=Xv(),o=Xv(),r={validate:!0,root_name:"body",sanitize:!0,...e},i=new DOMParser,s=((e,t)=>{if(e.sanitize){const n=((e,t)=>{const n=ty();return n.addHook("uponSanitizeElement",(n,o)=>{fy(n,e,t,o)}),n.addHook("uponSanitizeAttribute",(n,o)=>{const r=n.tagName.toLowerCase(),{attrName:i,attrValue:s}=o;o.keepAttr=my(e,t,r,i,s),o.keepAttr?(o.allowedAttributes[i]=!0,hy(i,t)&&(o.attrValue=i),e.allow_svg_data_urls&&qe(s,"data:image/svg+xml")&&(o.forceKeepAttr=!0)):py(n,i)&&(o.forceKeepAttr=!0)}),n})(e,t);return(t,o)=>{n.sanitize(t,((e,t)=>{const n={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]};return n.PARSER_MEDIA_TYPE=t,e.allow_script_urls?n.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(n.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),n})(e,o)),n.removed=[]}}return(n,o)=>{const r=document.createNodeIterator(n,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let i;for(;i=r.nextNode();)fy(i,e,t),Mo(i)&&gy(i,e,t)}})(r,t),a=n.getFilters,l=o.getFilters,c=(e,n)=>{const o=f(n.attr(dy)),r=1===n.type&&!xe(e,n.name)&&!((e,t)=>1===t.type&&vi(e,t.name)&&f(t.attr(ci)))(t,n);return 3===n.type||r&&!o},d={schema:t,addAttributeFilter:o.addFilter,getAttributeFilters:l,removeAttributeFilter:o.removeFilter,addNodeFilter:n.addFilter,getNodeFilters:a,removeNodeFilter:n.removeFilter,parse:(e,n={})=>{var o;const d=r.validate,u=null!==(o=n.context)&&void 0!==o?o:r.root_name,f=((e,n,o="html")=>{const r="xhtml"===o?"application/xhtml+xml":"text/html",a=xe(t.getSpecialElements(),n.toLowerCase()),l=a?`<${n}>${e}</${n}>`:e,c=i.parseFromString("xhtml"===o?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${l}</body></html>`:`<body>${l}</body>`,r).body;return s(c,r),a?c.firstChild:c})(e,u,n.format);pi(t,f);const m=new yp(u,11);yy(m,f,t.getSpecialElements()),f.innerHTML="";const[p,h]=((e,t,n,o)=>{const r=n.validate,i=t.getNonEmptyElements(),s=t.getWhitespaceElements(),a=by(vy("script,style,head,html,body,title,meta,param"),t.getBlockElements()),l=es(t),c=/[ \t\r\n]+/g,d=/^[ \t\r\n]+/,u=/[ \t\r\n]+$/,f=e=>{let t=e.parent;for(;C(t);){if(t.name in s)return!0;t=t.parent}return!1},m=e=>e.name in a&&!_i(t,e),p=(t,n)=>!C(n?t.prev:t.next)&&!y(t.parent)&&m(t.parent)&&(t.parent!==e||!0===o.isRootContent);return[e=>{var t;if(3===e.type&&!f(e)){let n=null!==(t=e.value)&&void 0!==t?t:"";n=n.replace(c," "),(((e,t)=>C(e)&&(t(e)||"br"===e.name))(e.prev,m)||p(e,!0))&&(n=n.replace(d,"")),0===n.length?e.remove():e.value=n}},e=>{var n;if(1===e.type){const n=t.getElementRule(e.name);if(r&&n){const r=Sg(t,i,s,e);n.paddInEmptyBlock&&r&&(e=>{let n=e;for(;C(n);){if(n.name in l)return Sg(t,i,s,n);n=n.parent}return!1})(e)?xg(o,m,e):n.removeEmpty&&r?m(e)?e.remove():e.unwrap():n.paddEmpty&&(r||(e=>{var t;return Eg(e,"#text")&&(null===(t=null==e?void 0:e.firstChild)||void 0===t?void 0:t.value)===ar})(e))&&xg(o,m,e)}}else if(3===e.type&&!f(e)){let t=null!==(n=e.value)&&void 0!==n?n:"";(e.next&&m(e.next)||p(e,!1))&&(t=t.replace(u,"")),0===t.length?e.remove():e.value=t}}]})(m,t,r,n),g=[],v={nodes:{},attributes:{}},b=e=>Cg(a(),l(),e,v);if(((e,t,n)=>{const o=[];for(let r=e,i=r;r;i=r,r=r.walk()){const n=r;W(t,e=>e(n)),y(n.parent)&&n!==e?r=i:o.push(n)}for(let r=o.length-1;r>=0;r--){const e=o[r];W(n,t=>t(e))}})(m,[p,b],[h,d?e=>((e,n)=>{Ag(t,e)&&n.push(e)})(e,g):E]),g.reverse(),d&&g.length>0)if(n.context){const{pass:e,fail:o}=K(g,e=>e.parent===m);Tg(o,t,m,b),n.invalid=e.length>0}else Tg(g,t,m,b);const _=((e,t)=>{var n;const o=null!==(n=t.forced_root_block)&&void 0!==n?n:e.forced_root_block;return!1===o?"":!0===o?"p":o})(r,n);return _&&("body"===m.name||n.isRootContent)&&((e,n)=>{const o=by(vy("script,style,head,html,body,title,meta,param"),t.getBlockElements()),i=/^[ \t\r\n]+/,s=/[ \t\r\n]+$/;let a=e.firstChild,l=null;const d=e=>{var t,n;e&&(a=e.firstChild,a&&3===a.type&&(a.value=null===(t=a.value)||void 0===t?void 0:t.replace(i,"")),a=e.lastChild,a&&3===a.type&&(a.value=null===(n=a.value)||void 0===n?void 0:n.replace(s,"")))};if(t.isValidChild(e.name,n.toLowerCase())){for(;a;){const t=a.next;c(o,a)?(l||(l=new yp(n,1),l.attr(r.forced_root_block_attrs),e.insert(l,a)),l.append(a)):(d(l),l=null),a=t}d(l)}})(m,_),n.invalid||_g(v,n),m}};return((e,t)=>{const n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",(e,t,o)=>{const r=Bt.extend({},n.getBlockElements()),i=n.getNonEmptyElements(),s=n.getWhitespaceElements();r.body=1;const a=e=>e.name in r&&_i(n,e);for(let l=0,c=e.length;l<c;l++){let t=e[l],c=t.parent;if(c&&r[c.name]&&t===c.lastChild){let e=t.prev;for(;e;){const n=e.name;if("span"!==n||"bookmark"!==e.attr("data-mce-type")){"br"===n&&(t=null);break}e=e.prev}if(t&&(t.remove(),Sg(n,i,s,c))){const e=n.getElementRule(c.name);e&&(e.removeEmpty?c.remove():e.paddEmpty&&xg(o,a,c))}}else{let e=t;for(;c&&c.firstChild===e&&c.lastChild===e&&(e=c,!r[c.name]);)c=c.parent;if(e===c){const e=new yp("#text",3);e.value=ar,t.replace(e)}}}}),e.addAttributeFilter("href",e=>{let n=e.length;const o=e=>{const t=e?Bt.trim(e):"";return/\b(noopener)\b/g.test(t)?t:(e=>e.split(" ").filter(e=>e.length>0).concat(["noopener"]).sort().join(" "))(t)};if(!t.allow_unsafe_link_target)for(;n--;){const t=e[n];"a"===t.name&&"_blank"===t.attr("target")&&t.attr("rel",o(t.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",e=>{let t,n,o,r,i=e.length;for(;i--;)if(r=e[i],"a"===r.name&&r.firstChild&&!r.attr("href"))for(o=r.parent,t=r.lastChild;t&&o;)n=t.prev,o.insert(t,r),t=n}),t.fix_list_elements&&e.addNodeFilter("ul,ol",e=>{let t,n,o=e.length;for(;o--;)if(t=e[o],n=t.parent,n&&("ul"===n.name||"ol"===n.name))if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{const e=new yp("li",1);e.attr("style","list-style-type: none"),t.wrap(e)}});const o=n.getValidClasses();t.validate&&o&&e.addAttributeFilter("class",e=>{var t;let n=e.length;for(;n--;){const r=e[n],i=null!==(t=r.attr("class"))&&void 0!==t?t:"",s=Bt.explode(i," ");let a="";for(let e=0;e<s.length;e++){const t=s[e];let n=!1,i=o["*"];i&&i[t]&&(n=!0),i=o[r.name],!n&&i&&i[t]&&(n=!0),n&&(a&&(a+=" "),a+=t)}a.length||(a=null),r.attr("class",a)}}),((e,t)=>{const{blob_cache:n}=t;if(n){const t=e=>{const t=e.attr("src");(e=>e.attr("src")===At.transparentSrc||C(e.attr("data-mce-placeholder")))(e)||(e=>C(e.attr("data-mce-bogus")))(e)||y(t)||tb(n,t,!0).each(t=>{e.attr("src",t.blobUri())})};e.addAttributeFilter("src",e=>W(e,t))}})(e,t)})(d,r),((e,t,n)=>{t.inline_styles&&((e,t,n)=>{var o;const r=os();t.convert_fonts_to_spans&&((e,t,n)=>{e.addNodeFilter("font",e=>{W(e,e=>{const o=t.parse(e.attr("style")),r=e.attr("color"),i=e.attr("face"),s=e.attr("size");r&&(o.color=r),i&&(o["font-family"]=i),s&&Ge(s).each(e=>{o["font-size"]=n[e-1]}),e.name="span",e.attr("style",t.serialize(o)),((e,t)=>{W(["color","face","size"],t=>{e.attr(t,null)})})(e)})})})(e,r,Bt.explode(null!==(o=t.font_size_legacy_values)&&void 0!==o?o:"")),((e,t,n)=>{e.addNodeFilter("strike",e=>{const o="html4"!==t.type;W(e,e=>{if(o)e.name="s";else{const t=n.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",n.serialize(t))}})})})(e,n,r)})(e,t,n)})(d,r,t),d},_y=(e,t,n)=>{const o=(e=>Pg(e)?Tp({validate:!1}).serialize(e):e)(e),r=t(o);if(r.isDefaultPrevented())return r;if(Pg(e)){if(r.content!==o){const t=Cy({validate:!1,forced_root_block:!1,sanitize:n}).parse(r.content,{context:e.name});return{...r,content:t}}return{...r,content:e}}return r},wy=(e,t)=>{if(t.no_events)return Qa.value(t);{const n=((e,t)=>e.dispatch("BeforeGetContent",t))(e,t);return n.isDefaultPrevented()?Qa.error(If(e,{content:"",...n}).content):Qa.value(n)}},xy=(e,t,n)=>n.no_events?t:_y(t,t=>If(e,{...n,content:t}),Kc(e)).content,Ey=(e,t)=>{if(t.no_events)return Qa.value(t);{const n=_y(t.content,n=>((e,t)=>e.dispatch("BeforeSetContent",t))(e,{...t,content:n}),Kc(e));return n.isDefaultPrevented()?(Pf(e,n),Qa.error(void 0)):Qa.value(n)}},Sy=(e,t,n)=>{n.no_events||Pf(e,{...n,content:t})},ky=(e,t,n)=>({element:e,width:t,rows:n}),Ny=(e,t)=>({element:e,cells:t}),Ty=(e,t)=>({x:e,y:t}),Ay=(e,t)=>Jt(e,t).bind(Ge).getOr(1),Ry=(e,t,n)=>{const o=e.rows;return!!(o[n]?o[n].cells:[])[t]},Oy=e=>G(e,(e,t)=>t.cells.length>e?t.cells.length:e,0),Dy=(e,t)=>{const n=e.rows;for(let o=0;o<n.length;o++){const e=n[o].cells;for(let n=0;n<e.length;n++)if(Cn(e[n],t))return M.some(Ty(n,o))}return M.none()},By=(e,t,n,o,r)=>{const i=[],s=e.rows;for(let a=n;a<=r;a++){const e=s[a].cells,n=t<o?e.slice(t,o+1):e.slice(o,t+1);i.push(Ny(s[a].element,n))}return i},Ly=e=>((e,t)=>{const n=Ys(e.element),o=pn("tbody");return ho(o,t),mo(n,o),n})(e,(e=>$(e.rows,e=>{const t=$(e.cells,e=>{const t=Gs(e);return en(t,"colspan"),en(t,"rowspan"),t}),n=Ys(e.element);return ho(n,t),n}))(e)),Py=()=>om([]),Iy=(e,t)=>t>=0&&t<e.length&&wu(e.charAt(t)),My=e=>Rr(e.innerText),jy=e=>Mo(e)?e.outerHTML:Vo(e)?zi.encodeRaw(e.data,!1):Yo(e)?"\x3c!--"+e.data+"--\x3e":"",Fy=Le(()=>document.implementation.createHTMLDocument("undo")),Hy=e=>{const t=(n=e.getBody(),X($(de(n.childNodes),jy),e=>e.length>0));var n;const o=te(t,t=>{const n=wp(e.serializer,t);return n.length>0?[n]:[]}),r=o.join("");return(e=>-1!==e.indexOf("</iframe>"))(r)?(e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}))(o):(e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}))(r)},Uy=(e,t,n)=>{const o=n?t.beforeBookmark:t.bookmark;"fragmented"===t.type?((e,t)=>{((e,t)=>{let n=0;W(e,e=>{0===e[0]?n++:1===e[0]?(((e,t,n)=>{const o=(e=>{let t;const n=document.createElement("div"),o=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)o.appendChild(t);return o})(t);e.hasChildNodes()&&n<e.childNodes.length?e.insertBefore(o,e.childNodes[n]):e.appendChild(o)})(t,e[1],n),n++):2===e[0]&&((e,t)=>{e.hasChildNodes()&&t<e.childNodes.length&&e.removeChild(e.childNodes[t])})(t,n)})})(((e,t)=>{const n=e.length+t.length+2,o=new Array(n),r=new Array(n),i=(n,o,r,s,l)=>{const c=a(n,o,r,s);if(null===c||c.start===o&&c.diag===o-s||c.end===n&&c.diag===n-r){let i=n,a=r;for(;i<o||a<s;)i<o&&a<s&&e[i]===t[a]?(l.push([0,e[i]]),++i,++a):o-n>s-r?(l.push([2,e[i]]),++i):(l.push([1,t[a]]),++a)}else{i(n,c.start,r,c.start-c.diag,l);for(let t=c.start;t<c.end;++t)l.push([0,e[t]]);i(c.end,o,c.end-c.diag,s,l)}},s=(n,o,r,i)=>{let s=n;for(;s-o<i&&s<r&&e[s]===t[s-o];)++s;return((e,t,n)=>({start:e,end:t,diag:n}))(n,s,o)},a=(n,i,a,l)=>{const c=i-n,d=l-a;if(0===c||0===d)return null;const u=c-d,f=d+c,m=(f%2==0?f:f+1)/2;let p,h,g,v,b;for(o[1+m]=n,r[1+m]=i+1,p=0;p<=m;++p){for(h=-p;h<=p;h+=2){for(g=h+m,o[g]=h===-p||h!==p&&o[g-1]<o[g+1]?o[g+1]:o[g-1]+1,v=o[g],b=v-n+a-h;v<i&&b<l&&e[v]===t[b];)o[g]=++v,++b;if(u%2!=0&&u-p<=h&&h<=u+p&&r[g-u]<=o[g])return s(r[g-u],h+n-a,i,l)}for(h=u-p;h<=u+p;h+=2){for(g=h+m-u,r[g]=h===u-p||h!==u+p&&r[g+1]<=r[g-1]?r[g+1]-1:r[g-1],v=r[g]-1,b=v-n+a-h;v>=n&&b>=a&&e[v]===t[b];)r[g]=v--,b--;if(u%2==0&&-p<=h&&h<=p&&r[g]<=o[g+u])return s(r[g],h+n-a,i,l)}}return null},l=[];return i(0,e.length,0,t.length,l),l})($(de(t.childNodes),jy),e),t)})(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:!C(o)||!du(o)||!o.isFakeCaret}),o&&(e.selection.moveToBookmark(o),e.selection.scrollIntoView())},qy=e=>"fragmented"===e.type?e.fragments.join(""):e.content,zy=e=>{const t=pn("body",Fy());return _o(t,qy(e)),W(Do(t,"*[data-mce-bogus]"),bo),Co(t)},$y=(e,t)=>!(!e||!t)&&(!!((e,t)=>qy(e)===qy(t))(e,t)||((e,t)=>zy(e)===zy(t))(e,t)),Wy=e=>0===e.get(),Vy=(e,t,n)=>{Wy(n)&&(e.typing=t)},Ky=(e,t)=>{e.typing&&(Vy(e,!1,t),e.add())},Xy=e=>({init:{bindEvents:E},undoManager:{beforeChange:(t,n)=>((e,t,n)=>{Wy(t)&&n.set(Xa(e.selection))})(e,t,n),add:(t,n,o,r,i,s)=>((e,t,n,o,r,i,s)=>{const a=Hy(e),l=Bt.extend(i||{},a);if(!Wy(o)||e.removed)return null;const c=t.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:l,lastLevel:c,originalEvent:s}).isDefaultPrevented())return null;if(c&&$y(c,l))return null;t.data[n.get()]&&r.get().each(e=>{t.data[n.get()].beforeBookmark=e});const d=fc(e);if(d&&t.data.length>d){for(let e=0;e<t.data.length-1;e++)t.data[e]=t.data[e+1];t.data.length--,n.set(t.data.length)}l.bookmark=Xa(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(l),n.set(t.data.length-1);const u={level:l,lastLevel:c,originalEvent:s};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",u),e.dispatch("change",u)):e.dispatch("AddUndo",u),l})(e,t,n,o,r,i,s),undo:(t,n,o)=>((e,t,n,o)=>{let r;return t.typing&&(t.add(),t.typing=!1,Vy(t,!1,n)),o.get()>0&&(o.set(o.get()-1),r=t.data[o.get()],Uy(e,r,!0),e.setDirty(!0),e.dispatch("Undo",{level:r})),r})(e,t,n,o),redo:(t,n)=>((e,t,n)=>{let o;return t.get()<n.length-1&&(t.set(t.get()+1),o=n[t.get()],Uy(e,o,!1),e.setDirty(!0),e.dispatch("Redo",{level:o})),o})(e,t,n),clear:(t,n)=>((e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch("ClearUndos")})(e,t,n),reset:e=>(e=>{e.clear(),e.add()})(e),hasUndo:(t,n)=>((e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!$y(Hy(e),t.data[0]))(e,t,n),hasRedo:(e,t)=>((e,t)=>t.get()<e.data.length-1&&!e.typing)(e,t),transact:(e,t,n)=>((e,t,n)=>(Ky(e,t),e.beforeChange(),e.ignore(n),e.add()))(e,t,n),ignore:(e,t)=>((e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}})(e,t),extra:(t,n,o,r)=>((e,t,n,o,r)=>{if(t.transact(o)){const o=t.data[n.get()].bookmark,i=t.data[n.get()-1];Uy(e,i,!0),t.transact(r)&&(t.data[n.get()-1].beforeBookmark=o)}})(e,t,n,o,r)},formatter:{match:(t,n,o,r)=>Wg(e,t,n,o,r),matchAll:(t,n)=>((e,t,n)=>{const o=[],r={},i=e.selection.getStart();return e.dom.getParent(i,i=>{for(let s=0;s<t.length;s++){const a=t[s];!r[a]&&$g(e,i,a,n)&&(r[a]=!0,o.push(a))}},e.dom.getRoot()),o})(e,t,n),matchNode:(t,n,o,r)=>$g(e,t,n,o,r),canApply:t=>((e,t)=>{const n=e.formatter.get(t),o=e.dom;if(n){const t=e.selection.getStart(),r=of(o,t);for(let e=n.length-1;e>=0;e--){const t=n[e];if(!af(t))return!0;for(let e=r.length-1;e>=0;e--)if(o.is(r[e],t.selector))return!0}}return!1})(e,t),closest:t=>((e,t)=>{const n=t=>Cn(t,gn(e.getBody()));return M.from(e.selection.getStart(!0)).bind(o=>jg(gn(o),n=>ue(t,t=>((t,n)=>$g(e,t.dom,n)?M.some(n):M.none())(n,t)),n)).getOrNull()})(e,t),apply:(t,n,o)=>Uv(e,t,n,o),remove:(t,n,o,r)=>Mv(e,t,n,o,r),toggle:(t,n,o)=>((e,t,n,o)=>{const r=e.formatter.get(t);r&&(!Wg(e,t,n,o)||"toggle"in r[0]&&!r[0].toggle?Uv(e,t,n,o):Mv(e,t,n,o))})(e,t,n,o),formatChanged:(t,n,o,r,i)=>((e,t,n,o,r,i)=>(((e,t,n,o,r,i)=>{const s=t.get();W(n.split(","),t=>{const n=we(s,t).getOrThunk(()=>{const e={withSimilar:{state:Ss(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Ss(!1),similar:!1,callbacks:[]},withVars:[]};return s[t]=e,e}),a=()=>{const n=Wv(e);return $v(e,n,t,r,i).isSome()};if(b(i)){const e=r?n.withSimilar:n.withoutSimilar;e.callbacks.push(o),1===e.callbacks.length&&e.state.set(a())}else n.withVars.push({state:Ss(a()),similar:r,vars:i,callback:o})}),t.set(s)})(e,t,n,o,r,i),{unbind:()=>((e,t,n)=>{const o=e.get();W(t.split(","),e=>we(o,e).each(t=>{o[e]={withSimilar:{...t.withSimilar,callbacks:X(t.withSimilar.callbacks,e=>e!==n)},withoutSimilar:{...t.withoutSimilar,callbacks:X(t.withoutSimilar.callbacks,e=>e!==n)},withVars:X(t.withVars,e=>e.callback!==n)}})),e.set(o)})(t,n,o)}))(e,t,n,o,r,i)},editor:{getContent:t=>((e,t)=>M.from(e.getBody()).fold(N("tree"===t.format?new yp("body",11):""),n=>((e,t,n)=>{let o;return o="raw"===t.format?Bt.trim(xp(e.serializer,n.innerHTML)):"text"===t.format?((e,t)=>{const n=e.getDoc(),o=Hn(gn(e.getBody())),r=pn("div",n);Yt(r,"data-mce-bogus","all"),oo(r,{position:"fixed",left:"-9999999px",top:"0"}),_o(r,t.innerHTML),Ep(r),Sp(r);const i=(e=>Mn(e)?e:gn(xn(e).dom.body))(o);mo(i,r);const s=Rr(r.dom.innerText);return vo(r),s})(e,n):"tree"===t.format?e.serializer.serialize(n,t):((e,t)=>{const n=yl(e),o=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s|Â |<br \\/>|)<\\/${n}>[\r\n]*|<br \\/>[\r\n]*)$`);return t.replace(o,"")})(e,e.serializer.serialize(n,t)),"text"!==t.format&&!wr(gn(n))&&f(o)?Bt.trim(o):o})(e,t,n)))(e,t),setContent:(t,n)=>((e,t,n)=>M.from(e.getBody()).map(o=>Pg(t)?((e,t,n,o)=>{wg(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const r=Tp({validate:!1},e.schema).serialize(n),i=wr(gn(t))?r:Bt.trim(r);return Ig(e,i,o.no_selection),{content:n,html:i}})(e,o,t,n):((e,t,n,o)=>{if(0===n.length||/^\s+$/.test(n)){const r='<br data-mce-bogus="1">';"TABLE"===t.nodeName?n="<tr><td>"+r+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+r+"</li>");const i=yl(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),i.toLowerCase())?(n=r,n=e.dom.createHTML(i,Cl(e),n)):n||(n=r),Ig(e,n,o.no_selection),{content:n,html:n}}{"raw"!==o.format&&(n=Tp({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const r=wr(gn(t))?n:Bt.trim(n);return Ig(e,r,o.no_selection),{content:r,html:r}}})(e,o,t,n)).getOr({content:t,html:Pg(n.content)?"":n.content}))(e,t,n),insertContent:(t,n)=>((e,t,n)=>{var o,r;const i=e.selection,s=e.dom,a=e.parser,l=n.merge,c=Tp({validate:!0},e.schema),d='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';-1===t.indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,d);let u=i.getRng();const f=u.startContainer,m=e.getBody();f===m&&i.isCollapsed()&&s.isBlock(m.firstChild)&&((e,t)=>C(t)&&!e.schema.getVoidElements()[t.nodeName])(e,m.firstChild)&&s.isEmpty(m.firstChild)&&(u=s.createRng(),u.setStart(m.firstChild,0),u.setEnd(m.firstChild,0),i.setRng(u)),i.isCollapsed()||(e=>{const t=e.dom,n=Rg(e.selection.getRng());e.selection.setRng(n);const o=t.getParent(n.startContainer,Lg);((e,t,n)=>!!C(n)&&n===e.getParent(t.endContainer,Lg)&&Mu(gn(n),t))(t,n,o)?cg(e,n,gn(o)):n.startContainer===n.endContainer&&n.endOffset-n.startOffset==1&&Vo(n.startContainer.childNodes[n.startOffset])?n.deleteContents():e.getDoc().execCommand("Delete",!1)})(e);const p=i.getNode(),h={context:p.nodeName.toLowerCase(),data:n.data,insert:!0},g=a.parse(t,h);if(!0===n.paste&&((e,t)=>{let n=t.firstChild,o=t.lastChild;return n&&"meta"===n.name&&(n=n.next),o&&"mce_marker"===o.attr("id")&&(o=o.prev),((e,t)=>{const n=e.getNonEmptyElements();return C(t)&&(t.isEmpty(n)||((e,t)=>e.getBlockElements()[t.name]&&(e=>C(e.firstChild)&&e.firstChild===e.lastChild)(t)&&(e=>"br"===e.name||e.value===ar)(t.firstChild))(e,t))})(e,o)&&(o=null==o?void 0:o.prev),!(!n||n!==o||"ul"!==n.name&&"ol"!==n.name)})(e.schema,g)&&((e,t)=>!!Og(e,t))(s,p))return u=((e,t,n,o)=>{const r=((e,t,n)=>{const o=t.serialize(n);return(e=>{var t,n;const o=e.firstChild,r=e.lastChild;return o&&"META"===o.nodeName&&(null===(t=o.parentNode)||void 0===t||t.removeChild(o)),r&&"mce_marker"===r.id&&(null===(n=r.parentNode)||void 0===n||n.removeChild(r)),e})(e.createFragment(o))})(t,e,o),i=Og(t,n.startContainer),s=(e=>{return e.length>0&&(!(n=e[e.length-1]).firstChild||C(null==(t=n)?void 0:t.firstChild)&&t.firstChild===t.lastChild&&(e=>e.data===ar||Jo(e))(t.firstChild))?e.slice(0,-1):e;var t,n})(X(null!==(l=null==(a=r.firstChild)?void 0:a.childNodes)&&void 0!==l?l:[],e=>"LI"===e.nodeName));var a,l;const c=t.getRoot(),d=e=>{const o=Na.fromRangeStart(n),r=Xd(t.getRoot()),s=1===e?r.prev(o):r.next(o),a=null==s?void 0:s.getNode();return!a||Og(t,a)!==i};return i?d(1)?((e,t,n)=>{const o=e.parentNode;return o&&Bt.each(t,t=>{o.insertBefore(t,e)}),((e,t)=>{const n=Na.before(e),o=Xd(t).next(n);return o?o.toRange():null})(e,n)})(i,s,c):d(2)?((e,t,n,o)=>(o.insertAfter(t.reverse(),e),Dg(t[0],n)))(i,s,c,t):((e,t,n,o)=>{const r=((e,t)=>{const n=t.cloneRange(),o=t.cloneRange();return n.setStartBefore(e),o.setEndAfter(e),[n.cloneContents(),o.cloneContents()]})(e,o),i=e.parentNode;return i&&(i.insertBefore(r[0],e),Bt.each(t,t=>{i.insertBefore(t,e)}),i.insertBefore(r[1],e),i.removeChild(e)),Dg(t[t.length-1],n)})(i,s,c,n):null})(c,s,i.getRng(),g),u&&i.setRng(u),t;!0===n.paste&&((e,t,n,o)=>{var r;const i=t.firstChild,s=t.lastChild,a=i===("bookmark"===s.attr("data-mce-type")?s.prev:s),l=q(Bg,i.name);if(a&&l){const t="false"!==i.attr("contenteditable"),s=(null===(r=e.getParent(n,e.isBlock))||void 0===r?void 0:r.nodeName.toLowerCase())===i.name,a=M.from(gg(o,n)).forall(er);return t&&s&&a}return!1})(s,g,p,e.getBody())&&(null===(o=g.firstChild)||void 0===o||o.unwrap()),(e=>{let t=e;for(;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")})(g);let v=g.lastChild;if(v&&"mce_marker"===v.attr("id")){const t=v;for(v=v.prev;v;v=v.walk(!0))if(3===v.type||!s.isBlock(v.name)){v.parent&&e.schema.isValidChild(v.parent.name,"span")&&v.parent.insert(t,v,"br"===v.name);break}}if(e._selectionOverrides.showBlockCaretContainer(p),h.invalid){e.selection.setContent(d);let n,o=i.getNode();const l=e.getBody();for(Go(o)?o=n=l:n=o;n&&n!==l;)o=n,n=n.parentNode;t=o===l?l.innerHTML:s.getOuterHTML(o);const u=a.parse(t),f=(e=>{for(let t=e;t;t=t.walk())if("mce_marker"===t.attr("id"))return M.some(t);return M.none()})(u),m=f.bind(kg).getOr(u);f.each(e=>e.replace(g));const p=g.children(),h=null!==(r=g.parent)&&void 0!==r?r:u;g.unwrap();const v=X(p,t=>Ag(e.schema,t,h));Tg(v,e.schema,m),wg(a.getNodeFilters(),a.getAttributeFilters(),u),t=c.serialize(u),o===l?s.setHTML(l,t):s.setOuterHTML(o,t)}else t=c.serialize(g),((e,t,n)=>{var o;if("all"===n.getAttribute("data-mce-bogus"))null===(o=n.parentNode)||void 0===o||o.insertBefore(e.dom.createFragment(t),n);else{const o=n.firstChild,r=n.lastChild;!o||o===r&&"BR"===o.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})}})(e,t,p);var b;return((e,t)=>{const n=e.schema.getTextInlineElements(),o=e.dom;if(t){const t=e.getBody(),r=yg(e);Bt.each(o.select("*[data-mce-fragment]"),e=>{if(C(n[e.nodeName.toLowerCase()])&&((e,t)=>ne(Op(e,t),e=>!(e=>Ap.has(e))(e)))(o,e))for(let n=e.parentElement;C(n)&&n!==t&&!Dp(o,e,n);n=n.parentElement)if(r.compare(n,e)){o.remove(e,!0);break}})}})(e,l),((e,t)=>{var n,o,r;let i;const s=e.dom,a=e.selection;if(!t)return;a.scrollIntoView(t);const l=gg(e.getBody(),t);if(l&&"false"===s.getContentEditable(l))return s.remove(t),void a.select(l);let c=s.createRng();const d=t.previousSibling;if(Vo(d)){c.setStart(d,null!==(o=null===(n=d.nodeValue)||void 0===n?void 0:n.length)&&void 0!==o?o:0);const e=t.nextSibling;Vo(e)&&(d.appendData(e.data),null===(r=e.parentNode)||void 0===r||r.removeChild(e))}else c.setStartBefore(t),c.setEndBefore(t);const u=s.getParent(t,s.isBlock);s.remove(t),u&&s.isEmpty(u)&&(go(gn(u)),c.setStart(u,0),c.setEnd(u,0),Lg(u)||(e=>!!e.getAttribute("data-mce-fragment"))(u)||!(i=(t=>{let n=Na.fromRangeStart(t);return n=Xd(e.getBody()).next(n),null==n?void 0:n.toRange()})(c))?s.add(u,s.create("br",{"data-mce-bogus":"1"})):(c=i,s.remove(u))),a.setRng(c)})(e,s.get("mce_marker")),b=e.getBody(),Bt.each(b.getElementsByTagName("*"),e=>{e.removeAttribute("data-mce-fragment")}),((e,t)=>{M.from(e.getParent(t,"td,th")).map(gn).each(Nr)})(s,i.getStart()),((e,t,n)=>{const o=Nn(gn(n),e=>Cn(e,gn(t)));ae(o,o.length-2).filter(zt).fold(()=>pi(e,t),t=>pi(e,t.dom))})(e.schema,e.getBody(),i.getStart()),t})(e,t,n),addVisual:t=>((e,t)=>{const n=e.dom,o=C(t)?t:e.getBody();W(n.select("table,a",o),t=>{switch(t.nodeName){case"TABLE":const o=Cc(e),r=n.getAttrib(t,"border");r&&"0"!==r||!e.hasVisual?n.removeClass(t,o):n.addClass(t,o);break;case"A":if(!n.getAttrib(t,"href")){const o=n.getAttrib(t,"name")||t.id,r=_c(e);o&&e.hasVisual?n.addClass(t,r):n.removeClass(t,r)}}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})})(e,t)},selection:{getContent:(t,n)=>((e,t,n={})=>{const o=((e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}))(n,t);return wy(e,o).fold(T,t=>{const n=((e,t)=>{if("text"===t.format)return(e=>M.from(e.selection.getRng()).map(t=>{var n;const o=M.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),r=e.getBody(),i=(e=>e.map(e=>e.nodeName).getOr("div").toLowerCase())(o),s=gn(t.cloneContents());Ep(s),Sp(s);const a=e.dom.add(r,i,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},s.dom),l=My(a),c=Rr(null!==(n=a.textContent)&&void 0!==n?n:"");if(e.dom.remove(a),Iy(c,0)||Iy(c,c.length-1)){const e=o.getOr(r),t=My(e),n=t.indexOf(l);return-1===n?l:(Iy(t,n-1)?" ":"")+l+(Iy(t,n+l.length)?" ":"")}return l}).getOr(""))(e);{const n=((e,t)=>{const n=e.selection.getRng(),o=e.dom.create("body"),r=e.selection.getSel(),i=dp(e,Ou(r)),s=t.contextual?((e,t)=>{const n=Du(t,e);return n.length>0?((e,t)=>((e,t)=>Yn(t,"table",R(Cn,e)))(e,t[0]).bind(e=>{const n=t[0],o=t[t.length-1];return((e,t,n)=>Dy(e,t).bind(t=>Dy(e,n).map(n=>((e,t,n)=>{const o=t.x,r=t.y,i=n.x,s=n.y,a=r<s?By(e,o,r,i,s):By(e,o,s,i,r);return ky(e.element,Oy(a),a)})(e,t,n))))((e=>{const t=ky(Ys(e),0,[]);return W(Do(e,"tr"),(e,n)=>{W(Do(e,"td,th"),(o,r)=>{((e,t,n,o,r)=>{const i=Ay(r,"rowspan"),s=Ay(r,"colspan"),a=e.rows;for(let l=n;l<n+i;l++){a[l]||(a[l]=Ny(Gs(o),[]));for(let e=t;e<t+s;e++)a[l].cells[e]=l===n&&e===t?r:Ys(r)}})(t,((e,t,n)=>{for(;Ry(e,t,n);)t++;return t})(t,r,n),n,e,o)})}),ky(t.element,Oy(t.rows),t.rows)})(e),n,o).map(e=>om([Ly(e)]))}).getOrThunk(Py))(e,n):((e,t)=>t.length>0&&t[0].collapsed?Py():((e,t)=>((e,t)=>{const n=G(t,(e,t)=>(mo(t,e),t),e);return t.length>0?om([n]):n})(gn(t.cloneContents()),((e,t)=>{const n=gn(t.commonAncestorContainer),o=Yp(n,e),r=X(o,Er),i=((e,t)=>J(e,e=>"li"===Ht(e)&&Mu(e,t)).fold(N([]),t=>(e=>J(e,e=>"ul"===Ht(e)||"ol"===Ht(e)))(e).map(e=>{const t=pn(Ht(e)),n=ye(ao(e),(e,t)=>qe(t,"list-style"));return oo(t,n),[pn("li"),t]}).getOr([])))(o,t),s=r.concat(i.length?i:(e=>yr(e)?Sn(e).filter(br).fold(N([]),t=>[e,t]):br(e)?[e]:[])(n));return $(s,Ys)})(e,t)))(e,t[0]))(e,t)})(gn(e.getBody()),i).dom:n.cloneContents();return s&&o.appendChild(s),e.selection.serializer.serialize(o,t)})(e,t);return"tree"===t.format?n:e.selection.isCollapsed()?"":n}})(e,t);return xy(e,n,t)})})(e,t,n)},autocompleter:{addDecoration:t=>((e,t)=>{if(pp(gn(e.getBody())).isNone()){const o=mn('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());mo(o,gn(t.extractContents())),t.insertNode(o.dom),Sn(o).each(e=>e.dom.normalize()),(n=o,((e,t)=>{const n=e=>{const o=Dn(e);for(let r=o.length-1;r>=0;r--){const e=o[r];if(t(e))return M.some(e);const i=n(e);if(i.isSome())return i}return M.none()};return n(e)})(n,fp)).map(t=>{e.selection.setCursorLocation(t.dom,(e=>"img"===Ht(e)?1:ur(e).fold(()=>Dn(e).length,e=>e.length))(t))})}var n})(e,t),removeDecoration:()=>((e,t)=>pp(t).each(t=>{const n=e.selection.getBookmark();bo(t),e.selection.moveToBookmark(n)}))(e,gn(e.getBody()))},raw:{getModel:()=>M.none()}}),Yy=e=>xe(e.plugins,"rtc"),Gy=e=>e.rtcInstance?e.rtcInstance:Xy(e),Qy=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},Jy=e=>Qy(e).init.bindEvents(),Zy=e=>0===e.dom.length?(vo(e),M.none()):M.some(e),eC=(e,t,n,o)=>{e.bind(e=>((o?Sh:Eh)(e.dom,o?e.dom.length:0),t.filter($t).map(t=>((e,t,n,o)=>{const r=e.dom,i=t.dom,s=o?r.length:i.length;o?(kh(r,i,!1,!o),n.setStart(i,s)):(kh(i,r,!1,!o),n.setEnd(i,s))})(e,t,n,o)))).orThunk(()=>((e,t)=>e.filter(e=>Rf.isBookmarkNode(e.dom)).bind(t?An:Tn))(t,o).or(t).filter($t).map(e=>((e,t)=>{Sn(e).each(n=>{const o=e.dom;t&&gh(n,Na(o,0))?Eh(o,0):!t&&vh(n,Na(o,o.length))&&Sh(o,o.length)})})(e,o)))},tC=(e,t,n)=>{if(xe(e,t)){const o=X(e[t],e=>e!==n);0===o.length?delete e[t]:e[t]=o}},nC=e=>!(!e||!e.ownerDocument)&&_n(gn(e.ownerDocument),gn(e)),oC=(e,t,n,o)=>{let r,i;const{selectorChangedWithUnbind:s}=((e,t)=>{let n,o;const r=(t,n)=>J(n,n=>e.is(n,t)),i=t=>e.getParents(t,void 0,e.getRoot());return{selectorChangedWithUnbind:(e,s)=>(n||(n={},o={},t.on("NodeChange",e=>{const t=e.element,s=i(t),a={};pe(n,(e,t)=>{r(t,s).each(n=>{o[t]||(W(e,e=>{e(!0,{node:n,selector:t,parents:s})}),o[t]=e),a[t]=e})}),pe(o,(e,n)=>{a[n]||(delete o[n],W(e,e=>{e(!1,{node:t,selector:n,parents:s})}))})})),n[e]||(n[e]=[]),n[e].push(s),r(e,i(t.selection.getStart())).each(()=>{o[e]=n[e]}),{unbind:()=>{tC(n,e,s),tC(o,e,s)}})}})(e,o),a=(e,t)=>((e,t,n={})=>{const o=((e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}))(n,t);Ey(e,o).each(t=>{const n=((e,t)=>{if("raw"!==t.format){const n=e.selection.getRng(),o=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),r=o?{context:o.nodeName.toLowerCase()}:{},i=e.parser.parse(t.content,{forced_root_block:!1,...r,...t});return Tp({validate:!1},e.schema).serialize(i)}return t.content})(e,t),o=e.selection.getRng();((e,t)=>{const n=M.from(t.firstChild).map(gn),o=M.from(t.lastChild).map(gn);e.deleteContents(),e.insertNode(t);const r=n.bind(Tn).filter($t).bind(Zy),i=o.bind(An).filter($t).bind(Zy);eC(r,n,e,!0),eC(i,o,e,!1),e.collapse(!1)})(o,o.createContextualFragment(n)),e.selection.setRng(o),Pm(e,o),Sy(e,n,t)})})(o,e,t),l=e=>{const t=d();t.collapse(!!e),u(t)},c=()=>t.getSelection?t.getSelection():t.document.selection,d=()=>{let n;const s=(e,t,n)=>{try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}},a=t.document;if(C(o.bookmark)&&!rp(o)){const e=Vm(o);if(e.isSome())return e.map(e=>dp(o,[e])[0]).getOr(a.createRange())}try{const e=c();e&&!Io(e.anchorNode)&&(n=e.rangeCount>0?e.getRangeAt(0):a.createRange(),n=dp(o,[n])[0])}catch(e){}if(n||(n=a.createRange()),Go(n.startContainer)&&n.collapsed){const t=e.getRoot();n.setStart(t,0),n.setEnd(t,0)}return r&&i&&(0===s(n.START_TO_START,n,r)&&0===s(n.END_TO_END,n,r)?n=i:(r=null,i=null)),n},u=(e,t)=>{if(!(e=>!!e&&nC(e.startContainer)&&nC(e.endContainer))(e))return;const n=c();if(e=o.dispatch("SetSelectionRange",{range:e,forward:t}).range,n){i=e;try{n.removeAllRanges(),n.addRange(e)}catch(e){}!1===t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),r=n.rangeCount>0?n.getRangeAt(0):null}if(!e.collapsed&&e.startContainer===e.endContainer&&(null==n?void 0:n.setBaseAndExtent)&&e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()){const t=e.startContainer.childNodes[e.startOffset];t&&"IMG"===t.nodeName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),n.anchorNode===e.startContainer&&n.focusNode===e.endContainer||n.setBaseAndExtent(t,0,t,1))}o.dispatch("AfterSetSelectionRange",{range:e,forward:t})},f=()=>{const t=c(),n=null==t?void 0:t.anchorNode,o=null==t?void 0:t.focusNode;if(!t||!n||!o||Io(n)||Io(o))return!0;const r=e.createRng(),i=e.createRng();try{r.setStart(n,t.anchorOffset),r.collapse(!0),i.setStart(o,t.focusOffset),i.collapse(!0)}catch(e){return!0}return r.compareBoundaryPoints(r.START_TO_START,i)<=0},m={dom:e,win:t,serializer:n,editor:o,expand:(t={type:"word"})=>u(hm(e).expand(d(),t)),collapse:l,setCursorLocation:(t,n)=>{const r=e.createRng();C(t)&&C(n)?(r.setStart(t,n),r.setEnd(t,n),u(r),l(!1)):(ju(e,r,o.getBody(),!0),u(r))},getContent:e=>((e,t={})=>((e,t,n)=>Qy(e).selection.getContent(t,n))(e,t.format?t.format:"html",t))(o,e),setContent:a,getBookmark:(e,t)=>p.getBookmark(e,t),moveToBookmark:e=>p.moveToBookmark(e),select:(t,n)=>(((e,t,n)=>M.from(t).bind(t=>M.from(t.parentNode).map(o=>{const r=e.nodeIndex(t),i=e.createRng();return i.setStart(o,r),i.setEnd(o,r+1),n&&(ju(e,i,t,!0),ju(e,i,t,!1)),i})))(e,t,n).each(u),t),isCollapsed:()=>{const e=d(),t=c();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isEditable:()=>{const t=d(),n=o.getBody().querySelectorAll('[data-mce-selected="1"]');return n.length>0?ne(n,t=>e.isEditable(t.parentElement)):t.startContainer===t.endContainer?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer)},isForward:f,setNode:t=>(a(e.getOuterHTML(t)),t),getNode:()=>((e,t)=>{if(!t)return e;let n=t.startContainer,o=t.endContainer;const r=t.startOffset,i=t.endOffset;let s=t.commonAncestorContainer;t.collapsed||(n===o&&i-r<2&&n.hasChildNodes()&&(s=n.childNodes[r]),Vo(n)&&Vo(o)&&(n=n.length===r?cp(n.nextSibling,!0):n.parentNode,o=0===i?cp(o.previousSibling,!1):o.parentNode,n&&n===o&&(s=n)));const a=Vo(s)?s.parentNode:s;return Mo(a)?a:e})(o.getBody(),d()),getSel:c,setRng:u,getRng:d,getStart:e=>ap(o.getBody(),d(),e),getEnd:e=>lp(o.getBody(),d(),e),getSelectedBlocks:(t,n)=>((e,t,n,o)=>{const r=[],i=e.getRoot(),s=e.getParent(n||ap(i,t,t.collapsed),e.isBlock),a=e.getParent(o||lp(i,t,t.collapsed),e.isBlock);if(s&&s!==i&&r.push(s),s&&a&&s!==a){let t;const n=new Lo(s,i);for(;(t=n.next())&&t!==a;)e.isBlock(t)&&r.push(t)}return a&&s!==a&&a!==i&&r.push(a),r})(e,d(),t,n),normalize:()=>{const t=d(),n=c();if(!(Ou(n).length>1)&&Fu(o)){const n=fm(e,t);return n.each(e=>{u(e,f())}),n.getOr(t)}return t},selectorChanged:(e,t)=>(s(e,t),m),selectorChangedWithUnbind:s,getScrollContainer:()=>{let t,n=e.getRoot();for(;n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},scrollIntoView:(e,t)=>{C(e)?((e,t,n)=>{(e.inline?Dm:Lm)(e,t,n)})(o,e,t):Pm(o,d(),t)},placeCaretAt:(e,t)=>u(rm(e,t,o.getDoc())),getBoundingClientRect:()=>{const e=d();return e.collapsed?Na.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:()=>{t=r=i=null,h.destroy()}},p=Rf(m),h=zf(m,o);return m.bookmarkManager=p,m.controlSelection=h,m},rC=(e,t,n)=>{-1===Bt.inArray(t,n)&&(e.addAttributeFilter(n,(e,t)=>{let n=e.length;for(;n--;)e[n].attr(t,null)}),t.push(n))},iC=(e,t)=>{const n=((e,t)=>{const n=["data-mce-selected"],o=t&&t.dom?t.dom:ws.DOM,r=t&&t.schema?t.schema:ns(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs;const i=Cy(e,r);return((e,t,n)=>{e.addAttributeFilter("data-mce-tabindex",(e,t)=>{let n=e.length;for(;n--;){const o=e[n];o.attr("tabindex",o.attr("data-mce-tabindex")),o.attr(t,null)}}),e.addAttributeFilter("src,href,style",(e,o)=>{const r="data-mce-"+o,i=t.url_converter,s=t.url_converter_scope;let a=e.length;for(;a--;){const t=e[a];let l=t.attr(r);void 0!==l?(t.attr(o,l.length>0?l:null),t.attr(r,null)):(l=t.attr(o),"style"===o?l=n.serializeStyle(n.parseStyle(l),t.name):i&&(l=i.call(s,l,o,t.name)),t.attr(o,l.length>0?l:null))}}),e.addAttributeFilter("class",e=>{let t=e.length;for(;t--;){const n=e[t];let o=n.attr("class");o&&(o=o.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),n.attr("class",o.length>0?o:null))}}),e.addAttributeFilter("data-mce-type",(e,t,n)=>{let o=e.length;for(;o--;){const t=e[o];"bookmark"!==t.attr("data-mce-type")||n.cleanup||(M.from(t.firstChild).exists(e=>{var t;return!Ar(null!==(t=e.value)&&void 0!==t?t:"")})?t.unwrap():t.remove())}}),e.addNodeFilter("noscript",e=>{var t;let n=e.length;for(;n--;){const o=e[n].firstChild;o&&(o.value=zi.decode(null!==(t=o.value)&&void 0!==t?t:""))}}),e.addNodeFilter("script,style",(e,n)=>{var o;const r=e=>e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let i=e.length;for(;i--;){const s=e[i],a=s.firstChild,l=null!==(o=null==a?void 0:a.value)&&void 0!==o?o:"";if("script"===n){const e=s.attr("type");e&&s.attr("type","mce-no/type"===e?null:e.replace(/^mce\-/,"")),"xhtml"===t.element_format&&a&&l.length>0&&(a.value="// <![CDATA[\n"+r(l)+"\n// ]]>")}else"xhtml"===t.element_format&&a&&l.length>0&&(a.value="\x3c!--\n"+r(l)+"\n--\x3e")}}),e.addNodeFilter("#comment",e=>{let o=e.length;for(;o--;){const r=e[o],i=r.value;t.preserve_cdata&&0===(null==i?void 0:i.indexOf("[CDATA["))?(r.name="#cdata",r.type=4,r.value=n.decode(i.replace(/^\[CDATA\[|\]\]$/g,""))):0===(null==i?void 0:i.indexOf("mce:protected "))&&(r.name="#text",r.type=3,r.raw=!0,r.value=unescape(i).substr(14))}}),e.addNodeFilter("xml:namespace,input",(e,t)=>{let n=e.length;for(;n--;){const o=e[n];7===o.type?o.remove():1===o.type&&("input"!==t||o.attr("type")||o.attr("type","text"))}}),e.addAttributeFilter("data-mce-type",t=>{W(t,t=>{"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(e,t)=>{let n=e.length;for(;n--;)e[n].attr(t,null)})})(i,e,o),{schema:r,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:(n,s={})=>{const a={format:"html",...s},l=((e,t,n)=>((e,t)=>C(e)&&e.hasEventListeners("PreProcess")&&!t.no_events)(e,n)?((e,t,n)=>{let o;const r=e.dom;let i=t.cloneNode(!0);const s=document.implementation;if(s.createHTMLDocument){const e=s.createHTMLDocument("");Bt.each("BODY"===i.nodeName?i.childNodes:[i],t=>{e.body.appendChild(e.importNode(t,!0))}),i="BODY"!==i.nodeName?e.body.firstChild:e.body,o=r.doc,r.doc=e}return((e,t)=>{e.dispatch("PreProcess",t)})(e,{...n,node:i}),o&&(r.doc=o),i})(e,t,n):t)(t,n,a),c=((e,t,n)=>{const o=Rr(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||wr(gn(t))?o:Bt.trim(o)})(o,l,a),d=((e,t,n)=>{const o=n.selection?{forced_root_block:!1,...n}:n,r=e.parse(t,o);return(e=>{const t=e=>"br"===(null==e?void 0:e.name),n=e.lastChild;if(t(n)){const e=n.prev;t(e)&&(n.remove(),e.remove())}})(r),r})(i,c,a);return"tree"===a.format?d:((e,t,n,o,r)=>((e,t,n)=>!t.no_events&&e?((e,t)=>e.dispatch("PostProcess",t))(e,{...t,content:n}).content:n)(e,r,((e,t,n)=>Tp(e,t).serialize(n))(t,n,o)))(t,e,r,d,a)},addRules:r.addValidElements,setRules:r.setValidElements,addTempAttr:R(rC,i,n),getTempAttrs:N(n),getNodeFilters:i.getNodeFilters,getAttributeFilters:i.getAttributeFilters,removeNodeFilter:i.removeNodeFilter,removeAttributeFilter:i.removeAttributeFilter}})(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},sC=(e,t,n={})=>{const o=((e,t)=>({format:"html",...e,set:!0,content:t}))(n,t);return Ey(e,o).map(t=>{const n=((e,t,n)=>Gy(e).editor.setContent(t,n))(e,t.content,t);return Sy(e,n.html,t),n.content}).getOr(t)},aC="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),lC="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),cC="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),dC=[{name:"template",replacedWith:"Advanced Template"}],uC=(e,t)=>{const n=X(t,t=>xe(e,t));return se(n)},fC=(e,t)=>{const n=Bt.makeMap(e.plugins," "),o=X(t,e=>xe(n,e));return se(o)},mC=e=>J(dC,t=>t.name===e).fold(()=>e,t=>`${e}, replaced by ${t.replacedWith}`),pC=ws.DOM,hC=e=>M.from(e).each(e=>e.destroy()),gC=(()=>{const e={};return{add:(t,n)=>{e[t]=n},get:t=>e[t]?e[t]:{icons:{}},has:t=>xe(e,t)}})(),vC=Rs.ModelManager,bC=(e,t)=>t.dom[e],yC=(e,t)=>parseInt(ro(t,e),10),CC=R(bC,"clientWidth"),_C=R(bC,"clientHeight"),wC=R(yC,"margin-top"),xC=R(yC,"margin-left"),EC=e=>{const t=[],n=()=>{const t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():(()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}})()},o=()=>M.from(t[0]),r=()=>{W(t,e=>{e.reposition()})},i=e=>{Z(t,t=>t===e).each(e=>{t.splice(e,1)})},s=(s,a=!0)=>e.removed||!(e=>{return(t=e.inline?e.getBody():e.getContentAreaContainer(),M.from(t).map(gn)).map(Wn).getOr(!1);var t})(e)?{}:(a&&e.dispatch("BeforeOpenNotification",{notification:s}),J(t,e=>{return!((t=n().getArgs(e)).type!==(o=s).type||t.text!==o.text||t.progressBar||t.timeout||o.progressBar||o.timeout);var t,o}).getOrThunk(()=>{e.editorManager.setActive(e);const a=n().open(s,()=>{i(a),r(),o().fold(()=>e.focus(),e=>Im(gn(e.getEl())))});return(e=>{t.push(e)})(a),r(),e.dispatch("OpenNotification",{notification:{...a}}),a})),a=N(t);return(e=>{e.on("SkinLoaded",()=>{const t=Gl(e);t&&s({text:t,type:"warning",timeout:0},!1),r()}),e.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(r)}),e.on("remove",()=>{W(t.slice(),e=>{n().close(e)})})})(e),{open:s,close:()=>{o().each(e=>{n().close(e),i(e),r()})},getNotifications:a}},SC=Rs.PluginManager,kC=Rs.ThemeManager,NC=e=>{let t=[];const n=()=>{const t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():(()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}})()},o=(e,t)=>(...n)=>t?t.apply(e,n):void 0,r=n=>{(t=>{e.dispatch("CloseWindow",{dialog:t})})(n),t=X(t,e=>e!==n),0===t.length&&e.focus()},i=n=>{e.editorManager.setActive(e),Wm(e),e.ui.show();const o=n();return(n=>{t.push(n),(t=>{e.dispatch("OpenWindow",{dialog:t})})(n)})(o),o};return e.on("remove",()=>{W(t,e=>{n().close(e)})}),{open:(e,t)=>i(()=>n().open(e,t,r)),openUrl:e=>i(()=>n().openUrl(e,r)),alert:(e,t,r)=>{const i=n();i.alert(e,o(r||i,t))},confirm:(e,t,r)=>{const i=n();i.confirm(e,o(r||i,t))},close:()=>{M.from(t[t.length-1]).each(e=>{n().close(e),r(e)})}}},TC=(e,t)=>{e.notificationManager.open({type:"error",text:t})},AC=(e,t)=>{e._skinLoaded?TC(e,t):e.on("SkinLoaded",()=>{TC(e,t)})},RC=(e,t,n)=>{Df(e,t,{message:n}),console.error(n)},OC=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,DC=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},BC=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",o=`content${e.editorManager.suffix}.css`;return $(t,t=>(e=>/^[a-z0-9\-]+$/i.test(e))(t)&&!e.inline?`${n}/${t}/${o}`:e.documentBaseURI.toAbsolute(t))},LC=()=>{let e={};const t=(e,t)=>({status:e,resultUri:t}),n=t=>t in e;return{hasBlobUri:n,getResultUri:t=>{const n=e[t];return n?n.resultUri:null},isPending:t=>!!n(t)&&1===e[t].status,isUploaded:t=>!!n(t)&&2===e[t].status,markPending:n=>{e[n]=t(1,null)},markUploaded:(n,o)=>{e[n]=t(2,o)},removeFailed:t=>{delete e[t]},destroy:()=>{e={}}}};let PC=0;const IC=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),MC=(e,t)=>((e,t)=>{const n={},o=(e,n)=>new Promise((o,r)=>{const i=new XMLHttpRequest;i.open("POST",t.url),i.withCredentials=t.credentials,i.upload.onprogress=e=>{n(e.loaded/e.total*100)},i.onerror=()=>{r("Image upload failed due to a XHR Transport error. Code: "+i.status)},i.onload=()=>{if(i.status<200||i.status>=300)return void r("HTTP Error: "+i.status);const e=JSON.parse(i.responseText);var n,s;e&&f(e.location)?o((s=e.location,(n=t.basePath)?n.replace(/\/$/,"")+"/"+s.replace(/^\//,""):s)):r("Invalid JSON: "+i.responseText)};const s=new FormData;s.append("file",e.blob(),e.filename()),i.send(s)}),r=_(t.handler)?t.handler:o,i=(e,t)=>({url:t,blobInfo:e,status:!0}),s=(e,t)=>({url:"",blobInfo:e,status:!1,error:t}),a=(e,t)=>{Bt.each(n[e],e=>{e(t)}),delete n[e]};return{upload:(l,c)=>t.url||r!==o?((t,o)=>(t=Bt.grep(t,t=>!e.isUploaded(t.blobUri())),Promise.all(Bt.map(t,t=>e.isPending(t.blobUri())?(e=>{const t=e.blobUri();return new Promise(e=>{n[t]=n[t]||[],n[t].push(e)})})(t):((t,n,o)=>(e.markPending(t.blobUri()),new Promise(r=>{let l,c;try{const d=()=>{l&&(l.close(),c=E)},u=n=>{d(),e.markUploaded(t.blobUri(),n),a(t.blobUri(),i(t,n)),r(i(t,n))},m=n=>{d(),e.removeFailed(t.blobUri()),a(t.blobUri(),s(t,n)),r(s(t,n))};c=e=>{e<0||e>100||M.from(l).orThunk(()=>M.from(o).map(B)).each(t=>{l=t,t.progressBar.value(e)})},n(t,c).then(u,e=>{m(f(e)?{message:e}:e)})}catch(e){r(s(t,e))}})))(t,r,o)))))(l,c):new Promise(e=>{e([])})}})(t,{url:Ol(e),basePath:Dl(e),credentials:Bl(e),handler:Ll(e)}),jC={remove_similar:!0,inherit:!1},FC={selector:"td,th",...jC},HC={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...FC},tablecellverticalalign:{styles:{"vertical-align":"%value"},...FC},tablecellbordercolor:{styles:{borderColor:"%value"},...FC},tablecellclass:{classes:["%value"],...FC},tableclass:{selector:"table",classes:["%value"],...jC},tablecellborderstyle:{styles:{borderStyle:"%value"},...FC},tablecellborderwidth:{styles:{borderWidth:"%value"},...FC}},UC=N(HC),qC=Bt.each,zC=ws.DOM,$C=e=>C(e)&&m(e),WC=(e,t)=>{const n=t&&t.schema||ns({}),o=e=>{const t=f(e)?{name:e,classes:[],attrs:{}}:e,n=zC.create(t.name);return((e,t)=>{t.classes.length>0&&zC.addClass(e,t.classes.join(" ")),zC.setAttribs(e,t.attrs)})(n,t),n},r=(e,t,i)=>{let s;const a=t[0],l=$C(a)?a.name:void 0,c=((e,t)=>{const o=n.getElementRule(e.nodeName.toLowerCase()),r=null==o?void 0:o.parentsRequired;return!(!r||!r.length)&&(t&&q(r,t)?t:r[0])})(e,l);if(c)l===c?(s=a,t=t.slice(1)):s=c;else if(a)s=a,t=t.slice(1);else if(!i)return e;const d=s?o(s):zC.create("div");d.appendChild(e),i&&Bt.each(i,t=>{const n=o(t);d.insertBefore(n,e)});const u=$C(s)?s.siblings:void 0;return r(d,t,u)},i=zC.create("div");if(e.length>0){const t=e[0],n=o(t),s=$C(t)?t.siblings:void 0;i.appendChild(r(n,e.slice(1),s))}return i},VC=e=>{let t="div";const n={name:t,classes:[],attrs:{},selector:e=Bt.trim(e)};return"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(e,t,o,r,i)=>{switch(t){case"#":n.attrs.id=o;break;case".":n.classes.push(o);break;case":":-1!==Bt.inArray("checked disabled enabled read-only required".split(" "),o)&&(n.attrs[o]=o)}if("["===r){const e=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);e&&(n.attrs[e[1]]=e[2])}return""})),n.name=t||"div",n},KC=(e,t)=>{let n="",o=oc(e);if(""===o)return"";const r=e=>f(e)?e.replace(/%(\w+)/g,""):"",i=(t,n)=>zC.getStyle(null!=n?n:e.getBody(),t,!0);if(f(t)){const n=e.formatter.get(t);if(!n)return"";t=n[0]}if("preview"in t){const e=t.preview;if(!1===e)return"";o=e||o}let s,a=t.block||t.inline||"span";const l=f(c=t.selector)?(c=(c=c.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Bt.map(c.split(/(?:>|\s+(?![^\[\]]+\]))/),e=>{const t=Bt.map(e.split(/(?:~\+|~|\+)/),VC),n=t.pop();return t.length&&(n.siblings=t),n}).reverse()):[];var c;l.length>0?(l[0].name||(l[0].name=a),a=t.selector,s=WC(l,e)):s=WC([a],e);const d=zC.select(a,s)[0]||s.firstChild;qC(t.styles,(e,t)=>{const n=r(e);n&&zC.setStyle(d,t,n)}),qC(t.attributes,(e,t)=>{const n=r(e);n&&zC.setAttrib(d,t,n)}),qC(t.classes,e=>{const t=r(e);zC.hasClass(d,t)||zC.addClass(d,t)}),e.dispatch("PreviewFormats"),zC.setStyles(s,{position:"absolute",left:-65535}),e.getBody().appendChild(s);const u=i("fontSize"),m=/px$/.test(u)?parseInt(u,10):0;return qC(o.split(" "),e=>{let t=i(e,d);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(t)&&(t=i(e),"#ffffff"===Ru(t).toLowerCase())||"color"===e&&"#000000"===Ru(t).toLowerCase())){if("font-size"===e&&/em|%$/.test(t)){if(0===m)return;t=parseFloat(t)/(/%$/.test(t)?100:1)*m+"px"}"border"===e&&t&&(n+="padding:0 2px;"),n+=e+":"+t+";"}}),e.dispatch("AfterPreviewFormats"),zC.remove(s),n},XC=e=>{const t=(e=>{const t={},n=(e,o)=>{e&&(f(e)?(h(o)||(o=[o]),W(o,e=>{b(e.deep)&&(e.deep=!af(e)),b(e.split)&&(e.split=!af(e)||lf(e)),b(e.remove)&&af(e)&&!lf(e)&&(e.remove="none"),af(e)&&lf(e)&&(e.mixed=!0,e.block_expand=!0),f(e.classes)&&(e.classes=e.classes.split(/\s+/))}),t[e]=o):pe(e,(e,t)=>{n(t,e)}))};return n((e=>{const t=e.dom,n=e.schema.type,o={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:e=>{t.setStyle(e,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const e={inline:"span",styles:{textDecoration:"line-through"},exact:!0},t={inline:"strike",remove:"all",preserve_attributes:["class","style"]},o={inline:"s",remove:"all",preserve_attributes:["class","style"]};return"html4"!==n?[o,e,t]:[e,o,t]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(e,t,n)=>Mo(e)&&e.hasAttribute("href"),onformat:(e,n,o)=>{Bt.each(o,(n,o)=>{t.setAttrib(e,o,n)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":e=>{var t;return null!==(t=null==e?void 0:e.customValue)&&void 0!==t?t:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Bt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),e=>{o[e]={block:e,remove:"all"}}),o})(e)),n(UC()),n(nc(e)),{get:e=>C(e)?t[e]:t,has:e=>xe(t,e),register:n,unregister:e=>(e&&t[e]&&delete t[e],t)}})(e),n=Ss({});return(e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])})(e),(e=>{e.on("mouseup keydown",t=>{((e,t)=>{const n=e.selection,o=e.getBody();Qg(e,null,!1),8!==t&&46!==t||!n.isCollapsed()||n.getStart().innerHTML!==Vg||Qg(e,lu(o,n.getStart())),37!==t&&39!==t||Qg(e,lu(o,n.getStart()))})(e,t.keyCode)})})(e),Yy(e)||((e,t)=>{e.set({}),t.on("NodeChange",n=>{Vv(t,n.element,e.get())}),t.on("FormatApply FormatRemove",n=>{const o=M.from(n.node).map(e=>qu(e)?e:e.startContainer).bind(e=>Mo(e)?M.some(e):M.from(e.parentElement)).getOrThunk(()=>zv(t));Vv(t,o,e.get())})})(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(t,n,o)=>{((e,t,n,o)=>{Qy(e).formatter.apply(t,n,o)})(e,t,n,o)},remove:(t,n,o,r)=>{((e,t,n,o,r)=>{Qy(e).formatter.remove(t,n,o,r)})(e,t,n,o,r)},toggle:(t,n,o)=>{((e,t,n,o)=>{Qy(e).formatter.toggle(t,n,o)})(e,t,n,o)},match:(t,n,o,r)=>((e,t,n,o,r)=>Qy(e).formatter.match(t,n,o,r))(e,t,n,o,r),closest:t=>((e,t)=>Qy(e).formatter.closest(t))(e,t),matchAll:(t,n)=>((e,t,n)=>Qy(e).formatter.matchAll(t,n))(e,t,n),matchNode:(t,n,o,r)=>((e,t,n,o,r)=>Qy(e).formatter.matchNode(t,n,o,r))(e,t,n,o,r),canApply:t=>((e,t)=>Qy(e).formatter.canApply(t))(e,t),formatChanged:(t,o,r,i)=>((e,t,n,o,r,i)=>Qy(e).formatter.formatChanged(t,n,o,r,i))(e,n,t,o,r,i),getCssText:R(KC,e)}},YC=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},GC=e=>{const t=Ds(),n=Ss(0),o=Ss(0),r={data:[],typing:!1,beforeChange:()=>{((e,t,n)=>{Qy(e).undoManager.beforeChange(t,n)})(e,n,t)},add:(i,s)=>((e,t,n,o,r,i,s)=>Qy(e).undoManager.add(t,n,o,r,i,s))(e,r,o,n,t,i,s),dispatchChange:()=>{e.setDirty(!0);const t=Hy(e);t.bookmark=Xa(e.selection),e.dispatch("change",{level:t,lastLevel:ae(r.data,o.get()).getOrUndefined()})},undo:()=>((e,t,n,o)=>Qy(e).undoManager.undo(t,n,o))(e,r,n,o),redo:()=>((e,t,n)=>Qy(e).undoManager.redo(t,n))(e,o,r.data),clear:()=>{((e,t,n)=>{Qy(e).undoManager.clear(t,n)})(e,r,o)},reset:()=>{((e,t)=>{Qy(e).undoManager.reset(t)})(e,r)},hasUndo:()=>((e,t,n)=>Qy(e).undoManager.hasUndo(t,n))(e,r,o),hasRedo:()=>((e,t,n)=>Qy(e).undoManager.hasRedo(t,n))(e,r,o),transact:t=>((e,t,n,o)=>Qy(e).undoManager.transact(t,n,o))(e,r,n,t),ignore:t=>{((e,t,n)=>{Qy(e).undoManager.ignore(t,n)})(e,n,t)},extra:(t,n)=>{((e,t,n,o,r)=>{Qy(e).undoManager.extra(t,n,o,r)})(e,r,o,t,n)}};return Yy(e)||((e,t,n)=>{const o=Ss(!1),r=e=>{Vy(t,!1,n),t.add({},e)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",e=>{YC(e.command)||(Ky(t,n),t.beforeChange())}),e.on("ExecCommand",e=>{YC(e.command)||r(e)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",r),e.on("dragend",r),e.on("keyup",n=>{const i=n.keyCode;n.isDefaultPrevented()||((i>=33&&i<=36||i>=37&&i<=40||45===i||n.ctrlKey)&&(r(),e.nodeChanged()),46!==i&&8!==i||e.nodeChanged(),o.get()&&t.typing&&!$y(Hy(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),o.set(!1),e.nodeChanged()))}),e.on("keydown",e=>{const i=e.keyCode;e.isDefaultPrevented()||(i>=33&&i<=36||i>=37&&i<=40||45===i?t.typing&&r(e):!(i<16||i>20)||224===i||91===i||t.typing||e.ctrlKey&&!e.altKey||e.metaKey||(t.beforeChange(),Vy(t,!0,n),t.add({},e),o.set(!0)))}),e.on("mousedown",e=>{t.typing&&r(e)}),e.on("input",e=>{var t;e.inputType&&("insertReplacementText"===e.inputType||"insertText"===(t=e).inputType&&null===t.data||(e=>"insertFromPaste"===e.inputType||"insertFromDrop"===e.inputType)(e))&&r(e)}),e.on("AddUndo Undo Redo ClearUndos",t=>{t.isDefaultPrevented()||e.nodeChanged()})})(e,r,n),(e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")})(e),r},QC=[9,27,jf.HOME,jf.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,jf.DOWN,jf.UP,jf.LEFT,jf.RIGHT].concat(At.browser.isFirefox()?[224]:[]),JC="data-mce-placeholder",ZC=e=>"keydown"===e.type||"keyup"===e.type,e_=e=>{const t=e.keyCode;return t===jf.BACKSPACE||t===jf.DELETE},t_=(e,t)=>({from:e,to:t}),n_=(e,t)=>{const n=gn(e),o=gn(t.container());return zh(n,o).map(e=>((e,t)=>({block:e,position:t}))(e,t))},o_=(e,t)=>Xn(t,e=>_r(e)||er(e.dom),t=>Cn(t,e)).filter(zt).getOr(e),r_=e=>{const t=(e=>{const t=Dn(e);return Z(t,pr).fold(N(t),e=>t.slice(0,e))})(e);return W(t,vo),t},i_=(e,t)=>{const n=Yp(t,e);return J(n.reverse(),e=>li(e)).each(vo)},s_=(e,t,n,o)=>{if(li(n))return kr(n),ru(n.dom);0===X(Rn(o),e=>!li(e)).length&&li(t)&&co(o,pn("br"));const r=ou(n.dom,Na.before(o.dom));return W(r_(t),e=>{co(o,e)}),i_(e,t),r},a_=(e,t,n)=>{if(li(n)){if(li(t)){const e=Y((e=>{const t=(e,n)=>Ln(e).fold(()=>n,e=>hr(e)?t(e,n.concat(Ys(e))):n);return t(e,[])})(n),(e,t)=>(po(e,t),t),Sr());go(t),mo(t,e)}return vo(n),ru(t.dom)}const o=iu(n.dom);return W(r_(t),e=>{mo(n,e)}),i_(e,t),o},l_=(e,t)=>{tu(e,t.dom).bind(e=>M.from(e.getNode())).map(gn).filter(gr).each(vo)},c_=(e,t,n)=>(l_(!0,t),l_(!1,n),((e,t)=>_n(t,e)?((e,t)=>{const n=Yp(t,e);return M.from(n[n.length-1])})(t,e):M.none())(t,n).fold(R(a_,e,t,n),R(s_,e,t,n))),d_=(e,t,n,o)=>t?c_(e,o,n):c_(e,n,o),u_=(e,t)=>{const n=gn(e.getBody());return((e,t,n)=>n.collapsed?((e,t,n)=>{const o=n_(e,Na.fromRangeStart(n)),r=o.bind(n=>Jd(t,e,n.position).bind(n=>n_(e,n).map(n=>((e,t,n)=>Jo(n.position.getNode())&&!li(n.block)?tu(!1,n.block.dom).bind(o=>o.isEqual(n.position)?Jd(t,e,o).bind(t=>n_(e,t)):M.some(n)).getOr(n):n)(e,t,n))));return Pt(o,r,t_).filter(t=>(e=>!Cn(e.from.block,e.to.block))(t)&&((e,t)=>{const n=gn(e);return Cn(o_(n,t.from.block),o_(n,t.to.block))})(e,t)&&(e=>!1===tr(e.from.block.dom)&&!1===tr(e.to.block.dom))(t)&&(e=>{const t=e=>vr(e)||gi(e.dom);return t(e.from.block)&&t(e.to.block)})(t))})(e,t,n):M.none())(n.dom,t,e.selection.getRng()).map(o=>()=>{d_(n,t,o.from.block,o.to.block).each(t=>{e.selection.setRng(t.toRange())})})},f_=(e,t)=>{const n=gn(t),o=R(Cn,e);return Kn(n,_r,o).isSome()},m_=(e,t)=>e.selection.isCollapsed()?M.none():(e=>{const t=gn(e.getBody());return((e,t)=>{const n=ou(e.dom,Na.fromRangeStart(t)).isNone(),o=nu(e.dom,Na.fromRangeEnd(t)).isNone();return!((e,t)=>f_(e,t.startContainer)||f_(e,t.endContainer))(e,t)&&n&&o})(t,e.selection.getRng())?(e=>M.some(()=>{e.setContent(""),e.selection.setCursorLocation()}))(e):((e,t)=>{const n=t.getRng();return Pt(zh(e,gn(n.startContainer)),zh(e,gn(n.endContainer)),(o,r)=>Cn(o,r)?M.none():M.some(()=>{n.deleteContents(),d_(e,!0,o,r).each(e=>{t.setRng(e.toRange())})})).getOr(M.none())})(t,e.selection)})(e),p_=(e,t,n,o,r)=>M.from(t._selectionOverrides.showCaret(e,n,o,r)),h_=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?M.none():M.some((e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t})(t)),g_=(e,t,n)=>t.collapsed?((e,t,n)=>{const o=Od(1,e.getBody(),t),r=Na.fromRangeStart(o),i=r.getNode();if(ld(i))return p_(1,e,i,!r.isAtEnd(),!1);const s=r.getNode(!0);if(ld(s))return p_(1,e,s,!1,!1);const a=gg(e.dom.getRoot(),r.getNode());return ld(a)?p_(1,e,a,!1,n):M.none()})(e,t,n).getOr(t):t,v_=e=>Vp(e)||qp(e),b_=e=>Kp(e)||zp(e),y_=(e,t,n,o,r,i)=>{p_(o,e,i.getNode(!r),r,!0).each(n=>{if(t.collapsed){const e=t.cloneRange();r?e.setEnd(n.startContainer,n.startOffset):e.setStart(n.endContainer,n.endOffset),e.deleteContents()}else t.deleteContents();e.selection.setRng(n)}),((e,t)=>{Vo(t)&&0===t.data.length&&e.remove(t)})(e.dom,n)},C_=(e,t)=>((e,t)=>{const n=e.selection.getRng();if(!Vo(n.commonAncestorContainer))return M.none();const o=t?Md.Forwards:Md.Backwards,r=Xd(e.getBody()),i=R(Pd,t?r.next:r.prev),s=t?v_:b_,a=Bd(o,e.getBody(),n),l=i(a),c=l?Mh(t,l):l;if(!c||!Id(a,c))return M.none();if(s(c))return M.some(()=>y_(e,n,a.getNode(),o,t,c));const d=i(c);return d&&s(d)&&Id(c,d)?M.some(()=>y_(e,n,a.getNode(),o,t,d)):M.none()})(e,t),__=(e,t)=>{const n=e.getBody();return t?ru(n).filter(Vp):iu(n).filter(Kp)},w_=e=>{const t=e.selection.getRng();return!t.collapsed&&(__(e,!0).exists(e=>e.isEqual(Na.fromRangeStart(t)))||__(e,!1).exists(e=>e.isEqual(Na.fromRangeEnd(t))))},x_=Ja([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),E_=(e,t,n)=>Jd(t,e,n).bind(o=>{return r=o.getNode(),C(r)&&(_r(gn(r))||yr(gn(r)))||((e,t,n,o)=>{const r=t=>hr(gn(t))&&!Ed(n,o,e);return Dd(!t,n).fold(()=>Dd(t,o).fold(P,r),r)})(e,t,n,o)?M.none():t&&tr(o.getNode())||!t&&tr(o.getNode(!0))?((e,t,n,o)=>{const r=o.getNode(!t);return zh(gn(e),gn(n.getNode())).map(e=>li(e)?x_.remove(e.dom):x_.moveToElement(r)).orThunk(()=>M.some(x_.moveToElement(r)))})(e,t,n,o):t&&Kp(n)||!t&&Vp(n)?M.some(x_.moveToPosition(o)):M.none();var r}),S_=(e,t)=>M.from(gg(e.getBody(),t)),k_=e=>{const t=e.dom,n=e.selection,o=gg(e.getBody(),n.getNode());if(er(o)&&t.isBlock(o)&&t.isEmpty(o)){const e=t.create("br",{"data-mce-bogus":"1"});t.setHTML(o,""),o.appendChild(e),n.setRng(Na.before(e).toRange())}return!0},N_=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const n=e.selection.getNode();return S_(e,n).filter(tr).fold(()=>((e,t,n)=>{const o=Od(t?1:-1,e,n),r=Na.fromRangeStart(o),i=gn(e);return!t&&Kp(r)?M.some(x_.remove(r.getNode(!0))):t&&Vp(r)?M.some(x_.remove(r.getNode())):!t&&Vp(r)&&ah(i,r)?lh(i,r).map(e=>x_.remove(e.getNode())):t&&Kp(r)&&sh(i,r)?ch(i,r).map(e=>x_.remove(e.getNode())):((e,t,n)=>((e,t)=>{const n=t.getNode(!e),o=e?"after":"before";return Mo(n)&&n.getAttribute("data-mce-caret")===o})(t,n)?((e,t)=>y(t)?M.none():e&&tr(t.nextSibling)?M.some(x_.moveToElement(t.nextSibling)):!e&&tr(t.previousSibling)?M.some(x_.moveToElement(t.previousSibling)):M.none())(t,n.getNode(!t)).orThunk(()=>E_(e,t,n)):E_(e,t,n).bind(t=>((e,t,n)=>n.fold(e=>M.some(x_.remove(e)),e=>M.some(x_.moveToElement(e)),n=>Ed(t,n,e)?M.none():M.some(x_.moveToPosition(n))))(e,n,t)))(e,t,r)})(e.getBody(),t,e.selection.getRng()).map(n=>()=>n.fold(((e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),Bh(e,t,gn(n)),!0))(e,t),((e,t)=>n=>{const o=t?Na.before(n):Na.after(n);return e.selection.setRng(o.toRange()),!0})(e,t),(e=>t=>(e.selection.setRng(t.toRange()),!0))(e))),()=>M.some(E))})(e,t):((e,t)=>{const n=e.selection.getNode();return tr(n)&&!nr(n)?S_(e,n.parentNode).filter(tr).fold(()=>M.some(()=>{var n;n=gn(e.getBody()),W(Do(n,".mce-offscreen-selection"),vo),Bh(e,t,gn(e.selection.getNode())),$h(e)}),()=>M.some(E)):w_(e)?M.some(()=>{Vh(e,e.selection.getRng(),gn(e.getBody()))}):M.none()})(e,t),T_=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const n=Na.fromRangeStart(e.selection.getRng());return Jd(t,e.getBody(),n).filter(e=>t?Hp(e):Up(e)).bind(e=>Sd(t?0:-1,e)).map(t=>()=>e.selection.select(t))})(e,t):M.none(),A_=Vo,R_=e=>A_(e)&&e.data[0]===Tr,O_=e=>A_(e)&&e.data[e.data.length-1]===Tr,D_=e=>{var t;return(null!==(t=e.ownerDocument)&&void 0!==t?t:document).createTextNode(Tr)},B_=(e,t)=>e?(e=>{var t;if(A_(e.previousSibling))return O_(e.previousSibling)||e.previousSibling.appendData(Tr),e.previousSibling;if(A_(e))return R_(e)||e.insertData(0,Tr),e;{const n=D_(e);return null===(t=e.parentNode)||void 0===t||t.insertBefore(n,e),n}})(t):(e=>{var t,n;if(A_(e.nextSibling))return R_(e.nextSibling)||e.nextSibling.insertData(0,Tr),e.nextSibling;if(A_(e))return O_(e)||e.appendData(Tr),e;{const o=D_(e);return e.nextSibling?null===(t=e.parentNode)||void 0===t||t.insertBefore(o,e.nextSibling):null===(n=e.parentNode)||void 0===n||n.appendChild(o),o}})(t),L_=R(B_,!0),P_=R(B_,!1),I_=(e,t)=>Vo(e.container())?B_(t,e.container()):B_(t,e.getNode()),M_=(e,t)=>{const n=t.get();return n&&e.container()===n&&Lr(n)},j_=(e,t)=>t.fold(t=>{nd(e.get());const n=L_(t);return e.set(n),M.some(Na(n,n.length-1))},t=>ru(t).map(t=>{if(M_(t,e)){const t=e.get();return Na(t,1)}{nd(e.get());const n=I_(t,!0);return e.set(n),Na(n,1)}}),t=>iu(t).map(t=>{if(M_(t,e)){const t=e.get();return Na(t,t.length-1)}{nd(e.get());const n=I_(t,!1);return e.set(n),Na(n,n.length-1)}}),t=>{nd(e.get());const n=P_(t);return e.set(n),M.some(Na(n,1))}),F_=(e,t)=>{for(let n=0;n<e.length;n++){const o=e[n].apply(null,t);if(o.isSome())return o}return M.none()},H_=Ja([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),U_=(e,t)=>xd(t,e)||e,q_=(e,t,n)=>{const o=jh(n),r=U_(t,o.container());return Ih(e,r,o).fold(()=>nu(r,o).bind(R(Ih,e,r)).map(e=>H_.before(e)),M.none)},z_=(e,t)=>null===lu(e,t),$_=(e,t,n)=>Ih(e,t,n).filter(R(z_,t)),W_=(e,t,n)=>{const o=Fh(n);return $_(e,t,o).bind(e=>ou(e,o).isNone()?M.some(H_.start(e)):M.none())},V_=(e,t,n)=>{const o=jh(n);return $_(e,t,o).bind(e=>nu(e,o).isNone()?M.some(H_.end(e)):M.none())},K_=(e,t,n)=>{const o=Fh(n),r=U_(t,o.container());return Ih(e,r,o).fold(()=>ou(r,o).bind(R(Ih,e,r)).map(e=>H_.after(e)),M.none)},X_=e=>{return t=G_(e),!("rtl"===ws.DOM.getStyle(t,"direction",!0)||(e=>Lh.test(e))(null!==(n=t.textContent)&&void 0!==n?n:""));var t,n},Y_=(e,t,n)=>F_([q_,W_,V_,K_],[e,t,n]).filter(X_),G_=e=>e.fold(T,T,T,T),Q_=e=>e.fold(N("before"),N("start"),N("end"),N("after")),J_=e=>e.fold(H_.before,H_.before,H_.after,H_.after),Z_=e=>e.fold(H_.start,H_.start,H_.end,H_.end),ew=(e,t,n,o,r,i)=>Pt(Ih(t,n,o),Ih(t,n,r),(t,o)=>t!==o&&((e,t,n)=>{const o=xd(t,e),r=xd(n,e);return C(o)&&o===r})(n,t,o)?H_.after(e?t:o):i).getOr(i),tw=(e,t)=>e.fold(I,e=>{return o=t,!(Q_(n=e)===Q_(o)&&G_(n)===G_(o));var n,o}),nw=(e,t)=>e?t.fold(S(M.some,H_.start),M.none,S(M.some,H_.after),M.none):t.fold(M.none,S(M.some,H_.before),M.none,S(M.some,H_.end)),ow=(e,t,n)=>{const o=e?1:-1;return t.setRng(Na(n.container(),n.offset()+o).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0};var rw;!function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"}(rw||(rw={}));const iw=(e,t)=>e===Md.Backwards?oe(t):t,sw=(e,t,n)=>e===Md.Forwards?t.next(n):t.prev(n),aw=(e,t,n,o)=>Jo(o.getNode(t===Md.Forwards))?rw.Br:!1===Ed(n,o)?rw.Block:rw.Wrap,lw=(e,t,n,o)=>{const r=Xd(n);let i=o;const s=[];for(;i;){const n=sw(t,r,i);if(!n)break;if(Jo(n.getNode(!1)))return t===Md.Forwards?{positions:iw(t,s).concat([n]),breakType:rw.Br,breakAt:M.some(n)}:{positions:iw(t,s),breakType:rw.Br,breakAt:M.some(n)};if(n.isVisible()){if(e(i,n)){const e=aw(0,t,i,n);return{positions:iw(t,s),breakType:e,breakAt:M.some(n)}}s.push(n),i=n}else i=n}return{positions:iw(t,s),breakType:rw.Eol,breakAt:M.none()}},cw=(e,t,n,o)=>t(n,o).breakAt.map(o=>{const r=t(n,o).positions;return e===Md.Backwards?r.concat(o):[o].concat(r)}).getOr([]),dw=(e,t)=>G(e,(e,n)=>e.fold(()=>M.some(n),o=>Pt(le(o.getClientRects()),le(n.getClientRects()),(e,r)=>{const i=Math.abs(t-e.left);return Math.abs(t-r.left)<=i?n:o}).or(e)),M.none()),uw=(e,t)=>le(t.getClientRects()).bind(t=>dw(e,t.left)),fw=R(lw,Na.isAbove,-1),mw=R(lw,Na.isBelow,1),pw=R(cw,-1,fw),hw=R(cw,1,mw),gw=(e,t)=>uw(pw(e,t),t),vw=(e,t)=>uw(hw(e,t),t),bw=tr,yw=(e,t)=>Math.abs(e.left-t),Cw=(e,t)=>Math.abs(e.right-t),_w=(e,t)=>Oe(e,(e,n)=>{const o=Math.min(yw(e,t),Cw(e,t)),r=Math.min(yw(n,t),Cw(n,t));return r===o&&Ee(n,"node")&&bw(n.node)||r<o?n:e}),ww=e=>{const t=t=>$(t,t=>{const n=ea(t);return n.node=e,n});if(Mo(e))return t(e.getClientRects());if(Vo(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}return[]},xw=e=>te(e,ww);var Ew;!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(Ew||(Ew={}));const Sw=(e,t,n,o,r,i)=>{let s=0;const a=[],l=o=>{let i=xw([o]);-1===e&&(i=i.reverse());for(let e=0;e<i.length;e++){const o=i[e];if(!n(o,c)){if(a.length>0&&t(o,Be(a))&&s++,o.line=s,r(o))return!0;a.push(o)}}return!1},c=Be(i.getClientRects());if(!c)return a;const d=i.getNode();return d&&(l(d),((e,t,n,o)=>{let r=o;for(;r=wd(r,e,Zr,t);)if(n(r))return})(e,o,l,d)),a},kw=R(Sw,Ew.Up,oa,ra),Nw=R(Sw,Ew.Down,ra,oa),Tw=e=>Be(e.getClientRects()),Aw=e=>t=>((e,t)=>t.line>e)(e,t),Rw=e=>t=>((e,t)=>t.line===e)(e,t),Ow=(e,t)=>{e.selection.setRng(t),Pm(e,e.selection.getRng())},Dw=(e,t,n)=>M.some(g_(e,t,n)),Bw=(e,t,n,o,r,i)=>{const s=t===Md.Forwards,a=Xd(e.getBody()),l=R(Pd,s?a.next:a.prev),c=s?o:r;if(!n.collapsed){const o=sa(n);if(i(o))return p_(t,e,o,t===Md.Backwards,!1);if(w_(e)){const e=n.cloneRange();return e.collapse(t===Md.Backwards),M.from(e)}}const d=Bd(t,e.getBody(),n);if(c(d))return h_(e,d.getNode(!s));let u=l(d);const f=qr(n);if(!u)return f?M.some(n):M.none();if(u=Mh(s,u),c(u))return p_(t,e,u.getNode(!s),s,!1);const m=l(u);return m&&c(m)&&Id(u,m)?p_(t,e,m.getNode(!s),s,!1):f?Dw(e,u.toRange(),!1):M.none()},Lw=(e,t,n,o,r,i)=>{const s=Bd(t,e.getBody(),n),a=Be(s.getClientRects()),l=t===Ew.Down,c=e.getBody();if(!a)return M.none();if(w_(e)){const e=l?Na.fromRangeEnd(n):Na.fromRangeStart(n);return(l?vw:gw)(c,e).orThunk(()=>M.from(e)).map(e=>e.toRange())}const d=(l?Nw:kw)(c,Aw(1),s),u=X(d,Rw(1)),f=a.left,m=_w(u,f);if(m&&i(m.node)){const n=Math.abs(f-m.left),o=Math.abs(f-m.right);return p_(t,e,m.node,n<o,!1)}let p;if(p=o(s)?s.getNode():r(s)?s.getNode(!0):sa(n),p){const n=((e,t,n,o)=>{const r=Xd(t);let i,s,a,l;const c=[];let d=0;1===e?(i=r.next,s=ra,a=oa,l=Na.after(o)):(i=r.prev,s=oa,a=ra,l=Na.before(o));const u=Tw(l);do{if(!l.isVisible())continue;const e=Tw(l);if(a(e,u))continue;c.length>0&&s(e,Be(c))&&d++;const t=ea(e);if(t.position=l,t.line=d,n(t))return c;c.push(t)}while(l=i(l));return c})(t,c,Aw(1),p);let o=_w(X(n,Rw(1)),f);if(o)return Dw(e,o.position.toRange(),!1);if(o=Be(X(n,Rw(0))),o)return Dw(e,o.position.toRange(),!1)}return 0===u.length?Pw(e,l).filter(l?r:o).map(t=>g_(e,t.toRange(),!1)):M.none()},Pw=(e,t)=>{const n=e.selection.getRng(),o=t?Na.fromRangeEnd(n):Na.fromRangeStart(n),r=(i=o.container(),s=e.getBody(),Kn(gn(i),e=>dd(e.dom),e=>e.dom===s).map(e=>e.dom).getOr(s));var i,s;if(t){const e=mw(r,o);return ce(e.positions)}{const e=fw(r,o);return le(e.positions)}},Iw=(e,t,n)=>Pw(e,t).filter(n).exists(t=>(e.selection.setRng(t.toRange()),!0)),Mw=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},jw=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},Fw=(e,t,n)=>j_(t,n).map(t=>(Mw(e,t),n)),Hw=(e,t,n)=>!!tc(e)&&((e,t,n)=>{const o=e.getBody(),r=((e,t,n)=>{const o=Na.fromRangeStart(e);if(e.collapsed)return o;{const r=Na.fromRangeEnd(e);return n?ou(t,r).getOr(r):nu(t,o).getOr(o)}})(e.selection.getRng(),o,n);return((e,t,n,o)=>{const r=Mh(e,o),i=Y_(t,n,r);return Y_(t,n,r).bind(R(nw,e)).orThunk(()=>((e,t,n,o,r)=>{const i=Mh(e,r);return Jd(e,n,i).map(R(Mh,e)).fold(()=>o.map(J_),r=>Y_(t,n,r).map(R(ew,e,t,n,i,r)).filter(R(tw,o))).filter(X_)})(e,t,n,i,o))})(n,R(Ph,e),o,r).bind(n=>Fw(e,t,n))})(e,t,n).isSome(),Uw=(e,t,n)=>!!tc(t)&&((e,t)=>{const n=t.selection.getRng(),o=e?Na.fromRangeEnd(n):Na.fromRangeStart(n);return!!(e=>_(e.selection.getSel().modify))(t)&&(e&&Mr(o)?ow(!0,t.selection,o):!(e||!jr(o))&&ow(!1,t.selection,o))})(e,t),qw=R(Uw,!0),zw=R(Uw,!1),$w=(e,t,n)=>{if(tc(e)){const o=Pw(e,t).getOrThunk(()=>{const n=e.selection.getRng();return t?Na.fromRangeEnd(n):Na.fromRangeStart(n)});return Y_(R(Ph,e),e.getBody(),o).exists(t=>{const o=J_(t);return j_(n,o).exists(t=>(Mw(e,t),!0))})}return!1},Ww=(e,t)=>n=>j_(t,n).map(t=>()=>Mw(e,t)),Vw=(e,t,n,o)=>{const r=e.getBody(),i=R(Ph,e);e.undoManager.ignore(()=>{e.selection.setRng(((e,t)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n})(n,o)),Uh(e),Y_(i,r,Na.fromRangeStart(e.selection.getRng())).map(Z_).bind(Ww(e,t)).each(L)}),e.nodeChanged()},Kw=(e,t,n)=>{if(e.selection.isCollapsed()&&tc(e)){const o=Na.fromRangeStart(e.selection.getRng());return((e,t,n,o)=>{const r=((e,t)=>xd(t,e)||e)(e.getBody(),o.container()),i=R(Ph,e),s=Y_(i,r,o);return s.bind(e=>n?e.fold(N(M.some(Z_(e))),M.none,N(M.some(J_(e))),M.none):e.fold(M.none,N(M.some(J_(e))),M.none,N(M.some(Z_(e))))).map(Ww(e,t)).getOrThunk(()=>{const a=Zd(n,r,o),l=a.bind(e=>Y_(i,r,e));return Pt(s,l,()=>Ih(i,r,o).bind(t=>(e=>Pt(ru(e),iu(e),(t,n)=>{const o=Mh(!0,t),r=Mh(!1,n);return nu(e,o).forall(e=>e.isEqual(r))}).getOr(!0))(t)?M.some(()=>{Bh(e,n,gn(t))}):M.none())).getOrThunk(()=>l.bind(()=>a.map(r=>()=>{n?Vw(e,t,o,r):Vw(e,t,r,o)})))})})(e,t,n,o)}return M.none()},Xw=(e,t)=>{const n=gn(e.getBody()),o=gn(e.selection.getStart()),r=Yp(o,n);return Z(r,t).fold(N(r),e=>r.slice(0,e))},Yw=(e,t)=>{const n=R(ov,e);return te(t,e=>n(e)?[e.dom]:[])},Gw=e=>{const t=(e=>Xw(e,pr))(e);return Yw(e,t)},Qw=(e,t)=>{const n=e.selection.getStart(),o=((e,t)=>{const n=t.parentElement;return Jo(t)&&!g(n)&&e.dom.isEmpty(n)})(e,n)||rv(gn(n))?nv(n,t):((e,t)=>{const{caretContainer:n,caretPosition:o}=tv(t);return e.selection.getRng().insertNode(n.dom),o})(e,t);e.selection.setRng(o.toRange())},Jw=e=>Vo(e.startContainer),Zw=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const n=(e=>Xw(e,e=>pr(e)||(e=>In(e)>1)(e)))(e);return ce(n).bind(o=>{const r=Na.fromRangeStart(e.selection.getRng());return((e,t,n)=>Pt(ru(n),iu(n),(o,r)=>{const i=Mh(!0,o),s=Mh(!1,r),a=Mh(!1,t);return e?nu(n,a).exists(e=>e.isEqual(s)&&t.isEqual(i)):ou(n,a).exists(e=>e.isEqual(i)&&t.isEqual(s))}).getOr(!0))(t,r,o.dom)&&!rv(o)?M.some(()=>((e,t,n,o)=>{const r=Yw(t,o);if(0===r.length)Bh(t,e,n);else{const e=nv(n.dom,r);t.selection.setRng(e.toRange())}})(t,e,o,n)):M.none()})})(e,t):(e=>{if((e=>{const t=e.selection.getRng();return(e=>0===e.startOffset&&Jw(e))(t)&&((e,t)=>{const n=t.startContainer.parentElement;return!g(n)&&ov(e,gn(n))})(e,t)&&(e=>(e=>(e=>{const t=e.startContainer.parentNode,n=e.endContainer.parentNode;return!g(t)&&!g(n)&&t.isEqualNode(n)})(e)&&(e=>{const t=e.endContainer;return e.endOffset===(Vo(t)?t.length:t.childNodes.length)})(e))(e)||(e=>!e.endContainer.isEqualNode(e.commonAncestorContainer))(e))(t)})(e)){const t=Gw(e);return M.some(()=>{Uh(e),((e,t)=>{const n=re(t,Gw(e));n.length>0&&Qw(e,n)})(e,t)})}return M.none()})(e),ex=e=>((e=>{const t=e.selection.getRng();return t.collapsed&&(Jw(t)||e.dom.isEmpty(t.startContainer))&&!(e=>(e=>((e,t,n)=>Kn(e,e=>au(e.dom),n).isSome())(e,0,pr))(gn(e.selection.getStart())))(e)})(e)&&Qw(e,[]),!0),tx=(e,t,n)=>C(n)?M.some(()=>{e._selectionOverrides.hideFakeCaret(),Bh(e,t,gn(n))}):M.none(),nx=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const n=t?qp:zp,o=Bd(t?Md.Forwards:Md.Backwards,e.getBody(),e.selection.getRng());return n(o)?tx(e,t,o.getNode(!t)):M.from(Mh(t,o)).filter(e=>n(e)&&Id(o,e)).bind(n=>tx(e,t,n.getNode(!t)))})(e,t):((e,t)=>{const n=e.selection.getNode();return rr(n)?tx(e,t,n):M.none()})(e,t),ox=e=>Ge(null!=e?e:"").getOr(0),rx=(e,t)=>(e||"table"===Ht(t)?"margin":"padding")+("rtl"===ro(t,"direction")?"-right":"-left"),ix=e=>{const t=ax(e);return!e.mode.isReadOnly()&&(t.length>1||((e,t)=>ne(t,t=>{const n=rx(Fl(e),t),o=so(t,n).map(ox).getOr(0);return"false"!==e.dom.getContentEditable(t.dom)&&o>0}))(e,t))},sx=e=>br(e)||yr(e),ax=e=>X(yo(e.selection.getSelectedBlocks()),e=>!sx(e)&&!(e=>Sn(e).exists(sx))(e)&&Xn(e,e=>er(e.dom)||tr(e.dom)).exists(e=>er(e.dom))),lx=(e,t)=>{var n,o;const{dom:r}=e,i=Hl(e),s=null!==(o=null===(n=/[a-z%]+$/i.exec(i))||void 0===n?void 0:n[0])&&void 0!==o?o:"px",a=ox(i),l=Fl(e);W(ax(e),e=>{((e,t,n,o,r,i)=>{const s=rx(n,gn(i)),a=ox(e.getStyle(i,s));if("outdent"===t){const t=Math.max(0,a-o);e.setStyle(i,s,t?t+r:"")}else e.setStyle(i,s,a+o+r)})(r,t,l,a,s,e.dom)})},cx=e=>lx(e,"outdent"),dx=e=>{if(e.selection.isCollapsed()&&ix(e)){const t=e.dom,n=e.selection.getRng(),o=Na.fromRangeStart(n),r=t.getParent(n.startContainer,t.isBlock);if(null!==r&&eh(gn(r),o))return M.some(()=>cx(e))}return M.none()},ux=(e,t,n)=>ue([dx,N_,C_,(e,n)=>Kw(e,t,n),u_,hg,T_,nx,m_,Zw],t=>t(e,n)).filter(t=>e.selection.isEditable()),fx=e=>void 0===e.touches||1!==e.touches.length?M.none():M.some(e.touches[0]),mx=(e,t)=>xe(e,t.nodeName),px=(e,t)=>!!Vo(t)||!!Mo(t)&&!mx(e.getBlockElements(),t)&&!Cu(t)&&!yi(e,t),hx=(e,t)=>{if(Vo(t)){if(0===t.data.length)return!0;if(/^\s+$/.test(t.data)&&(!t.nextSibling||mx(e,t.nextSibling)))return!0}return!1},gx=e=>e.dom.create(yl(e),Cl(e)),vx=e=>{const t=e.dom,n=e.selection,o=e.schema,r=o.getBlockElements(),i=n.getStart(),s=e.getBody();let a,l,c=!1;const d=yl(e);if(!i||!Mo(i))return;const u=s.nodeName.toLowerCase();if(!o.isValidChild(u,d.toLowerCase())||((e,t,n)=>z(Xp(gn(n),gn(t)),t=>mx(e,t.dom)))(r,s,i))return;const f=n.getRng(),{startContainer:m,startOffset:p,endContainer:h,endOffset:g}=f,v=rp(e);let b=s.firstChild;for(;b;)if(Mo(b)&&hi(o,b),px(o,b)){if(hx(r,b)){l=b,b=b.nextSibling,t.remove(l);continue}a||(a=gx(e),s.insertBefore(a,b),c=!0),l=b,b=b.nextSibling,a.appendChild(l)}else a=null,b=b.nextSibling;c&&v&&(f.setStart(m,p),f.setEnd(h,g),n.setRng(f),e.nodeChanged())},bx=(e,t,n)=>{const o=gn(gx(e)),r=Sr();mo(o,r),n(t,o);const i=document.createRange();return i.setStartBefore(r.dom),i.setEndBefore(r.dom),i},yx=e=>t=>-1!==(" "+t.attr("class")+" ").indexOf(e),Cx=(e,t,n)=>function(o){const r=arguments,i=r[r.length-2],s=i>0?t.charAt(i-1):"";if('"'===s)return o;if(">"===s){const e=t.lastIndexOf("<",i);if(-1!==e&&-1!==t.substring(e,i).indexOf('contenteditable="false"'))return o}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(r[0])+'">'+e.dom.encode("string"==typeof r[1]?r[1]:r[0])+"</span>"},_x=(e,t)=>{t.hasAttribute("data-mce-caret")&&(Ur(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},wx=(e,t)=>{const n=(e=>Gn(gn(e.getBody()),"*[data-mce-caret]").map(e=>e.dom).getOrNull())(e);if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void _x(e,n)):void(Ir(n)&&(_x(e,n),e.undoManager.add()))},xx=tr,Ex=(e,t,n)=>{const o=Xd(e.getBody()),r=R(Pd,1===t?o.next:o.prev);if(n.collapsed){const o=e.dom.getParent(n.startContainer,"PRE");if(!o)return;if(!r(Na.fromRangeStart(n))){const n=gn((e=>{const t=e.dom.create(yl(e));return t.innerHTML='<br data-mce-bogus="1">',t})(e));1===t?uo(gn(o),n):co(gn(o),n),e.selection.select(n.dom,!0),e.selection.collapse()}}},Sx=(e,t)=>((e,t)=>{const n=t?Md.Forwards:Md.Backwards,o=e.selection.getRng();return((e,t,n)=>Bw(t,e,n,Vp,Kp,xx))(n,e,o).orThunk(()=>(Ex(e,n,o),M.none()))})(e,t).exists(t=>(Ow(e,t),!0)),kx=(e,t)=>((e,t)=>{const n=t?1:-1,o=e.selection.getRng();return((e,t,n)=>Lw(t,e,n,e=>Vp(e)||$p(e),e=>Kp(e)||Wp(e),xx))(n,e,o).orThunk(()=>(Ex(e,n,o),M.none()))})(e,t).exists(t=>(Ow(e,t),!0)),Nx=(e,t)=>Iw(e,t,t?Kp:Vp),Tx=(e,t)=>__(e,!t).map(n=>{const o=n.toRange(),r=e.selection.getRng();return t?o.setStart(r.startContainer,r.startOffset):o.setEnd(r.endContainer,r.endOffset),o}).exists(t=>(Ow(e,t),!0)),Ax=e=>q(["figcaption"],Ht(e)),Rx=(e,t)=>!!e.selection.isCollapsed()&&((e,t)=>{const n=gn(e.getBody()),o=Na.fromRangeStart(e.selection.getRng());return((e,t)=>{const n=R(Cn,t);return Xn(gn(e.container()),pr,n).filter(Ax)})(o,n).exists(()=>{if(((e,t,n)=>t?((e,t)=>mw(e,t).breakAt.isNone())(e.dom,n):((e,t)=>fw(e,t).breakAt.isNone())(e.dom,n))(n,t,o)){const o=bx(e,n,t?mo:fo);return e.selection.setRng(o),!0}return!1})})(e,t),Ox={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},Dx=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,Bx=(e,...t)=>()=>e.apply(null,t),Lx=(e,t)=>J(((e,t)=>te((e=>$(e,e=>({...Ox,...e})))(e),e=>Dx(e,t)?[e]:[]))(e,t),e=>e.action()),Px=(e,t)=>ue(((e,t)=>te((e=>$(e,e=>({...Ox,...e})))(e),e=>Dx(e,t)?[e]:[]))(e,t),e=>e.action()),Ix=(e,t)=>{const n=t?Md.Forwards:Md.Backwards,o=e.selection.getRng();return Bw(e,n,o,qp,zp,rr).exists(t=>(Ow(e,t),!0))},Mx=(e,t)=>{const n=t?1:-1,o=e.selection.getRng();return Lw(e,n,o,qp,zp,rr).exists(t=>(Ow(e,t),!0))},jx=(e,t)=>Iw(e,t,t?zp:qp),Fx=Ja([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Hx={...Fx,none:e=>Fx.none(e)},Ux=(e,t,n)=>te(Dn(e),e=>bn(e,t)?n(e)?[e]:[]:Ux(e,t,n)),qx=(e,t)=>Qn(e,"table",t),zx=(e,t,n,o,r=I)=>{const i=1===o;if(!i&&n<=0)return Hx.first(e[0]);if(i&&n>=e.length-1)return Hx.last(e[e.length-1]);{const i=n+o,s=e[i];return r(s)?Hx.middle(t,s):zx(e,t,i,o,r)}},$x=(e,t)=>qx(e,t).bind(t=>{const n=Ux(t,"th,td",I);return Z(n,t=>Cn(e,t)).map(e=>({index:e,all:n}))}),Wx=(e,t,n,o,r)=>{const i=Do(gn(n),"td,th,caption").map(e=>e.dom);return((e,t,n)=>G(e,(e,o)=>e.fold(()=>M.some(o),e=>{const r=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n)),i=Math.sqrt(Math.abs(o.x-t)+Math.abs(o.y-n));return M.some(i<r?o:e)}),M.none()))(X(((e,t)=>te(t,t=>{const n=((e,t)=>({left:e.left- -1,top:e.top- -1,right:e.right+-2,bottom:e.bottom+-2,width:e.width+-1,height:e.height+-1}))(ea(t.getBoundingClientRect()));return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]}))(e,i),e=>t(e,r)),o,r).map(e=>e.cell)},Vx=R(Wx,e=>e.bottom,(e,t)=>e.y<t),Kx=R(Wx,e=>e.top,(e,t)=>e.y>t),Xx=(e,t,n)=>{const o=e(t,n);return(e=>e.breakType===rw.Wrap&&0===e.positions.length)(o)||!Jo(n.getNode())&&(e=>e.breakType===rw.Br&&1===e.positions.length)(o)?!((e,t,n)=>n.breakAt.exists(n=>e(t,n).breakAt.isSome()))(e,t,o):o.breakAt.isNone()},Yx=R(Xx,fw),Gx=R(Xx,mw),Qx=(e,t,n,o)=>{const r=e.selection.getRng(),i=t?1:-1;return!(!ad()||!((e,t,n)=>{const o=Na.fromRangeStart(t);return tu(!e,n).exists(e=>e.isEqual(o))})(t,r,n)||(p_(i,e,n,!t,!1).each(t=>{Ow(e,t)}),0))},Jx=(e,t,n)=>{const o=((e,t)=>{const n=t.getNode(e);return zo(n)?M.some(n):M.none()})(!!t,n),r=!1===t;o.fold(()=>Ow(e,n.toRange()),o=>tu(r,e.getBody()).filter(e=>e.isEqual(n)).fold(()=>Ow(e,n.toRange()),n=>((e,t,n)=>{t.undoManager.transact(()=>{const o=e?uo:co,r=bx(t,gn(n),o);Ow(t,r)})})(t,e,o)))},Zx=(e,t,n,o)=>{const r=e.selection.getRng(),i=Na.fromRangeStart(r),s=e.getBody();if(!t&&Yx(o,i)){const o=((e,t,n)=>((e,t)=>le(t.getClientRects()).bind(t=>Vx(e,t.left,t.top)).bind(e=>{return uw(iu(n=e).map(e=>fw(n,e).positions.concat(e)).getOr([]),t);var n}))(t,n).orThunk(()=>le(n.getClientRects()).bind(n=>dw(pw(e,Na.before(t)),n.left))).getOr(Na.before(t)))(s,n,i);return Jx(e,t,o),!0}if(t&&Gx(o,i)){const o=((e,t,n)=>((e,t)=>ce(t.getClientRects()).bind(t=>Kx(e,t.left,t.top)).bind(e=>{return uw(ru(n=e).map(e=>[e].concat(mw(n,e).positions)).getOr([]),t);var n}))(t,n).orThunk(()=>le(n.getClientRects()).bind(n=>dw(hw(e,Na.after(t)),n.left))).getOr(Na.after(t)))(s,n,i);return Jx(e,t,o),!0}return!1},eE=(e,t,n)=>M.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(o=>M.from(e.dom.getParent(o,"table")).map(r=>n(e,t,r,o))).getOr(!1),tE=(e,t)=>eE(e,t,Qx),nE=(e,t)=>eE(e,t,Zx),oE=(e,t,n)=>n.fold(M.none,M.none,(e,t)=>{return(n=t,((e,t)=>{const n=e=>{for(let o=0;o<e.childNodes.length;o++){const r=gn(e.childNodes[o]);if(t(r))return M.some(r);const i=n(e.childNodes[o]);if(i.isSome())return i}return M.none()};return n(e.dom)})(n,fp)).map(e=>(e=>(e=>{const t=Zf.getWin(e).dom,n=(e,n,o,r)=>Wf(t,e,n,o,r),o=(e=>e.match({domRange:e=>{const t=gn(e.startContainer),n=gn(e.endContainer);return nm(t,e.startOffset,n,e.endOffset)},relative:tm,exact:nm}))(e);return((e,t)=>((e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter(e=>!1===e.collapsed).map(e=>Vf.rtl(gn(e.endContainer),e.endOffset,gn(e.startContainer),e.startOffset)).getOrThunk(()=>Kf(0,Vf.ltr,n)):Kf(0,Vf.ltr,n)})(0,((e,t)=>t.match({domRange:e=>({ltr:N(e),rtl:M.none}),relative:(t,n)=>({ltr:Le(()=>$f(e,t,n)),rtl:Le(()=>M.some($f(e,n,t)))}),exact:(t,n,o,r)=>({ltr:Le(()=>Wf(e,t,n,o,r)),rtl:Le(()=>M.some(Wf(e,o,r,t,n)))})}))(e,t)))(t,o).match({ltr:n,rtl:n})})(Zf.exact(e,0,e,0)))(e));var n},n=>(e.execCommand("mceTableInsertRowAfter"),rE(e,t,n))),rE=(e,t,n)=>{return oE(e,t,(r=Jn,$x(o=n,void 0).fold(()=>Hx.none(o),e=>zx(e.all,o,e.index,1,r))));var o,r},iE=(e,t,n)=>{return oE(e,t,(r=Jn,$x(o=n,void 0).fold(()=>Hx.none(),e=>zx(e.all,o,e.index,-1,r))));var o,r},sE=(e,t)=>{const n=["table","li","dl"],o=gn(e.getBody()),r=e=>{const t=Ht(e);return Cn(e,o)||q(n,t)},i=e.selection.getRng();return((e,t)=>((e,t,n=P)=>n(t)?M.none():q(e,Ht(t))?M.some(t):Yn(t,e.join(","),e=>bn(e,"table")||n(e)))(["td","th"],e,t))(gn(t?i.endContainer:i.startContainer),r).map(n=>(qx(n,r).each(t=>{e.model.table.clearSelectedCells(t.dom)}),e.selection.collapse(!t),(t?rE:iE)(e,r,n).each(t=>{e.selection.setRng(t)}),!0)).getOr(!1)},aE=(e,t)=>({container:e,offset:t}),lE=ws.DOM,cE=e=>t=>e===t?-1:0,dE=(e,t,n)=>{if(Vo(e)&&t>=0)return M.some(aE(e,t));{const o=Js(lE);return M.from(o.backwards(e,t,cE(e),n)).map(e=>aE(e.container,e.container.data.length))}},uE=(e,t,n)=>{if(!Vo(e))return M.none();if(t>=0&&t<=e.data.length)return M.some(aE(e,t));{const o=Js(lE);return M.from(o.backwards(e,t,cE(e),n)).bind(e=>uE(e.container,t+e.container.data.length,n))}},fE=(e,t,n)=>{if(!Vo(e))return M.none();const o=e.data;if(t<=o.length)return M.some(aE(e,t));{const r=Js(lE);return M.from(r.forwards(e,t,cE(e),n)).bind(e=>fE(e.container,t-o.length,n))}},mE=(e,t,n,o,r)=>{const i=Js(e,(e=>t=>e.isBlock(t)||q(["BR","IMG","HR","INPUT"],t.nodeName)||"false"===e.getContentEditable(t))(e));return M.from(i.backwards(t,n,o,r))},pE=e=>Rr(e.toString().replace(/\u00A0/g," ")),hE=e=>""!==e&&-1!==" Â \f\n\r\t\v".indexOf(e),gE=(e,t)=>e.substring(t.length),vE=(e,t,n,o=0)=>{return(r=gn(t.startContainer),Qn(r,mp)).fold(()=>((e,t,n,o=0)=>{if(!(r=t).collapsed||!Vo(r.startContainer))return M.none();var r;const i={text:"",offset:0},s=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return mE(e,t.startContainer,t.startOffset,(e,t,o)=>(i.text=o+i.text,i.offset+=t,((e,t,n)=>{let o;const r=n.charAt(0);for(o=t-1;o>=0;o--){const i=e.charAt(o);if(hE(i))return M.none();if(r===i&&Ue(e,n,o,t))break}return M.some(o)})(i.text,i.offset,n).getOr(t)),s).bind(e=>{const r=t.cloneRange();if(r.setStart(e.container,e.offset),r.setEnd(t.endContainer,t.endOffset),r.collapsed)return M.none();const i=pE(r);return 0!==i.lastIndexOf(n)||gE(i,n).length<o?M.none():M.some({text:gE(i,n),range:r,trigger:n})})})(e,t,n,o),t=>{const o=e.createRng();o.selectNode(t.dom);const r=pE(o);return M.some({range:o,text:gE(r,n),trigger:n})});var r},bE=e=>{if((e=>3===e.nodeType)(e))return aE(e,e.data.length);{const t=e.childNodes;return t.length>0?bE(t[t.length-1]):aE(e,t.length)}},yE=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?yE(n[t],0):n.length>0&&(e=>1===e.nodeType)(e)&&n.length===t?bE(n[n.length-1]):aE(e,t)},CE=(e,t,n,o={})=>{var r;const i=t(),s=null!==(r=e.selection.getRng().startContainer.nodeValue)&&void 0!==r?r:"",a=X(i.lookupByTrigger(n.trigger),t=>n.text.length>=t.minChars&&t.matches.getOrThunk(()=>(e=>t=>{const n=yE(t.startContainer,t.startOffset);return!((e,t)=>{var n;const o=null!==(n=e.getParent(t.container,e.isBlock))&&void 0!==n?n:e.getRoot();return mE(e,t.container,t.offset,(e,t)=>0===t?-1:t,o).filter(e=>{const t=e.container.data.charAt(e.offset-1);return!hE(t)}).isSome()})(e,n)})(e.dom))(n.range,s,n.text));if(0===a.length)return M.none();const l=Promise.all($(a,e=>e.fetch(n.text,e.maxResults,o).then(t=>({matchText:n.text,items:t,columns:e.columns,onAction:e.onAction,highlightOn:e.highlightOn}))));return M.some({lookupData:l,context:n})};var _E;!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(_E||(_E={}));const wE=(e,t,n)=>e.stype===_E.Error?t(e.serror):n(e.svalue),xE=e=>({stype:_E.Value,svalue:e}),EE=e=>({stype:_E.Error,serror:e}),SE=wE,kE=e=>m(e)&&fe(e).length>100?" removed due to size":JSON.stringify(e,null,2),NE=(e,t)=>EE([{path:e,getErrorInfo:t}]),TE=e=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");const n={};for(let o=0;o<t.length;o++){const r=t[o];for(const t in r)xe(r,t)&&(n[t]=e(n[t],r[t]))}return n},AE=TE((e,t)=>p(e)&&p(t)?AE(e,t):t),RE=(TE((e,t)=>t),e=>({tag:"defaultedThunk",process:N(e)})),OE=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},DE=e=>({extract:(t,n)=>{return(o=e(n)).stype===_E.Error?(e=>((e,t)=>NE(e,N(t)))(t,e))(o.serror):o;var o},toString:N("val")}),BE=DE(xE),LE=(e,t,n,o)=>o(we(e,t).getOrThunk(()=>n(e))),PE=(e,t,n,o,r)=>{const i=e=>r.extract(t.concat([o]),e),s=e=>e.fold(()=>xE(M.none()),e=>{return(n=r.extract(t.concat([o]),e)).stype===_E.Value?{stype:_E.Value,svalue:(0,M.some)(n.svalue)}:n;var n});switch(e.tag){case"required":return((e,t,n,o)=>we(t,n).fold(()=>((e,t,n)=>NE(e,()=>'Could not find valid *required* value for "'+t+'" in '+kE(n)))(e,n,t),o))(t,n,o,i);case"defaultedThunk":return LE(n,o,e.process,i);case"option":return((e,t,n)=>n(we(e,t)))(n,o,s);case"defaultedOptionThunk":return((e,t,n,o)=>o(we(e,t).map(t=>!0===t?n(e):t)))(n,o,e.process,s);case"mergeWithThunk":return LE(n,o,N({}),t=>{const o=AE(e.process(n),t);return i(o)})}},IE=e=>({extract:(t,n)=>((e,t,n)=>{const o={},r=[];for(const i of n)OE(i,(n,i,s,a)=>{const l=PE(s,e,t,n,a);SE(l,e=>{r.push(...e)},e=>{o[i]=e})},(e,n)=>{o[e]=n(t)});return r.length>0?EE(r):xE(o)})(t,n,e),toString:()=>"obj{\n"+$(e,e=>OE(e,(e,t,n,o)=>e+" -> "+o.toString(),(e,t)=>"state("+e+")")).join("\n")+"}"}),ME=e=>({extract:(t,n)=>(e=>{const t=(e=>{const t=[],n=[];return W(e,e=>{wE(e,e=>n.push(e),e=>t.push(e))}),{values:t,errors:n}})(e);return t.errors.length>0?(n=t.errors,S(EE,ee)(n)):xE(t.values);var n})($(n,(n,o)=>e.extract(t.concat(["["+o+"]"]),n))),toString:()=>"array("+e.toString()+")"}),jE=(e,t)=>((e,t)=>({extract:(n,o)=>we(o,e).fold(()=>((e,t)=>NE(e,()=>'Choice schema did not contain choice key: "'+t+'"'))(n,e),e=>((e,t,n,o)=>we(n,o).fold(()=>((e,t,n)=>NE(e,()=>'The chosen schema: "'+n+'" did not exist in branches: '+kE(t)))(e,n,o),n=>n.extract(e.concat(["branch: "+o]),t)))(n,o,t,e)),toString:()=>"chooseOn("+e+"). Possible values: "+fe(t)}))(e,he(t,IE)),FE=N(BE),HE=(e,t)=>DE(n=>{const o=typeof n;return e(n)?xE(n):EE(`Expected type: ${t} but got: ${o}`)}),UE=HE(w,"number"),qE=HE(f,"string"),zE=HE(v,"boolean"),$E=HE(_,"function"),WE=(e,t,n,o)=>({tag:"field",key:e,newKey:t,presence:n,prop:o}),VE=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),KE=(e,t)=>WE(e,e,{tag:"required",process:{}},t),XE=e=>KE(e,qE),YE=e=>KE(e,$E),GE=(e,t)=>WE(e,e,{tag:"option",process:{}},t),QE=e=>GE(e,qE),JE=(e,t,n)=>WE(e,e,RE(t),n),ZE=(e,t)=>JE(e,t,UE),eS=(e,t,n)=>JE(e,t,(e=>{return t=t=>q(e,t)?Qa.value(t):Qa.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`),DE(e=>t(e).fold(EE,xE));var t})(n)),tS=(e,t)=>JE(e,t,zE),nS=(e,t)=>JE(e,t,$E),oS=XE("type"),rS=YE("fetch"),iS=YE("onAction"),sS=nS("onSetup",()=>E),aS=QE("text"),lS=QE("icon"),cS=QE("tooltip"),dS=QE("label"),uS=tS("active",!1),fS=tS("enabled",!0),mS=tS("primary",!1),pS=e=>((e,t)=>JE("type",t,qE))(0,e),hS=IE([oS,XE("trigger"),ZE("minChars",1),((e,t)=>WE(e,e,RE(1),FE()))("columns"),ZE("maxResults",10),GE("matches",$E),rS,iS,(gS=qE,JE("highlightOn",[],ME(gS)))]);var gS;const vS=[fS,cS,lS,aS,sS],bS=[uS].concat(vS),yS=[nS("predicate",P),eS("scope","node",["node","editor"]),eS("position","selection",["node","selection","line"])],CS=vS.concat([pS("contextformbutton"),mS,iS,VE("original",T)]),_S=bS.concat([pS("contextformbutton"),mS,iS,VE("original",T)]),wS=vS.concat([pS("contextformbutton")]),xS=bS.concat([pS("contextformtogglebutton")]),ES=jE("type",{contextformbutton:CS,contextformtogglebutton:_S});IE([pS("contextform"),nS("initValue",N("")),dS,((e,t)=>WE(e,e,{tag:"required",process:{}},ME(t)))("commands",ES),GE("launch",jE("type",{contextformbutton:wS,contextformtogglebutton:xS}))].concat(yS));const SS=e=>(t,n,o={})=>{const r=t.getBody(),i={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:r,currentTarget:r,eventPhase:Event.AT_TARGET,originalTarget:r,explicitOriginalTarget:r,isTrusted:!1,srcElement:r,cancelable:!1,preventDefault:E,inputType:n},s=is(new InputEvent(e));return t.dispatch(e,{...s,...i,...o})},kS=SS("input"),NS=SS("beforeinput"),TS=(e,t)=>{const n=e.dom,o=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const e=(e=>{for(;e;){if(Mo(e)||Vo(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null})(t.firstChild);e&&/^(UL|OL|DL)$/.test(e.nodeName)&&t.insertBefore(n.doc.createTextNode(ar),t.firstChild)}const r=n.createRng();if(t.normalize(),t.hasChildNodes()){const e=new Lo(t,t);let n,i=t;for(;n=e.current();){if(Vo(n)){r.setStart(n,0),r.setEnd(n,0);break}if(o[n.nodeName.toLowerCase()]){r.setStartBefore(n),r.setEndBefore(n);break}i=n,n=e.next()}n||(r.setStart(i,0),r.setEnd(i,0))}else Jo(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)):(r.setStart(t,0),r.setEnd(t,0));e.selection.setRng(r),Pm(e,r)},AS=(e,t)=>{const n=e.getRoot();let o,r=t;for(;r!==n&&r&&"false"!==e.getContentEditable(r);)"true"===e.getContentEditable(r)&&(o=r),r=r.parentNode;return r!==n?o:n},RS=e=>M.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),OS=(e,t)=>{const n=null==e?void 0:e.parentNode;return C(n)&&n.nodeName===t},DS=e=>C(e)&&/^(OL|UL|LI)$/.test(e.nodeName),BS=e=>{const t=e.parentNode;return C(n=t)&&/^(LI|DT|DD)$/.test(n.nodeName)?t:e;var n},LS=(e,t,n)=>{let o=e[n?"firstChild":"lastChild"];for(;o&&!Mo(o);)o=o[n?"nextSibling":"previousSibling"];return o===t},PS=(e,t)=>t&&"A"===t.nodeName&&e.isEmpty(t),IS=e=>{e.innerHTML='<br data-mce-bogus="1">'},MS=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,jS=(e,t)=>C(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&"false"!==e.getContentEditable(t),FS=(e,t,n)=>Vo(t)?e?1===n&&t.data.charAt(n-1)===Tr?0:n:n===t.data.length-1&&t.data.charAt(n)===Tr?t.data.length:n:n,HS=(e,t)=>{yl(e).toLowerCase()===t.tagName.toLowerCase()&&((e,t,n)=>{const o=e.dom;M.from(n.style).map(o.parseStyle).each(e=>{const n={...ao(gn(t)),...e};o.setStyles(t,n)});const r=M.from(n.class).map(e=>e.split(/\s+/)),i=M.from(t.className).map(e=>X(e.split(/\s+/),e=>""!==e));Pt(r,i,(e,n)=>{const r=X(n,t=>!q(e,t)),i=[...e,...r];o.setAttrib(t,"class",i.join(" "))});const s=["style","class"],a=ye(n,(e,t)=>!q(s,t));o.setAttribs(t,a)})(e,t,Cl(e))},US={insert:(e,t)=>{let n,o,r,i,s=!1;const a=e.dom,l=e.schema,c=l.getNonEmptyElements(),d=e.selection.getRng(),u=yl(e),m=t=>{let o=n;const i=l.getTextInlineElements();let s;s=t||"TABLE"===r||"HR"===r?a.create(t||u):_.cloneNode(!1);let c=s;if(!1===El(e))a.setAttrib(s,"style",null),a.setAttrib(s,"class",null);else do{if(i[o.nodeName]){if(au(o)||Cu(o))continue;const e=o.cloneNode(!1);a.setAttrib(e,"id",""),s.hasChildNodes()?(e.appendChild(s.firstChild),s.appendChild(e)):(c=e,s.appendChild(e))}}while((o=o.parentNode)&&o!==b);return HS(e,s),IS(c),s},p=e=>{const t=FS(e,n,o);if(Vo(n)&&(e?t>0:t<n.data.length))return!1;if(n.parentNode===_&&s&&!e)return!0;if(e&&Mo(n)&&n===_.firstChild)return!0;if(MS(n,"TABLE")||MS(n,"HR"))return s&&!e||!s&&e;const r=new Lo(n,_);let i;for(Vo(n)&&(e&&0===t?r.prev():e||t!==n.data.length||r.next());i=r.current();){if(Mo(i)){if(!i.getAttribute("data-mce-bogus")){const e=i.nodeName.toLowerCase();if(c[e]&&"br"!==e)return!1}}else if(Vo(i)&&!ti(i.data))return!1;e?r.prev():r.next()}return!0},h=()=>{let t;return t=/^(H[1-6]|PRE|FIGURE)$/.test(r)&&"HGROUP"!==w?m(u):m(),((e,t)=>{const n=Sl(e);return!y(t)&&(f(n)?q(Bt.explode(n),t.nodeName.toLowerCase()):n)})(e,i)&&jS(a,i)&&a.isEmpty(_)?t=a.split(i,_):a.insertAfter(t,_),TS(e,t),t};fm(a,d).each(e=>{d.setStart(e.startContainer,e.startOffset),d.setEnd(e.endContainer,e.endOffset)}),n=d.startContainer,o=d.startOffset;const g=!(!t||!t.shiftKey),v=!(!t||!t.ctrlKey);Mo(n)&&n.hasChildNodes()&&(s=o>n.childNodes.length-1,n=n.childNodes[Math.min(o,n.childNodes.length-1)]||n,o=s&&Vo(n)?n.data.length:0);const b=AS(a,n);if(!b||((e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return null!==n&&"false"===e.dom.getContentEditableParent(n)})(e,n))return;g||(n=((e,t,n,o,r)=>{var i,s;const a=e.dom,l=null!==(i=AS(a,o))&&void 0!==i?i:a.getRoot();let c=a.getParent(o,a.isBlock);if(!c||!jS(a,c)){if(c=c||l,!c.hasChildNodes()){const o=a.create(t);return HS(e,o),c.appendChild(o),n.setStart(o,0),n.setEnd(o,0),o}let i,d=o;for(;d&&d.parentNode!==c;)d=d.parentNode;for(;d&&!a.isBlock(d);)i=d,d=d.previousSibling;const u=null===(s=null==i?void 0:i.parentElement)||void 0===s?void 0:s.nodeName;if(i&&u&&e.schema.isValidChild(u,t.toLowerCase())){const s=i.parentNode,l=a.create(t);for(HS(e,l),s.insertBefore(l,i),d=i;d&&!a.isBlock(d);){const e=d.nextSibling;l.appendChild(d),d=e}n.setStart(o,r),n.setEnd(o,r)}}return o})(e,u,d,n,o));let _=a.getParent(n,a.isBlock)||a.getRoot();i=C(null==_?void 0:_.parentNode)?a.getParent(_.parentNode,a.isBlock):null,r=_?_.nodeName.toUpperCase():"";const w=i?i.nodeName.toUpperCase():"";if("LI"!==w||v||(_=i,i=i.parentNode,r=w),/^(LI|DT|DD)$/.test(r)&&Mo(i)&&a.isEmpty(_))return void((e,t,n,o,r)=>{const i=e.dom,s=e.selection.getRng(),a=n.parentNode;if(n===e.getBody()||!a)return;var l;DS(l=n)&&DS(l.parentNode)&&(r="LI");let c=t(r);if(LS(n,o,!0)&&LS(n,o,!1))if(OS(n,"LI")){const e=BS(n);i.insertAfter(c,e),(e=>{var t;return(null===(t=e.parentNode)||void 0===t?void 0:t.firstChild)===e})(n)?i.remove(e):i.remove(n)}else i.replace(c,n);else if(LS(n,o,!0))OS(n,"LI")?(i.insertAfter(c,BS(n)),c.appendChild(i.doc.createTextNode(" ")),c.appendChild(n)):a.insertBefore(c,n),i.remove(o);else if(LS(n,o,!1))i.insertAfter(c,BS(n)),i.remove(o);else{n=BS(n);const e=s.cloneRange();e.setStartAfter(o),e.setEndAfter(n);const t=e.extractContents();"LI"===r&&((e,t)=>e.firstChild&&"LI"===e.firstChild.nodeName)(t)?(c=t.firstChild,i.insertAfter(t,n)):(i.insertAfter(t,n),i.insertAfter(c,n)),i.remove(o)}TS(e,c)})(e,m,i,_,u);if(_===e.getBody()||!jS(a,_))return;const x=_.parentNode;let E;if(Br(_))E=Ur(_),a.isEmpty(_)&&IS(_),HS(e,E),TS(e,E);else if(p(!1))E=h();else if(p(!0)&&x)E=x.insertBefore(m(),_),TS(e,MS(_,"HR")?E:_);else{const t=(e=>{const t=e.cloneRange();return t.setStart(e.startContainer,FS(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,FS(!1,e.endContainer,e.endOffset)),t})(d).cloneRange();t.setEndAfter(_);const n=t.extractContents();(e=>{W(Oo(gn(e),$t),e=>{const t=e.dom;t.nodeValue=Rr(t.data)})})(n),(e=>{let t=e;do{Vo(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild}while(t)})(n),E=n.firstChild,a.insertAfter(n,_),((e,t,n)=>{var o;const r=[];if(!n)return;let i=n;for(;i=i.firstChild;){if(e.isBlock(i))return;Mo(i)&&!t[i.nodeName.toLowerCase()]&&r.push(i)}let s=r.length;for(;s--;)i=r[s],(!i.hasChildNodes()||i.firstChild===i.lastChild&&""===(null===(o=i.firstChild)||void 0===o?void 0:o.nodeValue)||PS(e,i))&&e.remove(i)})(a,c,E),((e,t)=>{t.normalize();const n=t.lastChild;(!n||Mo(n)&&/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")})(a,_),a.isEmpty(_)&&IS(_),E.normalize(),a.isEmpty(E)?(a.remove(E),h()):(HS(e,E),TS(e,E))}a.setAttrib(E,"id",""),e.dispatch("NewBlock",{newBlock:E})},fakeEventName:"insertParagraph"},qS=(e,t,n)=>{const o=e.dom.createRng();n?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)),e.selection.setRng(o),Pm(e,o)},zS=(e,t)=>{const n=pn("br");co(gn(t),n),e.undoManager.add()},$S=(e,t)=>{WS(e.getBody(),t)||uo(gn(t),pn("br"));const n=pn("br");uo(gn(t),n),qS(e,n.dom,!1),e.undoManager.add()},WS=(e,t)=>{return n=Na.after(t),!!Jo(n.getNode())||nu(e,Na.after(t)).map(e=>Jo(e.getNode())).getOr(!1);var n},VS=e=>e&&"A"===e.nodeName&&"href"in e,KS=e=>e.fold(P,VS,VS,P),XS=(e,t)=>{t.fold(E,R(zS,e),R($S,e),E)},YS={insert:(e,t)=>{const n=(e=>{const t=R(Ph,e),n=Na.fromRangeStart(e.selection.getRng());return Y_(t,e.getBody(),n).filter(KS)})(e);n.isSome()?n.each(R(XS,e)):((e,t)=>{const n=e.dom,o=e.selection.getRng();let r,i=!1;fm(n,o).each(e=>{o.setStart(e.startContainer,e.startOffset),o.setEnd(e.endContainer,e.endOffset)});let s=o.startOffset,a=o.startContainer;if(Mo(a)&&a.hasChildNodes()){const e=s>a.childNodes.length-1;a=a.childNodes[Math.min(s,a.childNodes.length-1)]||a,s=e&&Vo(a)?a.data.length:0}let l=n.getParent(a,n.isBlock);const c=l&&l.parentNode?n.getParent(l.parentNode,n.isBlock):null;"LI"!==(c?c.nodeName.toUpperCase():"")||!(!t||!t.ctrlKey)||(l=c),Vo(a)&&s>=a.data.length&&(((e,t,n)=>{const o=new Lo(t,n);let r;const i=e.getNonEmptyElements();for(;r=o.next();)if(i[r.nodeName.toLowerCase()]||Vo(r)&&r.length>0)return!0;return!1})(e.schema,a,l||n.getRoot())||(r=n.create("br"),o.insertNode(r),o.setStartAfter(r),o.setEndAfter(r),i=!0)),r=n.create("br"),Aa(n,o,r),qS(e,r,i),e.undoManager.add()})(e,t)},fakeEventName:"insertLineBreak"},GS=(e,t)=>RS(e).filter(e=>t.length>0&&bn(gn(e),t)).isSome(),QS=Ja([{br:[]},{block:[]},{none:[]}]),JS=(e,t)=>(e=>GS(e,xl(e)))(e),ZS=e=>(t,n)=>(e=>RS(e).filter(e=>yr(gn(e))).isSome())(t)===e,ek=(e,t)=>(n,o)=>(e=>RS(e).fold(N(""),e=>e.nodeName.toUpperCase()))(n)===e.toUpperCase()===t,tk=e=>{const t=AS(e.dom,e.selection.getStart());return y(t)},nk=e=>ek("pre",e),ok=e=>(t,n)=>bl(t)===e,rk=(e,t)=>(e=>GS(e,wl(e)))(e),ik=(e,t)=>t,sk=e=>{const t=yl(e),n=AS(e.dom,e.selection.getStart());return C(n)&&e.schema.isValidChild(n.nodeName,t)},ak=(e,t)=>(n,o)=>G(e,(e,t)=>e&&t(n,o),!0)?M.some(t):M.none(),lk=(e,t,n)=>{t.selection.isCollapsed()||(e=>{e.execCommand("delete")})(t),C(n)&&NS(t,e.fakeEventName).isDefaultPrevented()||(e.insert(t,n),C(n)&&kS(t,e.fakeEventName))},ck=(e,t)=>{const n=()=>lk(YS,e,t),o=()=>lk(US,e,t),r=((e,t)=>F_([ak([JS],QS.none()),ak([nk(!0),tk],QS.none()),ak([ek("summary",!0)],QS.br()),ak([nk(!0),ok(!1),ik],QS.br()),ak([nk(!0),ok(!1)],QS.block()),ak([nk(!0),ok(!0),ik],QS.block()),ak([nk(!0),ok(!0)],QS.br()),ak([ZS(!0),ik],QS.br()),ak([ZS(!0)],QS.block()),ak([rk],QS.br()),ak([ik],QS.br()),ak([sk],QS.block())],[e,!(!t||!t.shiftKey)]).getOr(QS.none()))(e,t);switch(_l(e)){case"linebreak":r.fold(n,n,E);break;case"block":r.fold(o,o,E);break;case"invert":r.fold(o,n,E);break;default:r.fold(n,o,E)}},dk=wt(),uk=e=>e.stopImmediatePropagation(),fk=e=>e.keyCode===jf.PAGE_UP||e.keyCode===jf.PAGE_DOWN,mk=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",uk,!0):!n&&e.get()&&t.off("NodeChange",uk),e.set(n)},pk=(e,t)=>{const n=t.container(),o=t.offset();return Vo(n)?(n.insertData(o,e),M.some(Na(n,o+e.length))):Ld(t).map(n=>{const o=hn(e);return t.isAtEnd()?uo(n,o):co(n,o),Na(o.dom,e.length)})},hk=R(pk,ar),gk=R(pk," "),vk=e=>{const t=Na.fromRangeStart(e.selection.getRng()),n=gn(e.getBody());if(e.selection.isCollapsed()){const o=R(Ph,e),r=Na.fromRangeStart(e.selection.getRng());return Y_(o,e.getBody(),r).bind((e=>t=>t.fold(t=>ou(e.dom,Na.before(t)),e=>ru(e),e=>iu(e),t=>nu(e.dom,Na.after(t))))(n)).map(o=>()=>((e,t)=>n=>((e,t)=>!ph(t)&&(((e,t)=>((e,t)=>ou(e.dom,t).isNone())(e,t)||((e,t)=>nu(e.dom,t).isNone())(e,t)||eh(e,t)||th(e,t)||ah(e,t)||sh(e,t))(e,t)||fh(e,t)||mh(e,t)))(e,n)?hk(t):gk(t))(n,t)(o).each((e=>t=>(e.selection.setRng(t.toRange()),e.nodeChanged(),!0))(e)))}return M.none()},bk=e=>Yc(e)?[{keyCode:jf.TAB,action:Bx(sE,e,!0)},{keyCode:jf.TAB,shiftKey:!0,action:Bx(sE,e,!1)}]:[],yk=e=>{if(e.addShortcut("Meta+P","","mcePrint"),(e=>{const t=Ds(),n=Ss(!1),o=t.isSet,r=()=>{o()&&((e=>{Qy(e).autocompleter.removeDecoration()})(e),(e=>{e.dispatch("AutocompleterEnd")})(e),n.set(!1),t.clear())},i=Le(()=>(e=>{const t=e.ui.registry.getAll().popups,n=he(t,e=>{return(t=e,((e,t,n)=>{return o=((e,t,n)=>((e,t)=>e.stype===_E.Error?{stype:_E.Error,serror:(e=>({input:n,errors:e}))(e.serror)}:e)(t.extract(["Autocompleter"],n)))(0,t,n),wE(o,Qa.error,Qa.value);var o})(0,hS,{trigger:t.ch,...t})).fold(e=>{throw new Error("Errors: \n"+(e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:N("... (only showing first ten failures)")}]):e;return $(t,e=>"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo())})((t=e).errors).join("\n")+"\n\nInput object: "+kE(t.input));var t},T);var t}),o=Se(Ce(n,e=>e.trigger)),r=_e(n);return{dataset:n,triggers:o,lookupByTrigger:e=>X(r,t=>t.trigger===e)}})(e)),s=s=>{(n=>t.get().map(t=>vE(e.dom,e.selection.getRng(),t.trigger).bind(t=>CE(e,i,t,n))).getOrThunk(()=>((e,t)=>{const n=t(),o=e.selection.getRng();return((e,t,n)=>ue(n.triggers,n=>vE(e,t,n)))(e.dom,o,n).bind(n=>CE(e,t,n))})(e,i)))(s).fold(r,i=>{(n=>{o()||(((e,t)=>{Qy(e).autocompleter.addDecoration(t)})(e,n.range),t.set({trigger:n.trigger,matchLength:n.text.length}))})(i.context),i.lookupData.then(o=>{t.get().map(s=>{const a=i.context;s.trigger===a.trigger&&(a.text.length-s.matchLength>=10?r():(t.set({...s,matchLength:a.text.length}),n.get()?((e,t)=>{e.dispatch("AutocompleterUpdate",t)})(e,{lookupData:o}):(n.set(!0),((e,t)=>{e.dispatch("AutocompleterStart",t)})(e,{lookupData:o}))))})})})};e.addCommand("mceAutocompleterReload",(e,t)=>{const n=m(t)?t.fetchOptions:{};s(n)}),e.addCommand("mceAutocompleterClose",r),((e,t)=>{const n=Ls(t.load,50);e.on("keypress compositionend",e=>{27!==e.which&&n.throttle()}),e.on("keydown",e=>{const o=e.which;8===o?n.throttle():27===o&&t.cancelIfNecessary()}),e.on("remove",n.cancel)})(e,{cancelIfNecessary:r,load:s})})(e),Yy(e))return Ss(null);{const t=(e=>{const t=Ss(null),n=R(Ph,e);return e.on("NodeChange",o=>{tc(e)&&(((e,t,n)=>{const o=$(Do(gn(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),e=>e.dom),r=X(o,e),i=X(n,e);W(re(r,i),R(jw,!1)),W(re(i,r),R(jw,!0))})(n,e.dom,o.parents),((e,t)=>{const n=t.get();if(e.selection.isCollapsed()&&!e.composing&&n){const o=Na.fromRangeStart(e.selection.getRng());Na.isTextPosition(o)&&!(e=>Mr(e)||jr(e))(o)&&(Mw(e,((e,t)=>Na.isTextPosition(t)?((e,t)=>Qc(e)&&t.container()===e?((e,t)=>{const n=Zc(e.data.substr(0,t.offset())),o=Zc(e.data.substr(t.offset()));return(n.text+o.text).length>0?(ed(e),Na(e,t.offset()-n.count)):t})(e,t):td(e,t))(e,t):((e,t)=>t.container()===e.parentNode?((e,t)=>{const n=t.container(),o=((e,t)=>{const n=U(e,t);return-1===n?M.none():M.some(n)})(de(n.childNodes),e).map(e=>e<t.offset()?Na(n,t.offset()-1):t).getOr(t);return nd(e),o})(e,t):td(e,t))(e,t))(n,o)),t.set(null))}})(e,t),((e,t,n,o)=>{if(t.selection.isCollapsed()){const r=X(o,e);W(r,o=>{const r=Na.fromRangeStart(t.selection.getRng());Y_(e,t.getBody(),r).bind(e=>Fw(t,n,e))})}})(n,e,t,o.parents))}),t})(e);return(e=>{e.on("keyup compositionstart",R(wx,e))})(e),((e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||((e,t,n)=>{const o=At.os.isMacOS()||At.os.isiOS();Lx([{keyCode:jf.RIGHT,action:Bx(Sx,e,!0)},{keyCode:jf.LEFT,action:Bx(Sx,e,!1)},{keyCode:jf.UP,action:Bx(kx,e,!1)},{keyCode:jf.DOWN,action:Bx(kx,e,!0)},...o?[{keyCode:jf.UP,action:Bx(Tx,e,!1),metaKey:!0,shiftKey:!0},{keyCode:jf.DOWN,action:Bx(Tx,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:jf.RIGHT,action:Bx(tE,e,!0)},{keyCode:jf.LEFT,action:Bx(tE,e,!1)},{keyCode:jf.UP,action:Bx(nE,e,!1)},{keyCode:jf.DOWN,action:Bx(nE,e,!0)},{keyCode:jf.RIGHT,action:Bx(Ix,e,!0)},{keyCode:jf.LEFT,action:Bx(Ix,e,!1)},{keyCode:jf.UP,action:Bx(Mx,e,!1)},{keyCode:jf.DOWN,action:Bx(Mx,e,!0)},{keyCode:jf.RIGHT,action:Bx(Hw,e,t,!0)},{keyCode:jf.LEFT,action:Bx(Hw,e,t,!1)},{keyCode:jf.RIGHT,ctrlKey:!o,altKey:o,action:Bx(qw,e,t)},{keyCode:jf.LEFT,ctrlKey:!o,altKey:o,action:Bx(zw,e,t)},{keyCode:jf.UP,action:Bx(Rx,e,!1)},{keyCode:jf.DOWN,action:Bx(Rx,e,!0)}],n).each(e=>{n.preventDefault()})})(e,t,n)})})(e,t),((e,t)=>{let n=!1;e.on("keydown",o=>{n=o.keyCode===jf.BACKSPACE,o.isDefaultPrevented()||((e,t,n)=>{const o=n.keyCode===jf.BACKSPACE?"deleteContentBackward":"deleteContentForward";Px([{keyCode:jf.BACKSPACE,action:Bx(dx,e)},{keyCode:jf.BACKSPACE,action:Bx(N_,e,!1)},{keyCode:jf.DELETE,action:Bx(N_,e,!0)},{keyCode:jf.BACKSPACE,action:Bx(C_,e,!1)},{keyCode:jf.DELETE,action:Bx(C_,e,!0)},{keyCode:jf.BACKSPACE,action:Bx(Kw,e,t,!1)},{keyCode:jf.DELETE,action:Bx(Kw,e,t,!0)},{keyCode:jf.BACKSPACE,action:Bx(hg,e,!1)},{keyCode:jf.DELETE,action:Bx(hg,e,!0)},{keyCode:jf.BACKSPACE,action:Bx(T_,e,!1)},{keyCode:jf.DELETE,action:Bx(T_,e,!0)},{keyCode:jf.BACKSPACE,action:Bx(nx,e,!1)},{keyCode:jf.DELETE,action:Bx(nx,e,!0)},{keyCode:jf.BACKSPACE,action:Bx(m_,e,!1)},{keyCode:jf.DELETE,action:Bx(m_,e,!0)},{keyCode:jf.BACKSPACE,action:Bx(u_,e,!1)},{keyCode:jf.DELETE,action:Bx(u_,e,!0)},{keyCode:jf.BACKSPACE,action:Bx(Zw,e,!1)},{keyCode:jf.DELETE,action:Bx(Zw,e,!0)}],n).filter(t=>e.selection.isEditable()).each(t=>{n.preventDefault(),NS(e,o).isDefaultPrevented()||(t(),kS(e,o))})})(e,t,o)}),e.on("keyup",t=>{t.isDefaultPrevented()||((e,t,n)=>{const o=wt(),r=o.os,i=o.browser,s=r.isMacOS()?[{keyCode:jf.BACKSPACE,altKey:!0,action:Bx(ex,e)},{keyCode:jf.DELETE,altKey:!0,action:Bx(ex,e)}]:[{keyCode:jf.BACKSPACE,ctrlKey:!0,action:Bx(ex,e)},{keyCode:jf.DELETE,ctrlKey:!0,action:Bx(ex,e)}];r.isMacOS()&&n&&s.push({keyCode:i.isFirefox()?224:91,action:Bx(ex,e)}),Lx([{keyCode:jf.BACKSPACE,action:Bx(k_,e)},{keyCode:jf.DELETE,action:Bx(k_,e)},...s],t)})(e,t,n),n=!1})})(e,t),(e=>{e.on("keydown",t=>{t.keyCode===jf.ENTER&&((e,t)=>{var n;t.isDefaultPrevented()||(t.preventDefault(),(n=e.undoManager).typing&&(n.typing=!1,n.add()),e.undoManager.transact(()=>{ck(e,t)}))})(e,t)})})(e),(e=>{e.on("keydown",t=>{t.isDefaultPrevented()||((e,t)=>{Px([{keyCode:jf.SPACEBAR,action:Bx(vk,e)}],t).each(n=>{t.preventDefault(),NS(e,"insertText",{data:" "}).isDefaultPrevented()||(n(),kS(e,"insertText",{data:" "}))})})(e,t)})})(e),(e=>{e.on("input",t=>{t.isComposing||(e=>{const t=gn(e.getBody());e.selection.isCollapsed()&&((e,t)=>{const n=t.container();if(!Vo(n))return M.none();if((e=>{const t=e.container();return Vo(t)&&Ue(t.data,ar)})(t)){const o=_h(e,n,!1)||(e=>{const t=e.data,n=(e=>{const t=e.split("");return $(t,(e,n)=>_u(e)&&n>0&&n<t.length-1&&xu(t[n-1])&&xu(t[n+1])?" ":e).join("")})(t);return n!==t&&(e.data=n,!0)})(n)||wh(e,n,!1);return It(o,t)}if(bh(e,t)){const o=_h(e,n,!0)||wh(e,n,!0);return It(o,t)}return M.none()})(t,Na.fromRangeStart(e.selection.getRng())).each(t=>{e.selection.setRng(t.toRange())})})(e)})})(e),(e=>{e.on("keydown",t=>{t.isDefaultPrevented()||((e,t)=>{Lx([...bk(e)],t).each(e=>{t.preventDefault()})})(e,t)})})(e),((e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||((e,t,n)=>{const o=At.os.isMacOS()||At.os.isiOS();Lx([{keyCode:jf.END,action:Bx(Nx,e,!0)},{keyCode:jf.HOME,action:Bx(Nx,e,!1)},...o?[]:[{keyCode:jf.HOME,action:Bx(Tx,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:jf.END,action:Bx(Tx,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:jf.END,action:Bx(jx,e,!0)},{keyCode:jf.HOME,action:Bx(jx,e,!1)},{keyCode:jf.END,action:Bx($w,e,!0,t)},{keyCode:jf.HOME,action:Bx($w,e,!1,t)}],n).each(e=>{n.preventDefault()})})(e,t,n)})})(e,t),((e,t)=>{if(dk.os.isMacOS())return;const n=Ss(!1);e.on("keydown",t=>{fk(t)&&mk(n,e,!0)}),e.on("keyup",o=>{o.isDefaultPrevented()||((e,t,n)=>{Lx([{keyCode:jf.PAGE_UP,action:Bx($w,e,!1,t)},{keyCode:jf.PAGE_DOWN,action:Bx($w,e,!0,t)}],n)})(e,t,o),fk(o)&&n.get()&&(mk(n,e,!1),e.nodeChanged())})})(e,t),t}};class Ck{constructor(e){let t;this.lastPath=[],this.editor=e;const n=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",n=>{const o=e.selection.getRng(),r={startContainer:o.startContainer,startOffset:o.startOffset,endContainer:o.endContainer,endOffset:o.endOffset};"nodechange"!==n.type&&im(r,t)||e.dispatch("SelectionChange"),t=r}),e.on("contextmenu",()=>{e.dispatch("SelectionChange")}),e.on("SelectionChange",()=>{const t=e.selection.getStart(!0);t&&Fu(e)&&!n.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})}),e.on("mouseup",t=>{!t.isDefaultPrevented()&&Fu(e)&&("IMG"===e.selection.getNode().nodeName?Xm.setEditorTimeout(e,()=>{e.nodeChanged()}):e.nodeChanged())})}nodeChanged(e={}){const t=this.editor.selection;let n;if(this.editor.initialized&&t&&!mc(this.editor)&&!this.editor.mode.isReadOnly()){const o=this.editor.getBody();n=t.getStart(!0)||o,n.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(n,o)||(n=o);const r=[];this.editor.dom.getParent(n,e=>e===o||(r.push(e),!1)),this.editor.dispatch("NodeChange",{...e,element:n,parents:r})}}isSameElementPath(e){let t;const n=this.editor,o=oe(n.dom.getParents(e,I,n.getBody()));if(o.length===this.lastPath.length){for(t=o.length;t>=0&&o[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=o,!0}return this.lastPath=o,!1}}const _k=N("x-tinymce/html"),wk="\x3c!-- x-tinymce/html --\x3e",xk=e=>wk+e,Ek=e=>-1!==e.indexOf(wk),Sk="%MCEPASTEBIN%",kk=e=>e.dom.get("mcepastebin"),Nk=e=>C(e)&&"mcepastebin"===e.id,Tk=e=>e===Sk,Ak=(e,t)=>(Bt.each(t,t=>{e=u(t,RegExp)?e.replace(t,""):e.replace(t[0],t[1])}),e),Rk=e=>Ak(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(e,t,n)=>t||n?ar:" "],/<br class="Apple-interchange-newline">/g,/<br>$/i]),Ok=(e,t)=>({content:e,cancelled:t}),Dk=(e,t)=>(e.insertContent(t,{merge:Pc(e),paste:!0}),!0),Bk=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),Lk=(e,t,n)=>!(e.selection.isCollapsed()||!Bk(t))&&((e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0))(e,t,n),Pk=(e,t,n)=>!!((e,t)=>Bk(t)&&z(Xc(e),e=>ze(t.toLowerCase(),"."+e.toLowerCase())))(e,t)&&((e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0))(e,t,n),Ik=(e=>{let t=0;return()=>"mceclip"+t++})(),Mk=(e,t,n,o)=>{const r=((e,t,n)=>((e,t,n)=>{const o=((e,t,n)=>e.dispatch("PastePreProcess",{content:t,internal:n}))(e,t,n),r=((e,t)=>{const n=Cy({sanitize:Kc(e)},e.schema);n.addNodeFilter("meta",e=>{Bt.each(e,e=>{e.remove()})});const o=n.parse(t,{forced_root_block:!1,isRootContent:!0});return Tp({validate:!0},e.schema).serialize(o)})(e,o.content);return e.hasEventListeners("PastePostProcess")&&!o.isDefaultPrevented()?((e,t,n)=>{const o=e.dom.create("div",{style:"display:none"},t),r=((e,t,n)=>e.dispatch("PastePostProcess",{node:t,internal:n}))(e,o,n);return Ok(r.node.innerHTML,r.isDefaultPrevented())})(e,r,n):Ok(r,o.isDefaultPrevented())})(e,t,n))(e,t,n);r.cancelled||((e,t,n)=>{n||!Ic(e)?Dk(e,t):((e,t)=>{Bt.each([Lk,Pk,Dk],n=>!n(e,t,Dk))})(e,t)})(e,r.content,o)},jk=(e,t,n)=>{const o=n||Ek(t);Mk(e,(e=>e.replace(wk,""))(t),o,!1)},Fk=(e,t)=>{const n=e.dom.encode(t).replace(/\r\n/g,"\n"),o=((e,t,n)=>{const o=e.split(/\n\n/),r=((e,t)=>{let n="<"+e;const o=Ce(t,(e,t)=>t+'="'+zi.encodeAllRaw(e)+'"');return o.length&&(n+=" "+o.join(" ")),n+">"})(t,n),i="</"+t+">",s=$(o,e=>e.split(/\n/).join("<br />"));return 1===s.length?s[0]:$(s,e=>r+e+i).join("")})(oi(n,jc(e)),yl(e),Cl(e));Mk(e,o,!1,!0)},Hk=e=>{const t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const o=e.types[n];try{t[o]=e.getData(o)}catch(e){t[o]=""}}return t},Uk=(e,t)=>t in e&&e[t].length>0,qk=e=>Uk(e,"text/html")||Uk(e,"text/plain"),zk=(e,t,n)=>{const o="paste"===t.type?t.clipboardData:t.dataTransfer;var r;if(Rc(e)&&o){const i=((e,t)=>{const n=t.items?te(de(t.items),e=>"file"===e.kind?[e.getAsFile()]:[]):[],o=t.files?de(t.files):[];return X(n.length>0?n:o,(e=>{const t=Xc(e);return e=>qe(e.type,"image/")&&z(t,t=>(e=>{const t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Bt.hasOwn(n,t)?"image/"+n[t]:"image/"+t})(t)===e.type)})(e))})(e,o);if(i.length>0)return t.preventDefault(),(r=i,Promise.all($(r,e=>Qv(e).then(t=>({file:e,uri:t}))))).then(t=>{n&&e.selection.setRng(n),W(t,t=>{((e,t)=>{Yv(t.uri).each(({data:n,type:o,base64Encoded:r})=>{const i=r?n:btoa(n),s=t.file,a=e.editorUpload.blobCache,l=a.getByData(i,o),c=null!=l?l:((e,t,n,o)=>{const r=Ik(),i=Nl(e)&&C(n.name),s=i?((e,t)=>{const n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return C(n)?e.dom.encode(n[1]):void 0})(e,n.name):r,a=t.create(r,n,o,s,i?n.name:void 0);return t.add(a),a})(e,a,s,i);jk(e,`<img src="${c.blobUri()}">`,!1)})})(e,t)})}),!0}return!1},$k=(e,t,n,o)=>{let r=Rk(n);const i=Uk(t,_k())||Ek(n),s=!i&&(e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e))(r),a=Bk(r);(Tk(r)||!r.length||s&&!a)&&(o=!0),(o||a)&&(r=Uk(t,"text/plain")&&s?t["text/plain"]:(e=>{const t=ns(),n=Cy({},t);let o="";const r=t.getVoidElements(),i=Bt.makeMap("script noscript style textarea video audio iframe object"," "),s=t.getBlockElements(),a=e=>{const n=e.name,l=e;if("br"!==n){if("wbr"!==n)if(r[n]&&(o+=" "),i[n])o+=" ";else{if(3===e.type&&(o+=e.value),!(e.name in t.getVoidElements())){let t=e.firstChild;if(t)do{a(t)}while(t=t.next)}s[n]&&l.next&&(o+="\n","p"===n&&(o+="\n"))}}else o+="\n"};return e=Ak(e,[/<!\[[^\]]+\]>/g]),a(n.parse(e)),o})(r)),Tk(r)||(o?Fk(e,r):jk(e,r,i))},Wk=(e,t,n,o)=>{((e,t,n)=>{if(!e)return!1;try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(_k(),t),!0}catch(e){return!1}})(e.clipboardData,t.html,t.text)?(e.preventDefault(),o()):n(t.html,o)},Vk=e=>(t,n)=>{const{dom:o,selection:r}=e,i=o.create("div",{contenteditable:"false","data-mce-bogus":"all"}),s=o.create("div",{contenteditable:"true"},t);o.setStyles(i,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),i.appendChild(s),o.add(e.getBody(),i);const a=r.getRng();s.focus();const l=o.createRng();l.selectNodeContents(s),r.setRng(l),Xm.setEditorTimeout(e,()=>{r.setRng(a),o.remove(i),n()},0)},Kk=e=>({html:xk(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),Xk=e=>!e.selection.isCollapsed()||(e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()))(e),Yk=(e,t)=>{var n,o;return hm.getCaretRangeFromPoint(null!==(n=t.clientX)&&void 0!==n?n:0,null!==(o=t.clientY)&&void 0!==o?o:0,e.getDoc())},Gk=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},Qk=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,Jk=e=>Bt.trim(e).replace(Qk,Ru).toLowerCase(),Zk=(e,t,n)=>{const o=Bc(e);if(n||"all"===o||!Lc(e))return t;const r=o?o.split(/[, ]/):[];if(r&&"none"!==o){const n=e.dom,o=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(e,t,i,s)=>{const a=n.parseStyle(n.decode(i)),l={};for(let d=0;d<r.length;d++){const e=a[r[d]];let t=e,i=n.getStyle(o,r[d],!0);/color/.test(r[d])&&(t=Jk(t),i=Jk(i)),i!==t&&(l[r[d]]=e)}const c=n.serializeStyle(l,"span");return c?t+' style="'+c+'"'+s:t+s})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(e,t,n,o)=>t+' style="'+n+'"'+o)},eN=Jo,tN=Vo,nN=e=>tr(e.dom),oN=e=>t=>Cn(gn(e),t),rN=(e,t)=>Xn(gn(e),nN,oN(t)),iN=(e,t,n)=>{const o=new Lo(e,t),r=n?o.next.bind(o):o.prev.bind(o);let i=e;for(let s=n?e:r();s&&!eN(s);s=r())Qr(s)&&(i=s);return i};var sN;!function(e){e.Before="before",e.After="after"}(sN||(sN={}));const aN=(e,t)=>Math.abs(e.left-t),lN=(e,t)=>Math.abs(e.right-t),cN=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),dN=(e,t,n)=>{const o=e=>Qr(e.node)?M.some(e):Mo(e.node)?dN(de(e.node.childNodes),t,n):M.none(),r=(e,r)=>{const i=se(e,(e,o)=>r(e,t,n)-r(o,t,n));return((e,r)=>{if(e.length>=2){const i=o(e[0]).getOr(e[0]),s=o(e[1]).getOr(e[1]);if(Math.abs(r(i,t,n)-r(s,t,n))<2){if(Vo(i.node))return M.some(i);if(Vo(s.node))return M.some(s)}}return M.none()})(i,r).orThunk(()=>ue(i,o))},[i,s]=((e,t)=>(e=>G(e,(e,t)=>e.fold(()=>M.some(t),e=>{const n=Math.min(t.left,e.left),o=Math.min(t.top,e.top),r=Math.max(t.right,e.right),i=Math.max(t.bottom,e.bottom);return M.some({top:o,right:r,bottom:i,left:n,width:r-n,height:i-o})}),M.none()))(X(e,e=>{return(n=t)>=(o=e).top&&n<=o.bottom;var n,o})).fold(()=>[[],e],t=>{const{pass:n,fail:o}=K(e,e=>((e,t)=>{const n=((e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)))(e,t)/Math.min(e.height,t.height);return((e,t)=>e.top<t.bottom&&e.bottom>t.top)(e,t)&&n>.5})(e,t));return[n,o]}))(xw(e),n),{pass:a,fail:l}=K(s,e=>e.top<n);return r(i,cN).orThunk(()=>r(l,ia)).orThunk(()=>r(a,ia))},uN=(e,t,n)=>((e,t,n)=>{const o=gn(e),r=((e,t,n)=>M.from(e.dom.elementFromPoint(t,n)).map(fn))(xn(o),t,n).filter(e=>_n(o,e)).getOr(o);return((e,t,n,o)=>{const r=(t,i)=>{const s=X(t.dom.childNodes,O(e=>Mo(e)&&e.classList.contains("mce-drag-container")));return i.fold(()=>dN(s,n,o),e=>{const t=X(s,t=>t!==e.dom);return dN(t,n,o)}).orThunk(()=>(Cn(t,e)?M.none():kn(t)).bind(e=>r(e,M.some(t))))};return r(t,M.none())})(o,r,t,n)})(e,t,n).filter(e=>cd(e.node)).map(e=>((e,t)=>({node:e.node,position:aN(e,t)<lN(e,t)?sN.Before:sN.After}))(e,t)),fN=e=>{var t,n;const o=e.getBoundingClientRect(),r=e.ownerDocument,i=r.documentElement,s=r.defaultView;return{top:o.top+(null!==(t=null==s?void 0:s.scrollY)&&void 0!==t?t:0)-i.clientTop,left:o.left+(null!==(n=null==s?void 0:s.scrollX)&&void 0!==n?n:0)-i.clientLeft}},mN=e=>({target:e,srcElement:e}),pN=e=>(t,n)=>((e,t,n)=>({...t,dataTransfer:null,type:e,...n}))(e,t,mN(n)),hN=pN("dragstart"),gN=pN("drop"),vN=pN("dragend"),bN=tr,yN=((...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1})(bN,er),CN=(e,t,n,o)=>{const r=e.dom,i=t.cloneNode(!0);r.setStyles(i,{width:n,height:o}),r.setAttrib(i,"data-mce-selected",null);const s=r.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return r.setStyles(s,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:o}),r.setStyles(i,{margin:0,boxSizing:"border-box"}),s.appendChild(i),s},_N=(e,t)=>n=>()=>{n.scroll({[e]:("left"===e?n.scrollX:n.scrollY)+t,behavior:"smooth"})},wN=_N("left",-32),xN=_N("left",32),EN=_N("top",-32),SN=_N("top",32),kN=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},NN=(e,t,n)=>{e.on(e=>{if(e.intervalId.clear(),e.dragging){const o=n.fold(()=>(e=>((e,t)=>{const n=D("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,srcElement:null,target:null,timeStamp:0,type:"dragend",composedPath:n,initEvent:n,preventDefault:E,stopImmediatePropagation:E,stopPropagation:E,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:n,initMouseEvent:n,getModifierState:n,dataTransfer:null,...t}})(0,mN(e)))(e.element),t=>vN(t,e.element));t.dispatch("dragend",o)}}),TN(e)},TN=e=>{e.on(e=>{e.intervalId.clear(),kN(e.ghost)}),e.clear()},AN=tr,RN=(e,t)=>gg(e.getBody(),t),ON=(e,t)=>{let n=t;for(let o=e.previousSibling;Vo(o);o=o.previousSibling)n+=o.data.length;return n},DN=(e,t,n,o,r)=>{if(Vo(n)&&(o<0||o>n.data.length))return[];const i=r&&Vo(n)?[ON(n,o)]:[o];let s=n;for(;s!==t&&s.parentNode;)i.push(e.nodeIndex(s,r)),s=s.parentNode;return s===t?i.reverse():[]},BN=(e,t,n,o,r,i,s=!1)=>({start:DN(e,t,n,o,s),end:DN(e,t,r,i,s)}),LN=(e,t)=>{const n=t.slice(),o=n.pop();return w(o)?G(n,(e,t)=>e.bind(e=>M.from(e.childNodes[t])),M.some(e)).bind(e=>Vo(e)&&(o<0||o>e.data.length)?M.none():M.some({node:e,offset:o})):M.none()},PN=(e,t)=>LN(e,t.start).bind(({node:n,offset:o})=>LN(e,t.end).map(({node:e,offset:t})=>{const r=document.createRange();return r.setStart(n,o),r.setEnd(e,t),r})),IN=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const o=t.parentNode;e.remove(t),IN(e,o,n)}},MN=(e,t,n,o=!0)=>{const r=t.startContainer.parentNode,i=t.endContainer.parentNode;t.deleteContents(),o&&!n(t.startContainer)&&(Vo(t.startContainer)&&0===t.startContainer.data.length&&e.remove(t.startContainer),Vo(t.endContainer)&&0===t.endContainer.data.length&&e.remove(t.endContainer),IN(e,r,n),r!==i&&IN(e,i,n))},jN=(e,t)=>M.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),FN=(e,t,n)=>{const o=e.dynamicPatternsLookup({text:n,block:t});return{...e,blockPatterns:nl(o).concat(e.blockPatterns),inlinePatterns:ol(o).concat(e.inlinePatterns)}},HN=(e,t,n,o)=>{const r=e.createRng();return r.setStart(t,0),r.setEnd(n,o),r.toString()},UN=(e,t,n)=>{((e,t,n)=>{if(Vo(e)&&0>=e.length)return M.some(aE(e,0));{const t=Js(lE);return M.from(t.forwards(e,0,cE(e),n)).map(e=>aE(e.container,0))}})(t,0,t).each(o=>{const r=o.container;fE(r,n.start.length,t).each(n=>{const o=e.createRng();o.setStart(r,0),o.setEnd(n.container,n.offset),MN(e,o,e=>e===t)});const i=gn(r),s=dr(i);/^\s[^\s]/.test(s)&&((e,t)=>{cr.set(e,t)})(i,s.slice(1))})},qN=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),zN=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},$N=(e,t,n)=>{const o=PN(e.getRoot(),n).getOrDie("Unable to resolve path range"),r=o.startContainer,i=o.endContainer,s=0===o.endOffset?i:i.splitText(o.endOffset),a=0===o.startOffset?r:r.splitText(o.startOffset),l=a.parentNode;return{prefix:t,end:s.parentNode.insertBefore(qN(e,t+"-end"),s),start:l.insertBefore(qN(e,t+"-start"),a)}},WN=(e,t,n)=>{IN(e,e.get(t.prefix+"-end"),n),IN(e,e.get(t.prefix+"-start"),n)},VN=e=>0===e.start.length,KN=(e,t,n,o)=>{const r=t.start;var i;return mE(e,o.container,o.offset,(i=r,(e,t)=>{const n=e.data.substring(0,t),o=n.lastIndexOf(i.charAt(i.length-1)),r=n.lastIndexOf(i);return-1!==r?r+i.length:-1!==o?o+1:-1}),n).bind(o=>{var i,s;const a=null!==(s=null===(i=n.textContent)||void 0===i?void 0:i.indexOf(r))&&void 0!==s?s:-1;if(-1!==a&&o.offset>=a+r.length){const t=e.createRng();return t.setStart(o.container,o.offset-r.length),t.setEnd(o.container,o.offset),M.some(t)}return uE(o.container,o.offset-r.length,n).map(t=>{const n=e.createRng();return n.setStart(t.container,t.offset),n.setEnd(o.container,o.offset),n}).filter(e=>e.toString()===r).orThunk(()=>KN(e,t,n,aE(o.container,0)))})},XN=(e,t,n,o)=>{const r=e.dom,i=r.getRoot(),s=n.pattern,a=n.position.container,l=n.position.offset;return uE(a,l-n.pattern.end.length,t).bind(c=>{const d=BN(r,i,c.container,c.offset,a,l,o);if(VN(s))return M.some({matches:[{pattern:s,startRng:d,endRng:d}],position:c});{const a=YN(e,n.remainingPatterns,c.container,c.offset,t,o),l=a.getOr({matches:[],position:c}),u=l.position;return((e,t,n,o,r,i=!1)=>{if(0===t.start.length&&!i){const t=e.createRng();return t.setStart(n,o),t.setEnd(n,o),M.some(t)}return dE(n,o,r).bind(n=>KN(e,t,r,n).bind(e=>{var t;if(i){if(e.endContainer===n.container&&e.endOffset===n.offset)return M.none();if(0===n.offset&&(null===(t=e.endContainer.textContent)||void 0===t?void 0:t.length)===e.endOffset)return M.none()}return M.some(e)}))})(r,s,u.container,u.offset,t,a.isNone()).map(e=>{const t=((e,t,n,o=!1)=>BN(e,t,n.startContainer,n.startOffset,n.endContainer,n.endOffset,o))(r,i,e,o);return{matches:l.matches.concat([{pattern:s,startRng:t,endRng:d}]),position:aE(e.startContainer,e.startOffset)}})}})},YN=(e,t,n,o,r,i)=>{const s=e.dom;return dE(n,o,s.getRoot()).bind(a=>{const l=HN(s,r,n,o);for(let s=0;s<t.length;s++){const c=t[s];if(!ze(l,c.end))continue;const d=t.slice();d.splice(s,1);const u=XN(e,r,{pattern:c,remainingPatterns:d,position:a},i);if(u.isNone()&&o>0)return YN(e,t,n,o-1,r,i);if(u.isSome())return u}return M.none()})},GN=(e,t,n)=>{e.selection.setRng(n),"inline-format"===t.type?W(t.format,t=>{e.formatter.apply(t)}):e.execCommand(t.cmd,!1,t.value)},QN=(e,t,n,o,r,i)=>{var s;return((e,t)=>{const n=ne(e,e=>z(t,t=>e.pattern.start===t.pattern.start&&e.pattern.end===t.pattern.end));return e.length===t.length?n?e:t:e.length>t.length?e:t})(YN(e,r.inlinePatterns,n,o,t,i).fold(()=>[],e=>e.matches),YN(e,(s=r.inlinePatterns,se(s,(e,t)=>t.end.length-e.end.length)),n,o,t,i).fold(()=>[],e=>e.matches))},JN=(e,t)=>{if(0===t.length)return;const n=e.dom,o=e.selection.getBookmark(),r=((e,t)=>{const n=Ks("mce_textpattern"),o=Y(t,(t,o)=>{const r=$N(e,n+"_end"+t.length,o.endRng);return t.concat([{...o,endMarker:r}])},[]);return Y(o,(t,r)=>{const i=o.length-t.length-1,s=VN(r.pattern)?r.endMarker:$N(e,n+"_start"+i,r.startRng);return t.concat([{...r,startMarker:s}])},[])})(n,t);W(r,t=>{const o=n.getParent(t.startMarker.start,n.isBlock),r=e=>e===o;VN(t.pattern)?((e,t,n,o)=>{const r=zN(e.dom,n);MN(e.dom,r,o),GN(e,t,r)})(e,t.pattern,t.endMarker,r):((e,t,n,o,r)=>{const i=e.dom,s=zN(i,o),a=zN(i,n);MN(i,a,r),MN(i,s,r);const l=zN(i,{prefix:n.prefix,start:n.end,end:o.start});GN(e,t,l)})(e,t.pattern,t.startMarker,t.endMarker,r),WN(n,t.endMarker,r),WN(n,t.startMarker,r)}),e.selection.moveToBookmark(o)},ZN=(e,t,n)=>{for(let o=0;o<e.length;o++)if(n(e[o],t))return!0;return!1},eT=ws.DOM,tT=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,nT=e=>ye(e,e=>!1===b(e)),oT=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return nT({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),remove_trailing_brs:t("remove_trailing_brs"),inline_styles:t("inline_styles"),root_name:tT(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:n,document:e.getDoc()})},rT=e=>{const t=e.options.get;return nT({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},iT=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,sT=e=>{const t=iT(e),n=zl(e),o=e.contentCSS,r=()=>{t.unloadAll(o),e.inline||e.ui.styleSheetLoader.unloadAll(n)},i=()=>{e.removed?r():e.on("remove",r)};if(e.contentStyles.length>0){let t="";Bt.each(e.contentStyles,e=>{t+=e+"\r\n"}),e.dom.addStyle(t)}const s=Promise.all(((e,t,n)=>{const o=[iT(e).loadAll(t)];return e.inline?o:o.concat([e.ui.styleSheetLoader.loadAll(n)])})(e,o,n)).then(i).catch(i),a=ql(e);return a&&((e,t)=>{const n=gn(e.getBody()),o=Un(Hn(n)),r=pn("style");Yt(r,"type","text/css"),mo(r,hn(t)),mo(o,r),e.on("remove",()=>{vo(r)})})(e,a),s},aT=e=>{!0!==e.removed&&((e=>{Yy(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})})(e),(e=>{e.bindPendingEventDelegates(),e.initialized=!0,(e=>{e.dispatch("Init")})(e),e.focus(!0),(e=>{const t=e.dom.getRoot();e.inline||Fu(e)&&e.selection.getStart(!0)!==t||ru(t).each(t=>{const n=t.getNode(),o=zo(n)?ru(n).getOr(t):t;e.selection.setRng(o.toRange())})})(e),e.nodeChanged({initial:!0});const t=Ec(e);_(t)&&t.call(e,e),(e=>{const t=kc(e);t&&Xm.setEditorTimeout(e,()=>{let n;n=!0===t?e:e.editorManager.get(t),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())},100)})(e)})(e))},lT=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&(eT.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const o=e.getBody();o.disabled=!0,e.readonly=pc(e),e.readonly||(e.inline&&"static"===eT.getStyle(o,"position",!0)&&(o.style.position="relative"),o.contentEditable="true"),o.disabled=!1,e.editorUpload=(e=>{const t=(()=>{let e=[];const t=e=>{if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const t=e.id||"blobid"+PC+++(()=>{const e=()=>Math.round(4294967295*Math.random()).toString(36);return"s"+(new Date).getTime().toString(36)+e()+e()+e()})(),n=e.name||t,o=e.blob;var r;return{id:N(t),name:N(n),filename:N(e.filename||n+"."+(r=o.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[r.toLowerCase()]||"dat")),blob:N(o),base64:N(e.base64),blobUri:N(e.blobUri||URL.createObjectURL(o)),uri:N(e.uri)}},n=t=>J(e,t).getOrUndefined(),o=e=>n(t=>t.id()===e);return{create:(e,n,o,r,i)=>{if(f(e))return t({id:e,name:r,filename:i,blob:n,base64:o});if(m(e))return t(e);throw new Error("Unknown input type")},add:t=>{o(t.id())||e.push(t)},get:o,getByUri:e=>n(t=>t.blobUri()===e),getByData:(e,t)=>n(n=>n.base64()===e&&n.blob().type===t),findFirst:n,removeByUri:t=>{e=X(e,e=>e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1))},destroy:()=>{W(e,e=>{URL.revokeObjectURL(e.blobUri())}),e=[]}}})();let n,o;const r=LC(),i=[],s=t=>n=>e.selection?t(n):[],a=(e,t,n)=>{let o=0;do{o=e.indexOf(t,o),-1!==o&&(e=e.substring(0,o)+n+e.substr(o+t.length),o+=n.length-t.length+1)}while(-1!==o);return e},l=(e,t,n)=>(e=a(e,`src="${t}"`,`src="${n}"${n===At.transparentSrc?' data-mce-placeholder="1"':""}`),a(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')),c=(t,n)=>{W(e.undoManager.data,e=>{"fragmented"===e.type?e.fragments=$(e.fragments,e=>l(e,t,n)):e.content=l(e.content,t,n)})},d=()=>(n||(n=MC(e,r)),h().then(s(o=>{const r=$(o,e=>e.blobInfo);return n.upload(r,IC(e)).then(s(n=>{const r=[];let i=!1;const s=$(n,(n,s)=>{const{blobInfo:a,image:l}=o[s];let d=!1;return n.status&&Tl(e)?(n.url&&!Ue(l.src,n.url)&&(i=!0),t.removeByUri(l.src),Yy(e)||((t,n)=>{const o=e.convertURL(n,"src");var r;c(t.src,n),Gt(gn(t),{src:Nl(e)?(r=n,r+(-1===r.indexOf("?")?"?":"&")+(new Date).getTime()):n,"data-mce-src":o})})(l,n.url)):n.error&&(n.error.remove&&(c(l.src,At.transparentSrc),r.push(l),d=!0),((e,t)=>{AC(e,As.translate(["Failed to upload image: {0}",t]))})(e,n.error.message)),{element:l,status:n.status,uploadUri:n.url,blobInfo:a,removed:d}});return r.length>0&&!Yy(e)?e.undoManager.transact(()=>{W(r,n=>{e.dom.remove(n),t.removeByUri(n.src)})}):i&&e.undoManager.dispatchChange(),s}))}))),u=()=>kl(e)?d():Promise.resolve([]),p=e=>ne(i,t=>t(e)),h=()=>(o||(o=((e,t)=>{const n={};return{findAll:(o,r=I)=>{const i=X((e=>e?de(e.getElementsByTagName("img")):[])(o),t=>{const n=t.src;return!t.hasAttribute("data-mce-bogus")&&!t.hasAttribute("data-mce-placeholder")&&!(!n||n===At.transparentSrc)&&(qe(n,"blob:")?!e.isUploaded(n)&&r(t):!!qe(n,"data:")&&r(t))}),s=$(i,e=>{const o=e.src;if(xe(n,o))return n[o].then(t=>f(t)?t:{image:e,blobInfo:t.blobInfo});{const r=((e,t)=>{const n=()=>Promise.reject("Invalid data URI");if(qe(t,"blob:")){const i=e.getByUri(t);return C(i)?Promise.resolve(i):(o=t,qe(o,"blob:")?(e=>fetch(e).then(e=>e.ok?e.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})))(o):qe(o,"data:")?(r=o,new Promise((e,t)=>{Yv(r).bind(({type:e,data:t,base64Encoded:n})=>Gv(e,t,n)).fold(()=>t("Invalid data URI"),e)})):Promise.reject("Unknown URI format")).then(t=>Qv(t).then(o=>Zv(o,!1,n=>M.some(eb(e,t,n))).getOrThunk(n)))}var o,r;return qe(t,"data:")?tb(e,t).fold(n,e=>Promise.resolve(e)):Promise.reject("Unknown image data format")})(t,o).then(t=>(delete n[o],{image:e,blobInfo:t})).catch(e=>(delete n[o],e));return n[o]=r,r}});return Promise.all(s)}}})(r,t)),o.findAll(e.getBody(),p).then(s(t=>{const n=X(t,t=>f(t)?(AC(e,t),!1):"blob"!==t.uriType);return Yy(e)||W(n,e=>{c(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),n}))),g=n=>n.replace(/src="(blob:[^"]+)"/g,(n,o)=>{const i=r.getResultUri(o);if(i)return'src="'+i+'"';let s=t.getByUri(o);return s||(s=G(e.editorManager.get(),(e,t)=>e||t.editorUpload&&t.editorUpload.blobCache.getByUri(o),void 0)),s?'src="data:'+s.blob().type+";base64,"+s.base64()+'"':n});return e.on("SetContent",()=>{kl(e)?u():h()}),e.on("RawSaveContent",e=>{e.content=g(e.content)}),e.on("GetContent",e=>{e.source_view||"raw"===e.format||"tree"===e.format||(e.content=g(e.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",e=>{W(e,e=>{const n=e.attr("src");if(!n||t.getByUri(n))return;const o=r.getResultUri(n);o&&e.attr("src",o)})})}),{blobCache:t,addFilter:e=>{i.push(e)},uploadImages:d,uploadImagesAuto:u,scanForImages:h,destroy:()=>{t.destroy(),r.destroy(),o=n=null}}})(e),e.schema=ns(rT(e)),e.dom=ws(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:Pl(e),referrerPolicy:Il(e),onSetAttrib:t=>{e.dispatch("SetAttrib",t)}}),e.parser=(e=>{const t=Cy(oT(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(t,n)=>{const o=e.dom,r="data-mce-"+n;let i=t.length;for(;i--;){const s=t[i];let a=s.attr(n);if(a&&!s.attr(r)){if(0===a.indexOf("data:")||0===a.indexOf("blob:"))continue;"style"===n?(a=o.serializeStyle(o.parseStyle(a),s.name),a.length||(a=null),s.attr(r,a),s.attr(n,a)):"tabindex"===n?(s.attr(r,a),s.attr(n,null)):s.attr(r,e.convertURL(a,n,s.name))}}}),t.addNodeFilter("script",e=>{let t=e.length;for(;t--;){const n=e[t],o=n.attr("type")||"no/type";0!==o.indexOf("mce-")&&n.attr("type","mce-"+o)}}),Wc(e)&&t.addNodeFilter("#cdata",t=>{var n;let o=t.length;for(;o--;){const r=t[o];r.type=8,r.name="#comment",r.value="[CDATA["+e.dom.encode(null!==(n=r.value)&&void 0!==n?n:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",t=>{let n=t.length;const o=e.schema.getNonEmptyElements();for(;n--;){const e=t[n];e.isEmpty(o)&&0===e.getAll("br").length&&e.append(new yp("br",1))}}),t})(e),e.serializer=iC((e=>{const t=e.options.get;return{...oT(e),...rT(e),...nT({url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}})(e),e),e.selection=oC(e.dom,e.getWin(),e.serializer,e),e.annotator=Af(e),e.formatter=XC(e),e.undoManager=GC(e),e._nodeChangeDispatcher=new Ck(e),e._selectionOverrides=(e=>{const t=e.selection,n=e.dom,o=e.getBody(),r=((e,t,n,o)=>{const r=Ds();let i,s;const a=yl(e),l=e.dom,c=()=>{(e=>{var t,n;const o=Do(gn(e),"*[contentEditable=false],video,audio,embed,object");for(let r=0;r<o.length;r++){const e=o[r].dom;let i=e.previousSibling;if(Hr(i)){const e=i.data;1===e.length?null===(t=i.parentNode)||void 0===t||t.removeChild(i):i.deleteData(e.length-1,1)}i=e.nextSibling,Fr(i)&&(1===i.data.length?null===(n=i.parentNode)||void 0===n||n.removeChild(i):i.deleteData(0,1))}})(t),s&&(nd(s),s=null),r.on(e=>{l.remove(e.caret),r.clear()}),i&&(clearInterval(i),i=void 0)};return{show:(e,d)=>{let u;if(c(),id(d))return null;if(!n(d))return s=((e,t)=>{var n;const o=(null!==(n=e.ownerDocument)&&void 0!==n?n:document).createTextNode(Tr),r=e.parentNode;if(t){const t=e.previousSibling;if(Dr(t)){if(Pr(t))return t;if(Hr(t))return t.splitText(t.data.length-1)}null==r||r.insertBefore(o,e)}else{const t=e.nextSibling;if(Dr(t)){if(Pr(t))return t;if(Fr(t))return t.splitText(1),t}e.nextSibling?null==r||r.insertBefore(o,e.nextSibling):null==r||r.appendChild(o)}return o})(d,e),u=d.ownerDocument.createRange(),ld(s.nextSibling)?(u.setStart(s,0),u.setEnd(s,0)):(u.setStart(s,1),u.setEnd(s,1)),u;{const n=((e,t,n)=>{var o;const r=(null!==(o=t.ownerDocument)&&void 0!==o?o:document).createElement(e);r.setAttribute("data-mce-caret",n?"before":"after"),r.setAttribute("data-mce-bogus","all"),r.appendChild(Sr().dom);const i=t.parentNode;return n?null==i||i.insertBefore(r,t):t.nextSibling?null==i||i.insertBefore(r,t.nextSibling):null==i||i.appendChild(r),r})(a,d,e),c=sd(t,d,e);l.setStyle(n,"top",c.top),s=n;const f=l.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});l.setStyles(f,{...c}),l.add(t,f),r.set({caret:f,element:d,before:e}),e&&l.addClass(f,"mce-visual-caret-before"),i=setInterval(()=>{r.on(e=>{o()?l.toggleClass(e.caret,"mce-visual-caret-hidden"):l.addClass(e.caret,"mce-visual-caret-hidden")})},500),u=d.ownerDocument.createRange(),u.setStart(n,0),u.setEnd(n,0)}return u},hide:c,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{r.on(e=>{const n=sd(t,e.element,e.before);l.setStyles(e.caret,{...n})})},destroy:()=>clearInterval(i)}})(e,o,n.isBlock,()=>rp(e)),i="sel-"+n.uniqueId(),s="data-mce-selected";let a;const l=e=>e!==o&&(AN(e)||rr(e))&&n.isChildOf(e,o)&&n.isEditable(e.parentNode),c=(n,o,i,s=!0)=>e.dispatch("ShowCaret",{target:o,direction:n,before:i}).isDefaultPrevented()?null:(s&&t.scrollIntoView(o,-1===n),r.show(i,o)),d=e=>Pr(e)||Fr(e)||Hr(e),u=e=>d(e.startContainer)||d(e.endContainer),f=t=>{const o=e.schema.getVoidElements(),r=n.createRng(),i=t.startContainer,s=t.startOffset,a=t.endContainer,l=t.endOffset;return xe(o,i.nodeName.toLowerCase())?0===s?r.setStartBefore(i):r.setStartAfter(i):r.setStart(i,s),xe(o,a.nodeName.toLowerCase())?0===l?r.setEndBefore(a):r.setEndAfter(a):r.setEnd(a,l),r},m=(r,d)=>{if(!r)return null;if(r.collapsed){if(!u(r)){const e=d?1:-1,t=Bd(e,o,r),i=t.getNode(!d);if(C(i)){if(cd(i))return c(e,i,!!d&&!t.isAtEnd(),!1);if(Lr(i)&&tr(i.nextSibling)){const e=n.createRng();return e.setStart(i,0),e.setEnd(i,0),e}}const s=t.getNode(d);if(C(s)){if(cd(s))return c(e,s,!d&&!t.isAtEnd(),!1);if(Lr(s)&&tr(s.previousSibling)){const e=n.createRng();return e.setStart(s,1),e.setEnd(s,1),e}}}return null}let f=r.startContainer,m=r.startOffset;const p=r.endOffset;if(Vo(f)&&0===m&&AN(f.parentNode)&&(f=f.parentNode,m=n.nodeIndex(f),f=f.parentNode),!Mo(f))return null;if(p===m+1&&f===r.endContainer){const o=f.childNodes[m];if(l(o))return(o=>{const r=o.cloneNode(!0),l=e.dispatch("ObjectSelected",{target:o,targetClone:r});if(l.isDefaultPrevented())return null;const c=((o,r)=>{const s=gn(e.getBody()),a=e.getDoc(),l=Gn(s,"#"+i).getOrThunk(()=>{const e=mn('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',a);return Yt(e,"id",i),mo(s,e),e}),c=n.createRng();go(l),ho(l,[hn(ar,a),gn(r),hn(ar,a)]),c.setStart(l.dom.firstChild,1),c.setEnd(l.dom.lastChild,0),oo(l,{top:n.getPos(o,e.getBody()).y+"px"}),Im(l);const d=t.getSel();return d&&(d.removeAllRanges(),d.addRange(c)),c})(o,l.targetClone),d=gn(o);return W(Do(gn(e.getBody()),"*[data-mce-selected]"),e=>{Cn(d,e)||en(e,s)}),n.getAttrib(o,s)||o.setAttribute(s,"1"),a=o,h(),c})(o)}return null},p=()=>{a&&a.removeAttribute(s),Gn(gn(e.getBody()),"#"+i).each(vo),a=null},h=()=>{r.hide()};return Yy(e)||(e.on("click",t=>{n.isEditable(t.target)||(t.preventDefault(),e.focus())}),e.on("blur NewBlock",p),e.on("ResizeWindow FullscreenStateChanged",r.reposition),e.on("tap",t=>{const n=t.target,o=RN(e,n);AN(o)?(t.preventDefault(),h_(e,o).each(m)):l(n)&&h_(e,n).each(m)},!0),e.on("mousedown",r=>{const i=r.target;if(i!==o&&"HTML"!==i.nodeName&&!n.isChildOf(i,o))return;if(!((e,t,n)=>{const o=gn(e.getBody()),r=e.inline?o:gn(xn(o).dom.documentElement),i=((e,t,n,o)=>{const r=(e=>e.dom.getBoundingClientRect())(t);return{x:n-(e?r.left+t.dom.clientLeft+xC(t):0),y:o-(e?r.top+t.dom.clientTop+wC(t):0)}})(e.inline,r,t,n);return((e,t,n)=>{const o=CC(e),r=_C(e);return t>=0&&n>=0&&t<=o&&n<=r})(r,i.x,i.y)})(e,r.clientX,r.clientY))return;p(),h();const s=RN(e,i);AN(s)?(r.preventDefault(),h_(e,s).each(m)):uN(o,r.clientX,r.clientY).each(n=>{var o;r.preventDefault(),(o=c(1,n.node,n.position===sN.Before,!1))&&t.setRng(o),Mo(s)?s.focus():e.getBody().focus()})}),e.on("keypress",e=>{jf.modifierPressed(e)||AN(t.getNode())&&e.preventDefault()}),e.on("GetSelectionRange",e=>{let t=e.range;if(a){if(!a.parentNode)return void(a=null);t=t.cloneRange(),t.selectNode(a),e.range=t}}),e.on("SetSelectionRange",e=>{e.range=f(e.range);const t=m(e.range,e.forward);t&&(e.range=t)}),e.on("AfterSetSelectionRange",e=>{const t=e.range,o=t.startContainer.parentElement;var r;u(t)||Mo(r=o)&&"mcepastebin"===r.id||h(),(e=>C(e)&&n.hasClass(e,"mce-offscreen-selection"))(o)||p()}),(e=>{(e=>{const t=Ds(),n=ws.DOM,o=document,r=((e,t)=>n=>{if((e=>0===e.button)(n)){const o=J(t.dom.getParents(n.target),yN).getOr(null);if(C(o)&&((e,t,n)=>bN(n)&&n!==t&&e.isEditable(n.parentElement))(t.dom,t.getBody(),o)){const r=t.dom.getPos(o),i=t.getBody(),s=t.getDoc().documentElement;e.set({element:o,dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?i.scrollWidth:s.offsetWidth)-2,maxY:(t.inline?i.scrollHeight:s.offsetHeight)-2,relX:n.pageX-r.x,relY:n.pageY-r.y,width:o.offsetWidth,height:o.offsetHeight,ghost:CN(t,o,o.offsetWidth,o.offsetHeight),intervalId:Os(100)})}}})(t,e),i=((e,t)=>{const n=Bs((e,n)=>((e,t,n)=>{e._selectionOverrides.hideFakeCaret(),uN(e.getBody(),t,n).fold(()=>e.selection.placeCaretAt(t,n),o=>{const r=e._selectionOverrides.showCaret(1,o.node,o.position===sN.Before,!1);r?e.selection.setRng(r):e.selection.placeCaretAt(t,n)})})(t,e,n),0);t.on("remove",n.cancel);const o=e;return r=>e.on(e=>{const i=Math.max(Math.abs(r.screenX-e.screenX),Math.abs(r.screenY-e.screenY));if(!e.dragging&&i>10){if(t.dispatch("dragstart",hN(r,e.element)).isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){const i=r.currentTarget===t.getDoc().documentElement,l=((e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}))(e,((e,t)=>{return n=(e=>e.inline?fN(e.getBody()):{left:0,top:0})(e),o=(e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}})(e),{pageX:(r=((e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const n=fN(e.getContentAreaContainer()),o=(e=>{const t=e.getBody(),n=e.getDoc().documentElement;return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop}})(e);return{left:t.pageX-n.left+o.left,top:t.pageY-n.top+o.top}}return{left:t.pageX,top:t.pageY}})(e,t)).left-n.left+o.left,pageY:r.top-n.top+o.top};var n,o,r})(t,r));s=e.ghost,a=t.getBody(),s.parentNode!==a&&a.appendChild(s),((e,t,n,o,r,i,s,a,l,c,d,u)=>{let f=0,m=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>r&&(f=t.pageX+n-r),t.pageY+o>i&&(m=t.pageY+o-i),e.style.width=n-f+"px",e.style.height=o-m+"px";const p=l.clientHeight,h=l.clientWidth,g=s+l.getBoundingClientRect().top,v=a+l.getBoundingClientRect().left;d.on(e=>{e.intervalId.clear(),e.dragging&&u&&(s+8>=p?e.intervalId.set(SN(c)):s-8<=0?e.intervalId.set(EN(c)):a+8>=h?e.intervalId.set(xN(c)):a-8<=0?e.intervalId.set(wN(c)):g+16>=window.innerHeight?e.intervalId.set(SN(window)):g-16<=0?e.intervalId.set(EN(window)):v+16>=window.innerWidth?e.intervalId.set(xN(window)):v-16<=0&&e.intervalId.set(wN(window)))})})(e.ghost,l,e.width,e.height,e.maxX,e.maxY,r.clientY,r.clientX,t.getContentAreaContainer(),t.getWin(),o,i),n.throttle(r.clientX,r.clientY)}var s,a})})(t,e),s=((e,t)=>n=>{e.on(e=>{var o;if(e.intervalId.clear(),e.dragging){if(((e,t,n)=>!y(t)&&t!==n&&!e.dom.isChildOf(t,n)&&e.dom.isEditable(t))(t,(e=>{const t=e.getSel();if(C(t)){const e=t.getRangeAt(0).startContainer;return Vo(e)?e.parentNode:e}return null})(t.selection),e.element)){const r=(e=>{const t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t})(e.element),i=null!==(o=t.getDoc().elementFromPoint(n.clientX,n.clientY))&&void 0!==o?o:t.getBody();t.dispatch("drop",gN(n,i)).isDefaultPrevented()||t.undoManager.transact(()=>{((e,t)=>{const n=e.getParent(t.parentNode,e.isBlock);kN(t),n&&n!==e.getRoot()&&e.isEmpty(n)&&kr(gn(n))})(t.dom,e.element),t.insertContent(t.dom.getOuterHTML(r)),t._selectionOverrides.hideFakeCaret()})}t.dispatch("dragend",vN(n,t.getBody()))}}),TN(e)})(t,e),a=((e,t)=>n=>NN(e,t,M.some(n)))(t,e);e.on("mousedown",r),e.on("mousemove",i),e.on("mouseup",s),n.bind(o,"mousemove",i),n.bind(o,"mouseup",a),e.on("remove",()=>{n.unbind(o,"mousemove",i),n.unbind(o,"mouseup",a)}),e.on("keydown",n=>{n.keyCode===jf.ESC&&NN(t,e,M.none())})})(e),bc(e)&&(e=>{const t=t=>{if(!t.isDefaultPrevented()){const n=t.dataTransfer;n&&(q(n.types,"Files")||n.files.length>0)&&(t.preventDefault(),"drop"===t.type&&AC(e,"Dropped file type is not supported"))}},n=n=>{Jm(e,n.target)&&t(n)},o=()=>{const o=ws.DOM,r=e.dom,i=document,s=e.inline?e.getBody():e.getDoc(),a=["drop","dragover"];W(a,e=>{o.bind(i,e,n),r.bind(s,e,t)}),e.on("remove",()=>{W(a,e=>{o.unbind(i,e,n),r.unbind(s,e,t)})})};e.on("init",()=>{Xm.setEditorTimeout(e,o,0)})})(e)})(e),(e=>{const t=Bs(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const t=e.selection.getRng();if(t.collapsed){const n=g_(e,t,!1);e.selection.setRng(n)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})})(e),(e=>{e.on("init",()=>{e.on("focusin",t=>{const n=t.target;if(rr(n)){const t=gg(e.getBody(),n),o=tr(t)?t:n;e.selection.getNode()!==o&&h_(e,o).each(t=>e.selection.setRng(t))}})})})(e)),{showCaret:c,showBlockCaretContainer:e=>{e.hasAttribute("data-mce-caret")&&(Ur(e),t.scrollIntoView(e))},hideFakeCaret:h,destroy:()=>{r.destroy(),a=null}}})(e),(e=>{const t=Ds(),n=Ss(!1),o=Ls(t=>{e.dispatch("longpress",{...t,type:"longpress"}),n.set(!0)},400);e.on("touchstart",e=>{fx(e).each(r=>{o.cancel();const i={x:r.clientX,y:r.clientY,target:e.target};o.throttle(e),n.set(!1),t.set(i)})},!0),e.on("touchmove",r=>{o.cancel(),fx(r).each(o=>{t.on(r=>{((e,t)=>{const n=Math.abs(e.clientX-t.x),o=Math.abs(e.clientY-t.y);return n>5||o>5})(o,r)&&(t.clear(),n.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",r=>{o.cancel(),"touchcancel"!==r.type&&t.get().filter(e=>e.target.isEqualNode(r.target)).each(()=>{n.get()?r.preventDefault():e.dispatch("tap",{...r,type:"tap"})})},!0)})(e),(e=>{(e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})})(e),(e=>{e.parser.addNodeFilter("details",e=>{W(e,e=>{e.attr("data-mce-open",e.attr("open")),e.attr("open","open")})}),e.serializer.addNodeFilter("details",e=>{W(e,e=>{const t=e.attr("data-mce-open");e.attr("open",f(t)?t:null),e.attr("data-mce-open",null)})})})(e)})(e),(e=>{const t="contenteditable",n=" "+Bt.trim(zc(e))+" ",o=" "+Bt.trim(qc(e))+" ",r=yx(n),i=yx(o),s=$c(e);s.length>0&&e.on("BeforeSetContent",t=>{((e,t,n)=>{let o=t.length,r=n.content;if("raw"!==n.format){for(;o--;)r=r.replace(t[o],Cx(e,r,qc(e)));n.content=r}})(e,s,t)}),e.parser.addAttributeFilter("class",e=>{let n=e.length;for(;n--;){const o=e[n];r(o)?o.attr(t,"true"):i(o)&&o.attr(t,"false")}}),e.serializer.addAttributeFilter(t,e=>{let n=e.length;for(;n--;){const o=e[n];(r(o)||i(o))&&(s.length>0&&o.attr("data-mce-content")?(o.name="#text",o.type=3,o.raw=!0,o.value=o.attr("data-mce-content")):o.attr(t,null))}})})(e),Yy(e)||((e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),(e=>{const t=((e,t)=>{const n=Na.fromRangeStart(e).getNode(),o=((e,t)=>Xn(gn(e),e=>(e=>er(e.dom))(e)||pr(e),oN(t)).getOr(gn(t)).dom)(n,t),r=iN(n,o,!1),i=iN(n,o,!0),s=document.createRange();return rN(r,o).fold(()=>{tN(r)?s.setStart(r,0):s.setStartBefore(r)},e=>s.setStartBefore(e.dom)),rN(i,o).fold(()=>{tN(i)?s.setEnd(i,i.data.length):s.setEndAfter(i)},e=>s.setEndAfter(e.dom)),s})(e.selection.getRng(),e.getBody());e.selection.setRng(Rg(t))})(e))})})(e),(e=>{(e=>{const t=[",",".",";",":","!","?"],n=[32],o=()=>{return t=Hc(e),n=Uc(e),{inlinePatterns:ol(t),blockPatterns:nl(t),dynamicPatternsLookup:n};var t,n},r=()=>(e=>e.options.isSet("text_patterns_lookup"))(e);e.on("keydown",t=>{if(13===t.keyCode&&!jf.modifierPressed(t)&&e.selection.isCollapsed()){const n=o();(n.inlinePatterns.length>0||n.blockPatterns.length>0||r())&&((e,t)=>{const n=e.selection.getRng();return jN(e,n).map(o=>{var r;const i=Math.max(0,n.startOffset),s=FN(t,o,null!==(r=o.textContent)&&void 0!==r?r:""),a=QN(e,o,n.startContainer,i,s,!0),l=((e,t,n,o)=>{var r;const i=e.dom,s=yl(e);if(!i.is(t,s))return[];const a=null!==(r=t.textContent)&&void 0!==r?r:"";return((e,t)=>{const n=(e=>se(e,(e,t)=>t.start.length-e.start.length))(e),o=t.replace(ar," ");return J(n,e=>0===t.indexOf(e.start)||0===o.indexOf(e.start))})(n.blockPatterns,a).map(e=>Bt.trim(a).length===e.start.length?[]:[{pattern:e,range:BN(i,i.getRoot(),t,0,t,0,!0)}]).getOr([])})(e,o,s);return(l.length>0||a.length>0)&&(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{e.insertContent(sr),JN(e,a),((e,t)=>{if(0===t.length)return;const n=e.selection.getBookmark();W(t,t=>((e,t)=>{const n=t.pattern,o=PN(e.dom.getRoot(),t.range).getOrDie("Unable to resolve path range");return jN(e,o).each(t=>{"block-format"===n.type?((e,t)=>{const n=t.get(e);return h(n)&&le(n).exists(e=>xe(e,"block"))})(n.format,e.formatter)&&e.undoManager.transact(()=>{UN(e.dom,t,n),e.formatter.apply(n.format)}):"block-command"===n.type&&e.undoManager.transact(()=>{UN(e.dom,t,n),e.execCommand(n.cmd,!1,n.value)})}),!0})(e,t)),e.selection.moveToBookmark(n)})(e,l);const t=e.selection.getRng(),n=dE(t.startContainer,t.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),n.each(t=>{const n=t.container;n.data.charAt(t.offset-1)===sr&&(n.deleteData(t.offset-1,1),IN(e.dom,n.parentNode,t=>t===e.dom.getRoot()))})}),!0)}).getOr(!1)})(e,n)&&t.preventDefault()}},!0);const i=()=>{if(e.selection.isCollapsed()){const t=o();(t.inlinePatterns.length>0||r())&&((e,t)=>{const n=e.selection.getRng();jN(e,n).map(o=>{const r=Math.max(0,n.startOffset-1),i=HN(e.dom,o,n.startContainer,r),s=FN(t,o,i),a=QN(e,o,n.startContainer,r,s,!1);a.length>0&&e.undoManager.transact(()=>{JN(e,a)})})})(e,t)}};e.on("keyup",e=>{ZN(n,e,(e,t)=>e===t.keyCode&&!jf.modifierPressed(t))&&i()}),e.on("keypress",n=>{ZN(t,n,(e,t)=>e.charCodeAt(0)===t.charCode)&&Xm.setEditorTimeout(e,i)})})(e)})(e));const r=yk(e);((e,t)=>{e.addCommand("delete",()=>{((e,t)=>{ux(e,t,!1).fold(()=>{Uh(e),$h(e)},L)})(e,t)}),e.addCommand("forwardDelete",()=>{((e,t)=>{ux(e,t,!0).fold(()=>(e=>Hh(e,"ForwardDelete"))(e),L)})(e,t)})})(e,r),(e=>{e.on("NodeChange",R(vx,e))})(e),(e=>{var t;const n=e.dom,o=yl(e),r=null!==(t=Xl(e))&&void 0!==t?t:"",i=(t,s)=>{if((e=>{if(ZC(e)){const t=e.keyCode;return!e_(e)&&(jf.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||q(QC,t))}return!1})(t))return;const a=e.getBody(),l=!(e=>ZC(e)&&!(e_(e)||"keyup"===e.type&&229===e.keyCode))(t)&&((e,t,n)=>{if(li(gn(t),!1)){const o=t.firstElementChild;return!o||!e.getStyle(t.firstElementChild,"padding-left")&&!e.getStyle(t.firstElementChild,"padding-right")&&n===o.nodeName.toLowerCase()}return!1})(n,a,o);(""!==n.getAttrib(a,JC)!==l||s)&&(n.setAttrib(a,JC,l?r:null),n.setAttrib(a,"aria-placeholder",l?r:null),((e,t)=>{e.dispatch("PlaceholderToggle",{state:t})})(e,l),e.on(l?"keydown":"keyup",i),e.off(l?"keyup":"keydown",i))};Xe(r)&&e.on("init",t=>{i(t,!0),e.on("change SetContent ExecCommand",i),e.on("paste",t=>Xm.setEditorTimeout(e,()=>i(t)))})})(e),(e=>{const t=Ss(!1),n=Ss(Mc(e)?"text":"html"),o=(e=>{const t=Ss(null);return{create:()=>((e,t)=>{const{dom:n,selection:o}=e,r=e.getBody();t.set(o.getRng());const i=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},Sk);At.browser.isFirefox()&&n.setStyle(i,"left","rtl"===n.getStyle(r,"direction",!0)?65535:-65535),n.bind(i,"beforedeactivate focusin focusout",e=>{e.stopPropagation()}),i.focus(),o.select(i,!0)})(e,t),remove:()=>((e,t)=>{const n=e.dom;if(kk(e)){let o;const r=t.get();for(;o=kk(e);)n.remove(o),n.unbind(o);r&&e.selection.setRng(r)}t.set(null)})(e,t),getEl:()=>kk(e),getHtml:()=>(e=>{const t=e.dom,n=(e,n)=>{e.appendChild(n),t.remove(n,!0)},[o,...r]=X(e.getBody().childNodes,Nk);W(r,e=>{n(o,e)});const i=t.select("div[id=mcepastebin]",o);for(let s=i.length-1;s>=0;s--){const e=t.create("div");o.insertBefore(e,i[s]),n(e,i[s])}return o?o.innerHTML:""})(e),getLastRng:t.get}})(e);(e=>{(At.browser.isChromium()||At.browser.isSafari())&&((e,t)=>{e.on("PastePreProcess",n=>{n.content=t(e,n.content,n.internal)})})(e,Zk)})(e),((e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{((e,t)=>{"text"===t.get()?(t.set("html"),Mf(e,!1)):(t.set("text"),Mf(e,!0)),e.focus()})(e,t)}),e.addCommand("mceInsertClipboardContent",(t,n)=>{n.html&&jk(e,n.html,n.internal),n.text&&Fk(e,n.text)})})(e,n),(e=>{const t=t=>n=>{t(e,n)},n=Oc(e);_(n)&&e.on("PastePreProcess",t(n));const o=Dc(e);_(o)&&e.on("PastePostProcess",t(o))})(e),e.on("PreInit",()=>{(e=>{e.on("cut",(e=>t=>{!t.isDefaultPrevented()&&Xk(e)&&Wk(t,Kk(e),Vk(e),()=>{if(At.browser.isChromium()||At.browser.isFirefox()){const t=e.selection.getRng();Xm.setEditorTimeout(e,()=>{e.selection.setRng(t),e.execCommand("Delete")},0)}else e.execCommand("Delete")})})(e)),e.on("copy",(e=>t=>{!t.isDefaultPrevented()&&Xk(e)&&Wk(t,Kk(e),Vk(e),E)})(e))})(e),((e,t)=>{Ac(e)&&e.on("dragend dragover draggesture dragdrop drop drag",e=>{e.preventDefault(),e.stopPropagation()}),Rc(e)||e.on("drop",e=>{const t=e.dataTransfer;t&&(e=>z(e.files,e=>/^image\//.test(e.type)))(t)&&e.preventDefault()}),e.on("drop",n=>{if(n.isDefaultPrevented())return;const o=Yk(e,n);if(y(o))return;const r=Hk(n.dataTransfer),i=Uk(r,_k());if((!qk(r)||(e=>{const t=e["text/plain"];return!!t&&0===t.indexOf("file://")})(r))&&zk(e,n,o))return;const s=r[_k()],a=s||r["text/html"]||r["text/plain"],l=((e,t,n,o)=>{const r=e.getParent(n,e=>yi(t,e));if(r&&xe(o,"text/html")){const e=(new DOMParser).parseFromString(o["text/html"],"text/html").body;return!g(e.querySelector(r.nodeName.toLowerCase()))}return!1})(e.dom,e.schema,o.startContainer,r);t.get()&&!l||a&&(n.preventDefault(),Xm.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{s&&e.execCommand("Delete"),Gk(e,o);const t=Rk(a);r["text/html"]?jk(e,t,i):Fk(e,t)})}))}),e.on("dragstart",e=>{t.set(!0)}),e.on("dragover dragend",n=>{Rc(e)&&!t.get()&&(n.preventDefault(),Gk(e,Yk(e,n))),"dragend"===n.type&&t.set(!1)})})(e,t),((e,t,n)=>{((e,t,n)=>{let o;e.on("keydown",e=>{(e=>jf.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode)(e)&&!e.isDefaultPrevented()&&(o=e.shiftKey&&86===e.keyCode)}),e.on("paste",r=>{if(r.isDefaultPrevented()||(e=>{var t,n;return At.os.isAndroid()&&0===(null===(n=null===(t=e.clipboardData)||void 0===t?void 0:t.items)||void 0===n?void 0:n.length)})(r))return;const i="text"===n.get()||o;o=!1;const s=Hk(r.clipboardData);!qk(s)&&zk(e,r,t.getLastRng()||e.selection.getRng())||(Uk(s,"text/html")?(r.preventDefault(),$k(e,s,s["text/html"],i)):Uk(s,"text/plain")&&Uk(s,"text/uri-list")?(r.preventDefault(),$k(e,s,s["text/plain"],i)):(t.create(),Xm.setEditorTimeout(e,()=>{const n=t.getHtml();t.remove(),$k(e,s,n,i)},0)))})})(e,t,n),(e=>{const t=e=>qe(e,"webkit-fake-url"),n=e=>qe(e,"data:");e.parser.addNodeFilter("img",(o,r,i)=>{if(!Rc(e)&&(e=>{var t;return!0===(null===(t=e.data)||void 0===t?void 0:t.paste)})(i))for(const s of o){const o=s.attr("src");f(o)&&!s.attr("data-mce-object")&&o!==At.transparentSrc&&(t(o)||!Fc(e)&&n(o))&&s.remove()}})})(e)})(e,o,n)})})(e);const i=(e=>{const t=e;return(e=>we(e.plugins,"rtc").bind(e=>M.from(e.setup)))(e).fold(()=>(t.rtcInstance=Xy(e),M.none()),e=>(t.rtcInstance=(()=>{const e=N(null),t=N("");return{init:{bindEvents:E},undoManager:{beforeChange:E,add:e,undo:e,redo:e,clear:E,reset:E,hasUndo:P,hasRedo:P,transact:e,ignore:E,extra:E},formatter:{match:P,matchAll:N([]),matchNode:N(void 0),canApply:P,closest:t,apply:E,remove:E,toggle:E,formatChanged:N({unbind:E})},editor:{getContent:t,setContent:N({content:"",html:""}),insertContent:N(""),addVisual:E},selection:{getContent:t},autocompleter:{addDecoration:E,removeDecoration:E},raw:{getModel:N(M.none())}}})(),M.some(()=>e().then(e=>(t.rtcInstance=(e=>{const t=e=>m(e)?e:{},{init:n,undoManager:o,formatter:r,editor:i,selection:s,autocompleter:a,raw:l}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:o.beforeChange,add:o.add,undo:o.undo,redo:o.redo,clear:o.clear,reset:o.reset,hasUndo:o.hasUndo,hasRedo:o.hasRedo,transact:(e,t,n)=>o.transact(n),ignore:(e,t)=>o.ignore(t),extra:(e,t,n,r)=>o.extra(n,r)},formatter:{match:(e,n,o,i)=>r.match(e,t(n),i),matchAll:r.matchAll,matchNode:r.matchNode,canApply:e=>r.canApply(e),closest:e=>r.closest(e),apply:(e,n,o)=>r.apply(e,t(n)),remove:(e,n,o,i)=>r.remove(e,t(n)),toggle:(e,n,o)=>r.toggle(e,t(n)),formatChanged:(e,t,n,o,i)=>r.formatChanged(t,n,o,i)},editor:{getContent:e=>i.getContent(e),setContent:(e,t)=>({content:i.setContent(e,t),html:""}),insertContent:(e,t)=>(i.insertContent(e),""),addVisual:i.addVisual},selection:{getContent:(e,t)=>s.getContent(t)},autocompleter:{addDecoration:a.addDecoration,removeDecoration:a.removeDecoration},raw:{getModel:()=>M.some(l.getRawModel())}}})(e),e.rtc.isRemote)))))})(e);(e=>{const t=e.getDoc(),n=e.getBody();(e=>{e.dispatch("PreInit")})(e),Nc(e)||(t.body.spellcheck=!1,eT.setAttrib(n,"spellcheck","false")),e.quirks=(e=>{const t=Bt.each,n=jf.BACKSPACE,o=jf.DELETE,r=e.dom,i=e.selection,s=e.parser,a=At.browser,l=a.isFirefox(),c=a.isChromium()||a.isSafari(),d=At.deviceType.isiPhone()||At.deviceType.isiPad(),u=At.os.isMacOS()||At.os.isiOS(),f=(t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch(e){}},m=e=>e.isDefaultPrevented(),p=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},h=()=>{e.inline||r.bind(e.getDoc(),"mousedown mouseup",t=>{let n;if(t.target===e.getDoc().documentElement)if(n=i.getRng(),e.getBody().focus(),"mousedown"===t.type){if(Pr(n.startContainer))return;i.placeCaretAt(t.clientX,t.clientY)}else i.setRng(n)})},g=()=>{Range.prototype.getClientRects||e.on("mousedown",t=>{if(!m(t)&&"HTML"===t.target.nodeName){const t=e.getBody();t.blur(),Xm.setEditorTimeout(e,()=>{t.focus()})}})},v=()=>{const t=_c(e);e.on("click",n=>{const o=n.target;/^(IMG|HR)$/.test(o.nodeName)&&r.isEditable(o.parentNode)&&(n.preventDefault(),e.selection.select(o),e.nodeChanged()),"A"===o.nodeName&&r.hasClass(o,t)&&0===o.childNodes.length&&r.isEditable(o.parentNode)&&(n.preventDefault(),i.select(o))})},b=()=>{e.on("keydown",e=>{if(!m(e)&&e.keyCode===n&&i.isCollapsed()&&0===i.getRng().startOffset){const t=i.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}return!0})},y=()=>{pc(e)||e.on("BeforeExecCommand mousedown",()=>{f("StyleWithCSS",!1),f("enableInlineTableEditing",!1),Vl(e)||f("enableObjectResizing",!1)})},C=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},_=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},w=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",t=>{let n;"HTML"===t.target.nodeName&&(n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged())}))},x=()=>{u&&e.on("keydown",t=>{!jf.metaKeyPressed(t)||t.shiftKey||37!==t.keyCode&&39!==t.keyCode||(t.preventDefault(),e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary"))})},S=()=>{e.on("click",e=>{let t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},k=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",e=>{e.preventDefault()})})},N=E;return Yy(e)?(c&&(h(),v(),k(),p(),d&&(_(),w(),S())),l&&(g(),y(),C(),x())):(e.on("keydown",t=>{if(m(t)||t.keyCode!==jf.BACKSPACE)return;let n=i.getRng();const o=n.startContainer,s=n.startOffset,a=r.getRoot();let l=o;if(n.collapsed&&0===s){for(;l.parentNode&&l.parentNode.firstChild===l&&l.parentNode!==a;)l=l.parentNode;"BLOCKQUOTE"===l.nodeName&&(e.formatter.toggle("blockquote",void 0,l),n=r.createRng(),n.setStart(o,0),n.setEnd(o,0),i.setRng(n))}}),(()=>{const t=e=>{const t=r.create("body"),n=e.cloneContents();return t.appendChild(n),i.serializer.serialize(t,{format:"html"})};e.on("keydown",i=>{const s=i.keyCode;if(!m(i)&&(s===o||s===n)&&e.selection.isEditable()){const n=e.selection.isCollapsed(),o=e.getBody();if(n&&!r.isEmpty(o))return;if(!n&&!(n=>{const o=t(n),i=r.createRng();return i.selectNode(e.getBody()),o===t(i)})(e.selection.getRng()))return;i.preventDefault(),e.setContent(""),o.firstChild&&r.isBlock(o.firstChild)?e.selection.setCursorLocation(o.firstChild,0):e.selection.setCursorLocation(o,0),e.nodeChanged()}})})(),At.windowsPhone||e.on("keyup focusin mouseup",t=>{jf.modifierPressed(t)||(e=>{const t=e.getBody(),n=e.selection.getRng();return n.startContainer===n.endContainer&&n.startContainer===t&&0===n.startOffset&&n.endOffset===t.childNodes.length})(e)||i.normalize()},!0),c&&(h(),v(),e.on("init",()=>{f("DefaultParagraphSeparator",yl(e))}),k(),b(),s.addNodeFilter("br",e=>{let t=e.length;for(;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()}),d?(_(),w(),S()):p()),l&&(e.on("keydown",t=>{if(!m(t)&&t.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(i.isCollapsed()&&0===i.getRng().startOffset){const e=i.getNode(),n=e.previousSibling;if("HR"===e.nodeName)return r.remove(e),void t.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(r.remove(n),t.preventDefault())}}}),g(),(()=>{const n=()=>{const n=r.getAttribs(i.getStart().cloneNode(!1));return()=>{const o=i.getStart();o!==e.getBody()&&(r.setAttrib(o,"style",null),t(n,e=>{o.setAttributeNode(e.cloneNode(!0))}))}},o=()=>!i.isCollapsed()&&r.getParent(i.getStart(),r.isBlock)!==r.getParent(i.getEnd(),r.isBlock);e.on("keypress",t=>{let r;return!(!(m(t)||8!==t.keyCode&&46!==t.keyCode)&&o()&&(r=n(),e.getDoc().execCommand("delete",!1),r(),t.preventDefault(),1))}),r.bind(e.getDoc(),"cut",t=>{if(!m(t)&&o()){const t=n();Xm.setEditorTimeout(e,()=>{t()})}})})(),y(),e.on("SetContent ExecCommand",e=>{"setcontent"!==e.type&&"mceInsertLink"!==e.command||t(r.select("a:not([data-mce-block])"),e=>{var t;let n=e.parentNode;const o=r.getRoot();if((null==n?void 0:n.lastChild)===e){for(;n&&!r.isBlock(n);){if((null===(t=n.parentNode)||void 0===t?void 0:t.lastChild)!==n||n===o)return;n=n.parentNode}r.add(n,"br",{"data-mce-bogus":1})}})}),C(),x(),b())),{refreshContentEditable:N,isHidden:()=>{if(!l||e.removed)return!1;const t=e.selection.getSel();return!t||!t.rangeCount||0===t.rangeCount}}})(e),(e=>{e.dispatch("PostRender")})(e);const o=$l(e);void 0!==o&&(n.dir=o);const r=Tc(e);r&&e.on("BeforeSetContent",e=>{Bt.each(r,t=>{e.content=e.content.replace(t,e=>"\x3c!--mce:protected "+escape(e)+"--\x3e")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",t=>{e.composing="compositionstart"===t.type})})(e),i.fold(()=>{sT(e).then(()=>aT(e))},t=>{e.setProgressState(!0),sT(e).then(()=>{t().then(t=>{e.setProgressState(!1),aT(e),Jy(e)},t=>{e.notificationManager.open({type:"error",text:String(t)}),aT(e),Jy(e)})})})},cT=I,dT=ws.DOM,uT=ws.DOM,fT=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),mT=e=>{const t=e.getElement();return e.inline?fT(null):(e=>{const t=uT.create("div");return uT.insertAfter(t,e),fT(t,t)})(t)},pT=ws.DOM,hT=e=>"-"===e.charAt(0),gT=(e,t,n)=>M.from(t).filter(e=>Xe(e)&&!gC.has(e)).map(t=>({url:`${e.editorManager.baseURL}/icons/${t}/icons${n}.js`,name:M.some(t)})),vT=wt().deviceType,bT=vT.isPhone(),yT=vT.isTablet(),CT=e=>{if(y(e))return[];{const t=h(e)?e:e.split(/[ ,]/),n=$(t,We);return X(n,Xe)}},_T=(e,t)=>xe(e.sections(),t),wT=(e,t)=>({table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:we(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1,...t?{menubar:!1}:{}}),xT=(e,t)=>{var n;const o=null!==(n=t.external_plugins)&&void 0!==n?n:{};return e&&e.external_plugins?Bt.extend({},e.external_plugins,o):o},ET=(e,t)=>{const n=e.selection,o=e.dom;return/^ | $/.test(t)?((e,t,n)=>{const o=gn(e.getRoot());return n=gh(o,Na.fromRangeStart(t))?n.replace(/^ /,"&nbsp;"):n.replace(/^&nbsp;/," "),vh(o,Na.fromRangeEnd(t))?n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n.replace(/&nbsp;(<br( \/)?>)?$/," ")})(o,n.getRng(),t):t},ST=(e,t)=>{if(e.selection.isEditable()){const{content:n,details:o}=(e=>{if("string"!=typeof e){const t=Bt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}})(t);Ey(e,{...o,content:ET(e,n),format:"html",set:!1,selection:!0}).each(t=>{const n=((e,t,n)=>Gy(e).editor.insertContent(t,n))(e,t.content,o);Sy(e,n,t),e.addVisual()})}},kT={"font-size":"size","font-family":"face"},NT=Kt("font"),TT=e=>(t,n)=>M.from(n).map(gn).filter(zt).bind(n=>((e,t,n)=>jg(gn(n),t=>(t=>so(t,e).orThunk(()=>NT(t)?we(kT,e).bind(e=>Jt(t,e)):M.none()))(t),e=>Cn(gn(t),e)))(e,t,n.dom).or(((e,t)=>M.from(ws.DOM.getStyle(t,e,!0)))(e,n.dom))).getOr(""),AT=TT("font-size"),RT=S(e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),TT("font-family")),OT=e=>ru(e.getBody()).bind(e=>{const t=e.container();return M.from(Vo(t)?t.parentNode:t)}),DT=(e,t)=>((e,t)=>(e=>M.from(e.selection.getRng()).bind(t=>{const n=e.getBody();return t.startContainer===n&&0===t.startOffset?M.none():M.from(e.selection.getStart(!0))}))(e).orThunk(R(OT,e)).map(gn).filter(zt).bind(t))(e,k(M.some,t)),BT=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const o=(e=>Bt.explode(e.options.get("font_size_style_values")))(e),r=(e=>Bt.explode(e.options.get("font_size_classes")))(e);return r.length>0?r[n-1]||t:o[n-1]||t}return t}return t},LT=e=>{const t=e.split(/\s*,\s*/);return $(t,e=>-1===e.indexOf(" ")||qe(e,'"')||qe(e,"'")?e:`'${e}'`).join(",")},PT=["toggleview"],IT=e=>q(PT,e.toLowerCase());class MT{constructor(e){this.commands={state:{},exec:{},value:{}},this.editor=e}execCommand(e,t=!1,n,o){const r=this.editor,i=e.toLowerCase(),s=null==o?void 0:o.skip_focus;if(r.removed)return!1;if("mcefocus"!==i&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(i)||s?(e=>{Vm(e).each(t=>e.selection.setRng(t))})(r):r.focus()),r.dispatch("BeforeExecCommand",{command:e,ui:t,value:n}).isDefaultPrevented())return!1;const a=this.commands.exec[i];return!!_(a)&&(a(i,t,n),r.dispatch("ExecCommand",{command:e,ui:t,value:n}),!0)}queryCommandState(e){if(!IT(e)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const t=e.toLowerCase(),n=this.commands.state[t];return!!_(n)&&n(t)}queryCommandValue(e){if(!IT(e)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const t=e.toLowerCase(),n=this.commands.value[t];return _(n)?n(t):""}addCommands(e,t="exec"){const n=this.commands;pe(e,(e,o)=>{W(o.toLowerCase().split(","),o=>{n[t][o]=e})})}addCommand(e,t,n){const o=e.toLowerCase();this.commands.exec[o]=(e,o,r)=>t.call(null!=n?n:this.editor,o,r)}queryCommandSupported(e){const t=e.toLowerCase();return!!this.commands.exec[t]}addQueryStateHandler(e,t,n){this.commands.state[e.toLowerCase()]=()=>t.call(null!=n?n:this.editor)}addQueryValueHandler(e,t,n){this.commands.value[e.toLowerCase()]=()=>t.call(null!=n?n:this.editor)}}const jT="data-mce-contenteditable",FT=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch(e){}},HT=(e,t)=>{e.dom.contentEditable=t?"true":"false"},UT=e=>e.readonly,qT=e=>{e.parser.addAttributeFilter("contenteditable",t=>{UT(e)&&W(t,e=>{e.attr(jT,e.attr("contenteditable")),e.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(jT,t=>{UT(e)&&W(t,e=>{e.attr("contenteditable",e.attr(jT))})}),e.serializer.addTempAttr(jT)},zT=["copy"],$T=Bt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class WT{constructor(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||P}static isNative(e){return!!$T[e.toLowerCase()]}fire(e,t){return this.dispatch(e,t)}dispatch(e,t){const n=e.toLowerCase(),o=ss(n,null!=t?t:{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(o);const r=this.bindings[n];if(r)for(let i=0,s=r.length;i<s;i++){const e=r[i];if(!e.removed){if(e.once&&this.off(n,e.func),o.isImmediatePropagationStopped())return o;if(!1===e.func.call(this.scope,o))return o.preventDefault(),o}}return o}on(e,t,n,o){if(!1===t&&(t=P),t){const r={func:t,removed:!1};o&&Bt.extend(r,o);const i=e.toLowerCase().split(" ");let s=i.length;for(;s--;){const e=i[s];let t=this.bindings[e];t||(t=[],this.toggleEvent(e,!0)),t=n?[r,...t]:[...t,r],this.bindings[e]=t}}return this}off(e,t){if(e){const n=e.toLowerCase().split(" ");let o=n.length;for(;o--;){const r=n[o];let i=this.bindings[r];if(!r)return pe(this.bindings,(e,t)=>{this.toggleEvent(t,!1),delete this.bindings[t]}),this;if(i){if(t){const e=K(i,e=>e.func===t);i=e.fail,this.bindings[r]=i,W(e.pass,e=>{e.removed=!0})}else i.length=0;i.length||(this.toggleEvent(e,!1),delete this.bindings[r])}}}else pe(this.bindings,(e,t)=>{this.toggleEvent(t,!1)}),this.bindings={};return this}once(e,t,n){return this.on(e,t,n,{once:!0})}has(e){e=e.toLowerCase();const t=this.bindings[e];return!(!t||0===t.length)}}const VT=e=>(e._eventDispatcher||(e._eventDispatcher=new WT({scope:e,toggleEvent:(t,n)=>{WT.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),KT={fire(e,t,n){return this.dispatch(e,t,n)},dispatch(e,t,n){const o=this;if(o.removed&&"remove"!==e&&"detach"!==e)return ss(e.toLowerCase(),null!=t?t:{},o);const r=VT(o).dispatch(e,t);if(!1!==n&&o.parent){let t=o.parent();for(;t&&!r.isPropagationStopped();)t.dispatch(e,r,!1),t=t.parent?t.parent():void 0}return r},on(e,t,n){return VT(this).on(e,t,n)},off(e,t){return VT(this).off(e,t)},once(e,t){return VT(this).once(e,t)},hasEventListeners(e){return VT(this).has(e)}},XT=ws.DOM;let YT;const GT=(e,t)=>{if("selectionchange"===t)return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const n=Yl(e);return n?(e.eventRoot||(e.eventRoot=XT.select(n)[0]),e.eventRoot):e.getBody()},QT=(e,t,n)=>{(e=>!e.hidden&&!UT(e))(e)?e.dispatch(t,n):UT(e)&&((e,t)=>{if((e=>"click"===e.type)(t)&&!jf.metaKeyPressed(t)){const n=gn(t.target);((e,t)=>Qn(t,"a",t=>Cn(t,gn(e.getBody()))).bind(e=>Jt(e,"href")))(e,n).each(n=>{if(t.preventDefault(),/^#/.test(n)){const t=e.dom.select(`${n},[name="${He(n,"#")}"]`);t.length&&e.selection.scrollIntoView(t[0],!0)}else window.open(n,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else(e=>q(zT,e.type))(t)&&e.dispatch(t.type,t)})(e,n)},JT=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const n=GT(e,t);if(Yl(e)){if(YT||(YT={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||YT&&(pe(YT,(t,n)=>{e.dom.unbind(GT(e,n))}),YT=null)})),YT[t])return;const o=n=>{const o=n.target,r=e.editorManager.get();let i=r.length;for(;i--;){const e=r[i].getBody();(e===o||XT.isChildOf(o,e))&&QT(r[i],t,n)}};YT[t]=o,XT.bind(n,t,o)}else{const o=n=>{QT(e,t,n)};XT.bind(n,t,o),e.delegates[t]=o}},ZT={...KT,bindPendingEventDelegates(){const e=this;Bt.each(e._pendingNativeEvents,t=>{JT(e,t)})},toggleNativeEvent(e,t){const n=this;"focus"!==e&&"blur"!==e&&(n.removed||(t?n.initialized?JT(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(GT(n,e),e,n.delegates[e]),delete n.delegates[e])))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(pe(e.delegates,(t,n)=>{e.dom.unbind(GT(e,n),n,t)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},eA=e=>f(e)?{value:e.split(/[ ,]/),valid:!0}:x(e,f)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},tA=(e,t)=>e+(Ye(t.message)?"":". "+t.message),nA=e=>e.valid,oA=(e,t,n="")=>{const o=t(e);return v(o)?o?{value:e,valid:!0}:{valid:!1,message:n}:o},rA=["design","readonly"],iA=(e,t,n,o)=>{const r=n[t.get()],i=n[o];try{i.activate()}catch(e){return void console.error(`problem while activating editor mode ${o}:`,e)}r.deactivate(),r.editorReadOnly!==i.editorReadOnly&&((e,t)=>{const n=gn(e.getBody());((e,t,n)=>{un(e,t)&&!n?dn(e,t):n&&ln(e,t)})(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),(e=>{M.from(e.selection.getNode()).each(e=>{e.removeAttribute("data-mce-selected")})})(e),e.readonly=!0,HT(n,!1),W(Do(n,'*[contenteditable="true"]'),e=>{Yt(e,jT,"true"),HT(e,!1)})):(e.readonly=!1,HT(n,!0),W(Do(n,'*[data-mce-contenteditable="true"]'),e=>{en(e,jT),HT(e,!0)}),FT(e,"StyleWithCSS",!1),FT(e,"enableInlineTableEditing",!1),FT(e,"enableObjectResizing",!1),(e=>rp(e)||(e=>{const t=Hn(gn(e.getElement()));return jm(t).filter(t=>!Qm(t.dom)&&Jm(e,t.dom)).isSome()})(e))(e)&&e.focus(),(e=>{e.selection.setRng(e.selection.getRng())})(e),e.nodeChanged())})(e,i.editorReadOnly),t.set(o),((e,t)=>{e.dispatch("SwitchMode",{mode:t})})(e,o)},sA=Bt.each,aA=Bt.explode,lA={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},cA=Bt.makeMap("alt,ctrl,shift,meta,access"),dA=e=>{const t={},n=At.os.isMacOS()||At.os.isiOS();sA(aA(e.toLowerCase(),"+"),e=>{(e=>e in cA)(e)?t[e]=!0:/^[0-9]{2,}$/.test(e)?t.keyCode=parseInt(e,10):(t.charCode=e.charCodeAt(0),t.keyCode=lA[e]||e.toUpperCase().charCodeAt(0))});const o=[t.keyCode];let r;for(r in cA)t[r]?o.push(r):t[r]=!1;return t.id=o.join(","),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class uA{constructor(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;const t=this;e.on("keyup keypress keydown",e=>{!t.hasModifier(e)&&!t.isFunctionKey(e)||e.isDefaultPrevented()||(sA(t.shortcuts,n=>{t.matchShortcut(e,n)&&(t.pendingPatterns=n.subpatterns.slice(0),"keydown"===e.type&&t.executeShortcutAction(n))}),t.matchShortcut(e,t.pendingPatterns[0])&&(1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))})}add(e,t,n,o){const r=this,i=r.normalizeCommandFunc(n);return sA(aA(Bt.trim(e)),e=>{const n=r.createShortcut(e,t,i,o);r.shortcuts[n.id]=n}),!0}remove(e){const t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)}normalizeCommandFunc(e){const t=this,n=e;return"string"==typeof n?()=>{t.editor.execCommand(n,!1,null)}:Bt.isArray(n)?()=>{t.editor.execCommand(n[0],n[1],n[2])}:n}createShortcut(e,t,n,o){const r=Bt.map(aA(e,">"),dA);return r[r.length-1]=Bt.extend(r[r.length-1],{func:n,scope:o||this.editor}),Bt.extend(r[0],{desc:this.editor.translate(t),subpatterns:r.slice(1)})}hasModifier(e){return e.altKey||e.ctrlKey||e.metaKey}isFunctionKey(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123}matchShortcut(e,t){return!!t&&t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&t.alt===e.altKey&&t.shift===e.shiftKey&&!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0)}executeShortcutAction(e){return e.func?e.func.call(e.scope):null}}const fA=()=>{const e=(()=>{const e={},t={},n={},o={},r={},i={},s={},a={},l=(e,t)=>(n,o)=>{e[n.toLowerCase()]={...o,type:t}};return{addButton:l(e,"button"),addGroupToolbarButton:l(e,"grouptoolbarbutton"),addToggleButton:l(e,"togglebutton"),addMenuButton:l(e,"menubutton"),addSplitButton:l(e,"splitbutton"),addMenuItem:l(t,"menuitem"),addNestedMenuItem:l(t,"nestedmenuitem"),addToggleMenuItem:l(t,"togglemenuitem"),addAutocompleter:l(n,"autocompleter"),addContextMenu:l(r,"contextmenu"),addContextToolbar:l(i,"contexttoolbar"),addContextForm:l(i,"contextform"),addSidebar:l(s,"sidebar"),addView:l(a,"views"),addIcon:(e,t)=>o[e.toLowerCase()]=t,getAll:()=>({buttons:e,menuItems:t,icons:o,popups:n,contextMenus:r,contextToolbars:i,sidebars:s,views:a})}})();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},mA=ws.DOM,pA=Bt.extend,hA=Bt.each;class gA{constructor(e,t,n){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,pA(this,ZT);const o=this;this.id=e,this.hidden=!1;const r=((e,t)=>((e,t,n,o,r)=>{var i;const s=e?{mobile:wT(null!==(i=r.mobile)&&void 0!==i?i:{},t)}:{},a=((e,t)=>{const n=((t,n)=>{const o={},r={};return be(t,(t,n)=>q(e,n),ve(o),ve(r)),{t:o,f:r}})(t);return o=n.f,{sections:N(n.t),options:N(o)};var o})(["mobile"],AE(s,r)),l=Bt.extend(n,o,a.options(),((e,t)=>e&&_T(t,"mobile"))(e,a)?((e,t,n={})=>{const o=e.sections(),r=we(o,t).getOr({});return Bt.extend({},n,r)})(a,"mobile"):{},{external_plugins:xT(o,a.options())});return((e,t,n,o)=>{const r=CT(n.forced_plugins),i=CT(o.plugins),s=((e,t)=>_T(e,t)?e.sections()[t]:{})(t,"mobile"),a=((e,t)=>[...CT(e),...CT(t)])(r,((e,t,n,o)=>e&&_T(t,"mobile")?o:n)(e,t,i,s.plugins?CT(s.plugins):i));return Bt.extend(o,{forced_plugins:r,plugins:a})})(e,a,o,l)})(bT||yT,bT,t,e,t))(n.defaultOptions,t);this.options=((e,t)=>{const n={},o={},r=(e,t,n)=>{const r=oA(t,n);return nA(r)?(o[e]=r.value,!0):(console.warn(tA(`Invalid value passed for the ${e} option`,r)),!1)},i=e=>xe(n,e);return{register:(e,i)=>{const s=(e=>f(e.processor))(i)?(e=>{const t=(()=>{switch(e){case"array":return h;case"boolean":return v;case"function":return _;case"number":return w;case"object":return m;case"string":return f;case"string[]":return eA;case"object[]":return e=>x(e,m);case"regexp":return e=>u(e,RegExp);default:return I}})();return n=>oA(n,t,`The value must be a ${e}.`)})(i.processor):i.processor,a=((e,t,n)=>{if(!b(t)){const o=oA(t,n);if(nA(o))return o.value;console.error(tA(`Invalid default value passed for the "${e}" option`,o))}})(e,i.default,s);n[e]={...i,default:a,processor:s},we(o,e).orThunk(()=>we(t,e)).each(t=>r(e,t,s))},isRegistered:i,get:e=>we(o,e).orThunk(()=>we(n,e).map(e=>e.default)).getOrUndefined(),set:(e,t)=>{if(i(e)){const o=n[e];return o.immutable?(console.error(`"${e}" is an immutable option and cannot be updated`),!1):r(e,t,o.processor)}return console.warn(`"${e}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:e=>{const t=i(e);return t&&delete o[e],t},isSet:e=>xe(o,e)}})(0,r),(e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:ul(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:ul(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:e=>{const t=f(e)&&Xe(e);return t?{value:e,valid:t}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:e=>{const t=q(["block","linebreak","invert","default"],e);return t?{value:e,valid:t}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:e=>v(e)||f(e)?{valid:!0,value:e}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:e=>{const t=!1===e||f(e)||x(e,f);return t?f(e)?{value:$(e.split(","),We),valid:t}:h(e)?{value:e,valid:t}:!1===e?{value:[],valid:t}:{value:e,valid:t}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:ac(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:e=>{const t=f(e)||x(e,f);return t?{value:h(e)?e:$(e.split(","),We),valid:t}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:e=>{const t=v(e)||f(e);return t?!1===e||il.isiPhone()||il.isiPad()?{value:"",valid:t}:{value:!0===e?"table,img,figure.image,div,video,iframe":e,valid:t}:{valid:!1,message:"Must be boolean or a string"}},default:!sl}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"object"}),t("service_message",{processor:"string"}),t("theme",{processor:e=>!1===e||f(e)||_(e),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:e=>{const t=!1===e||f(e);return t?{value:!1===e?"":e,valid:t}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("readonly",{processor:"boolean",default:!1}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean"}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:"string"}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:dl}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:dl}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:dl}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:e=>f(e)||!0===e}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:e=>x(e,m)||!1===e?{value:rl(!1===e?[]:e),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),t("text_patterns_lookup",{processor:e=>{return _(e)?{value:(t=e,e=>{const n=t(e);return rl(n)}),valid:!0}:{valid:!1,message:"Must be a single function"};var t},default:e=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:e=>x(e,ll)?{value:e,valid:!0}:ll(e)?{value:[e],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!1}),t("xss_sanitization",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:As.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:al.getAttrib(e.getElement(),"placeholder")})})})(o);const i=this.options.get;i("deprecation_warnings")&&((e,t)=>{((e,t)=>{const n=(e=>{const t=uC(e,aC),n=e.forced_root_block;return!1!==n&&""!==n||t.push("forced_root_block (false only)"),se(t)})(e),o=(e=>fC(e,cC))(t),r=o.length>0,i=n.length>0,s="mobile"===t.theme;if(r||i||s){const e="\n- ",t=s?`\n\nThemes:${e}mobile`:"",a=r?`\n\nPlugins:${e}${o.join(e)}`:"",l=i?`\n\nOptions:${e}${n.join(e)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+t+a+l)}})(e,t),((e,t)=>{const n=(e=>uC(e,lC))(e),o=(e=>fC(e,dC.map(e=>e.name)))(t),r=o.length>0,i=n.length>0;if(r||i){const e="\n- ",t=r?`\n\nPlugins:${e}${o.map(mC).join(e)}`:"",s=i?`\n\nOptions:${e}${n.join(e)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+t+s)}})(e,t)})(t,r);const s=i("suffix");s&&(n.suffix=s),this.suffix=n.suffix;const a=i("base_url");a&&n._setBaseUrl(a),this.baseUri=n.baseURI;const l=Il(o);l&&(Es.ScriptLoader._setReferrerPolicy(l),ws.DOM.styleSheetLoader._setReferrerPolicy(l));const c=hc(o);C(c)&&ws.DOM.styleSheetLoader._setContentCssCors(c),Rs.languageLoad=i("language_load"),Rs.baseURL=n.baseURL,this.setDirty(!1),this.documentBaseURI=new ly(pl(o),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=ac(o),this.hasVisual=yc(o),this.shortcuts=new uA(this),this.editorCommands=new MT(this),(e=>{(e=>{(e=>{const t=t=>()=>{W("left,center,right,justify".split(","),n=>{t!==n&&e.formatter.remove("align"+n)}),"none"!==t&&((t,n)=>{e.formatter.toggle(t,void 0),e.nodeChanged()})("align"+t)};e.editorCommands.addCommands({JustifyLeft:t("left"),JustifyCenter:t("center"),JustifyRight:t("right"),JustifyFull:t("justify"),JustifyNone:t("none")})})(e),(e=>{const t=t=>()=>{const n=e.selection,o=n.isCollapsed()?[e.dom.getParent(n.getNode(),e.dom.isBlock)]:n.getSelectedBlocks();return z(o,n=>C(e.formatter.matchNode(n,t)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")})(e)})(e),(e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const n=e.getDoc();let o;try{n.execCommand(t)}catch(e){o=!0}if("paste"!==t||n.queryCommandEnabled(t)||(o=!0),o||!n.queryCommandSupported(t)){let t=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(At.os.isMacOS()||At.os.isiOS())&&(t=t.replace(/Ctrl\+/g,"â+")),e.notificationManager.open({text:t,type:"error"})}}})})(e),(e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})})(e),(e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,o)=>{let r=0;e.dom.getParent(e.selection.getNode(),t=>!Mo(t)||r++!==o||(e.selection.select(t),!1),e.getBody())},mceSelectNode:(t,n,o)=>{e.selection.select(o)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),er);if(t){const n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})})(e),(e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,o)=>{ST(e,e.dom.createHTML("img",{src:o}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,n,o)=>{ST(e,e.dom.encode(o))},insertHTML:(t,n,o)=>{ST(e,o)},mceInsertContent:(t,n,o)=>{ST(e,o)},mceSetContent:(t,n,o)=>{e.setContent(o)},mceReplaceContent:(t,n,o)=>{e.execCommand("mceInsertContent",!1,o.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent("")}})})(e),(e=>{const t=(t,n,o)=>{const r=f(o)?{href:o}:o,i=e.dom.getParent(e.selection.getNode(),"a");m(r)&&f(r.href)&&(r.href=r.href.replace(/ /g,"%20"),i&&r.href||e.formatter.remove("link"),r.href&&e.formatter.apply("link",r,i))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isCollapsed()){const t=e.dom.getParent(e.selection.getStart(),"a");t&&e.dom.remove(t,!0)}else e.formatter.remove("link")},mceInsertLink:t,createLink:t})})(e),(e=>{e.editorCommands.addCommands({Indent:()=>{(e=>{lx(e,"indent")})(e)},Outdent:()=>{cx(e)}}),e.editorCommands.addCommands({Outdent:()=>ix(e)},"state")})(e),(e=>{e.editorCommands.addCommands({insertParagraph:()=>{lk(US,e)},mceInsertNewLine:(t,n,o)=>{ck(e,o)},InsertLineBreak:(t,n,o)=>{lk(YS,e)}})})(e),(e=>{(e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{e.getDoc().execCommand(t);const n=e.dom.getParent(e.selection.getNode(),"ol,ul");if(n){const t=n.parentNode;if(t&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(t.nodeName)){const o=e.selection.getBookmark();e.dom.split(t,n),e.selection.moveToBookmark(o)}}}})})(e),(e=>{e.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":t=>{const n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===t&&"UL"===n.tagName||"insertorderedlist"===t&&"OL"===n.tagName)}},"state")})(e)})(e),(e=>{(e=>{const t=(t,n)=>{e.formatter.toggle(t,n),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>{t(e)},"ForeColor,HiliteColor":(e,n,o)=>{t(e,{value:o})},BackColor:(e,n,o)=>{t("hilitecolor",{value:o})},FontName:(t,n,o)=>{((e,t)=>{const n=BT(e,t);e.formatter.toggle("fontname",{value:LT(n)}),e.nodeChanged()})(e,o)},FontSize:(t,n,o)=>{((e,t)=>{e.formatter.toggle("fontsize",{value:BT(e,t)}),e.nodeChanged()})(e,o)},LineHeight:(t,n,o)=>{((e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()})(e,o)},Lang:(e,n,o)=>{var r;t(e,{value:o.code,customValue:null!==(r=o.customCode)&&void 0!==r?r:null})},RemoveFormat:t=>{e.formatter.remove(t)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(e,n,o)=>{t(f(o)?o:"p")},mceToggleFormat:(e,n,o)=>{t(o)}})})(e),(e=>{const t=t=>e.formatter.match(t);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":e=>t(e),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>(e=>DT(e,t=>RT(e.getBody(),t.dom)).getOr(""))(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>(e=>DT(e,t=>AT(e.getBody(),t.dom)).getOr(""))(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>(e=>DT(e,t=>{const n=gn(e.getBody());return jg(t,e=>so(e,"line-height"),R(Cn,n)).getOrThunk(()=>{const e=parseFloat(ro(t,"line-height")),n=parseFloat(ro(t,"font-size"));return String(e/n)})}).getOr(""))(e))})(e)})(e),(e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,o)=>{const r=null!=o?o:e.selection.getNode();if(r!==e.getBody()){const t=e.selection.getBookmark();e.dom.remove(r,!0),e.selection.moveToBookmark(t)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,o)=>{((e,t)=>{e.removed||(t?ip(e):(e=>{const t=e.selection,n=e.getBody();let o=t.getRng();e.quirks.refreshContentEditable(),C(e.bookmark)&&!rp(e)&&Vm(e).each(t=>{e.selection.setRng(t),o=t});const r=((e,t)=>e.dom.getParent(t,t=>"true"===e.dom.getContentEditable(t)))(e,t.getNode());if(r&&e.dom.isChildOf(r,n))return op(r),np(e,o),void ip(e);e.inline||(At.browser.isOpera()||op(n),e.getWin().focus()),(At.browser.isFirefox()||e.inline)&&(op(n),np(e,o)),ip(e)})(e))})(e,!0===o)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})})(e)})(this);const d=i("cache_suffix");d&&(At.cacheSuffix=d.replace(/^[\?\&]+/,"")),this.ui={registry:fA(),styleSheetLoader:void 0,show:E,hide:E,setEnabled:E,isEnabled:I},this.mode=(e=>{const t=Ss("design"),n=Ss({design:{activate:E,deactivate:E,editorReadOnly:!1},readonly:{activate:E,deactivate:E,editorReadOnly:!0}});return(e=>{e.serializer?qT(e):e.on("PreInit",()=>{qT(e)})})(e),(e=>{e.on("ShowCaret",t=>{UT(e)&&t.preventDefault()}),e.on("ObjectSelected",t=>{UT(e)&&t.preventDefault()})})(e),{isReadOnly:()=>UT(e),set:o=>((e,t,n,o)=>{if(o!==n.get()){if(!xe(t,o))throw new Error(`Editor mode '${o}' is invalid`);e.initialized?iA(e,n,t,o):e.on("init",()=>iA(e,n,t,o))}})(e,n.get(),t,o),get:()=>t.get(),register:(e,t)=>{n.set(((e,t,n)=>{if(q(rA,t))throw new Error("Cannot override default mode "+t);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(e){console.error(`problem while deactivating editor mode ${t}:`,e)}}}}})(n.get(),e,t))}}})(o),n.dispatch("SetupEditor",{editor:this});const p=xc(o);_(p)&&p.call(o,o)}render(){(e=>{const t=e.id;As.setCode(Ml(e));const n=()=>{pT.unbind(window,"ready",n),e.render()};if(!fs.Event.domLoaded)return void pT.bind(window,"ready",n);if(!e.getElement())return;const o=gn(e.getElement()),r=tn(o);e.on("remove",()=>{V(o.dom.attributes,e=>en(o,e.name)),Gt(o,r)}),e.ui.styleSheetLoader=((e,t)=>ki.forElement(e,{contentCssCors:hc(t),referrerPolicy:Il(t)}))(o,e),ac(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const i=e.getElement().form||pT.getParent(t,"form");i&&(e.formElement=i,lc(e)&&!Wo(e.getElement())&&(pT.insertAfter(pT.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=t=>{e.dispatch(t.type,t)},pT.bind(i,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),!cc(e)||i.submit.nodeType||i.submit.length||i._mceOldSubmit||(i._mceOldSubmit=i.submit,i.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),i._mceOldSubmit(i)))),e.windowManager=NC(e),e.notificationManager=EC(e),(e=>"xml"===e.options.get("encoding"))(e)&&e.on("GetContent",e=>{e.save&&(e.content=pT.encode(e.content))}),dc(e)&&e.on("submit",()=>{e.initialized&&e.save()}),uc(e)&&(e._beforeUnload=()=>{!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),((e,t)=>{const n=Es.ScriptLoader,o=()=>{!e.removed&&(e=>{const t=Ql(e);return!f(t)||C(kC.get(t))})(e)&&(e=>{const t=Zl(e);return C(vC.get(t))})(e)&&(async e=>{e.dispatch("ScriptsLoaded"),(e=>{const t=Bt.trim(Al(e)),n=e.ui.registry.getAll().icons,o={...gC.get("default").icons,...gC.get(t).icons};pe(o,(t,o)=>{xe(n,o)||e.ui.registry.addIcon(o,t)})})(e),(e=>{const t=Ql(e);if(f(t)){const n=kC.get(t);e.theme=n(e,kC.urls[t])||{},_(e.theme.init)&&e.theme.init(e,kC.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}})(e),(e=>{const t=Zl(e),n=vC.get(t);e.model=n(e,vC.urls[t])})(e),(e=>{const t=[];W(gc(e),n=>{((e,t,n)=>{const o=SC.get(n),r=SC.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=Bt.trim(n),o&&-1===Bt.inArray(t,n)){if(e.plugins[n])return;try{const i=o(e,r)||{};e.plugins[n]=i,_(i.init)&&(i.init(e,r),t.push(n))}catch(t){((e,t,n)=>{const o=As.translate(["Failed to initialize plugin: {0}",t]);Df(e,"PluginLoadError",{message:o}),DC(o,n),AC(e,o)})(e,n,t)}}})(e,t,(e=>e.replace(/^\-/,""))(n))})})(e);const t=await(e=>{const t=e.getElement();return e.orgDisplay=t.style.display,f(Ql(e))?(e=>{const t=e.theme.renderUI;return t?t():mT(e)})(e):_(Ql(e))?(e=>{const t=e.getElement(),n=Ql(e)(e,t);return n.editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||e.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||e.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:t.offsetHeight,n})(e):mT(e)})(e);((e,t)=>{const n={show:M.from(t.show).getOr(E),hide:M.from(t.hide).getOr(E),isEnabled:M.from(t.isEnabled).getOr(I),setEnabled:n=>{e.mode.isReadOnly()||M.from(t.setEnabled).each(e=>e(n))}};e.ui={...e.ui,...n}})(e,M.from(t.api).getOr({})),e.editorContainer=t.editorContainer,(e=>{e.contentCSS=e.contentCSS.concat((e=>BC(e,Ul(e)))(e),(e=>BC(e,zl(e)))(e))})(e),e.inline?lT(e):((e,t)=>{((e,t)=>{const n=e.translate("Rich Text Area"),o=Jt(gn(e.getElement()),"tabindex").bind(Ge),r=((e,t,n,o)=>{const r=pn("iframe");return o.each(e=>Yt(r,"tabindex",e)),Gt(r,n),Gt(r,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),ln(r,"tox-edit-area__iframe"),r})(e.id,n,fl(e),o).dom;r.onload=()=>{r.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=r,e.iframeHTML=(e=>{let t=ml(e)+"<html><head>";pl(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const n=hl(e),o=gl(e),r=e.translate(wc(e));return vl(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+vl(e)+'" />'),t+=`</head><body id="${n}" class="mce-content-body ${o}" data-id="${e.id}" aria-label="${r}"><br></body></html>`,t})(e),dT.add(t.iframeContainer,r)})(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=dT.isHidden(t.editorContainer)),e.getElement().style.display="none",dT.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,(e=>{const t=e.iframeElement,n=((e,t,n,o)=>((e,t,n,o,r)=>{const i=((e,t)=>n=>{e(n)&&t((e=>{const t=gn(zn(e).getOr(e.target)),n=()=>e.stopPropagation(),o=()=>e.preventDefault(),r=S(o,n);return((e,t,n,o,r,i,s)=>({target:e,x:t,y:n,stop:o,prevent:r,kill:i,raw:s}))(t,e.clientX,e.clientY,n,o,r,e)})(n))})(n,o);return e.dom.addEventListener(t,i,!1),{unbind:R(wo,e,t,i,!1)}})(e,"load",n,o))(gn(t),0,cT,()=>{n.unbind(),e.contentDocument=t.contentDocument,lT(e)});if(At.browser.isFirefox()){const t=e.getDoc();t.open(),t.write(e.iframeHTML),t.close()}else t.srcdoc=e.iframeHTML})(e)})(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})})(e)};((e,t)=>{const n=Ql(e);if(f(n)&&!hT(n)&&!xe(kC.urls,n)){const o=Jl(e),r=o?e.documentBaseURI.toAbsolute(o):`themes/${n}/theme${t}.js`;kC.load(n,r).catch(()=>{((e,t,n)=>{RC(e,"ThemeLoadError",OC("theme",t,n))})(e,r,n)})}})(e,t),((e,t)=>{const n=Zl(e);if("plugin"!==n&&!xe(vC.urls,n)){const o=ec(e),r=f(o)?e.documentBaseURI.toAbsolute(o):`models/${n}/model${t}.js`;vC.load(n,r).catch(()=>{((e,t,n)=>{RC(e,"ModelLoadError",OC("model",t,n))})(e,r,n)})}})(e,t),((e,t)=>{const n=Ml(t),o=jl(t);if(!As.hasCode(n)&&"en"!==n){const r=Xe(o)?o:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(r).catch(()=>{((e,t,n)=>{RC(e,"LanguageLoadError",OC("language",t,n))})(t,r,n)})}})(n,e),((e,t,n)=>{const o=gT(t,"default",n),r=(e=>M.from(Rl(e)).filter(Xe).map(e=>({url:e,name:M.none()})))(t).orThunk(()=>gT(t,Al(t),""));W((e=>{const t=[],n=e=>{t.push(e)};for(let o=0;o<e.length;o++)e[o].each(n);return t})([o,r]),n=>{e.add(n.url).catch(()=>{((e,t,n)=>{RC(e,"IconsLoadError",OC("icons",t,n))})(t,n.url,n.name.getOrUndefined())})})})(n,e,t),((e,t)=>{const n=(t,n)=>{SC.load(t,n).catch(()=>{((e,t,n)=>{RC(e,"PluginLoadError",OC("plugin",t,n))})(e,n,t)})};pe(vc(e),(t,o)=>{n(o,t),e.options.set("plugins",gc(e).concat(o))}),W(gc(e),e=>{!(e=Bt.trim(e))||SC.urls[e]||hT(e)||n(e,`plugins/${e}/plugin${t}.js`)})})(e,t),n.loadQueue().then(o,o)})(e,e.suffix)})(this)}focus(e){this.execCommand("mceFocus",!1,e)}hasFocus(){return rp(this)}translate(e){return As.translate(e)}getParam(e,t,n){const o=this.options;return o.isRegistered(e)||(C(n)?o.register(e,{processor:n,default:t}):o.register(e,{processor:I,default:t})),o.isSet(e)||b(t)?o.get(e):t}hasPlugin(e,t){return!(!q(gc(this),e)||t&&void 0===SC.get(e))}nodeChanged(e){this._nodeChangeDispatcher.nodeChanged(e)}addCommand(e,t,n){this.editorCommands.addCommand(e,t,n)}addQueryStateHandler(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)}addQueryValueHandler(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)}addShortcut(e,t,n,o){this.shortcuts.add(e,t,n,o)}execCommand(e,t,n,o){return this.editorCommands.execCommand(e,t,n,o)}queryCommandState(e){return this.editorCommands.queryCommandState(e)}queryCommandValue(e){return this.editorCommands.queryCommandValue(e)}queryCommandSupported(e){return this.editorCommands.queryCommandSupported(e)}show(){const e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable="true":(mA.show(e.getContainer()),mA.hide(e.id)),e.load(),e.dispatch("show"))}hide(){const e=this;e.hidden||(e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(mA.hide(e.getContainer()),mA.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(e,t){this.dispatch("ProgressState",{state:e,time:t})}load(e={}){const t=this,n=t.getElement();if(t.removed)return"";if(n){const o={...e,load:!0},r=Wo(n)?n.value:n.innerHTML,i=t.setContent(r,o);return o.no_events||t.dispatch("LoadContent",{...o,element:n}),i}return""}save(e={}){const t=this;let n=t.getElement();if(!n||!t.initialized||t.removed)return"";const o={...e,save:!0,element:n};let r=t.getContent(o);const i={...o,content:r};if(i.no_events||t.dispatch("SaveContent",i),"raw"===i.format&&t.dispatch("RawSaveContent",i),r=i.content,Wo(n))n.value=r;else{!e.is_removing&&t.inline||(n.innerHTML=r);const o=mA.getParent(t.id,"form");o&&hA(o.elements,e=>e.name!==t.id||(e.value=r,!1))}return i.element=o.element=n=null,!1!==i.set_dirty&&t.setDirty(!1),r}setContent(e,t){return sC(this,e,t)}getContent(e){return((e,t={})=>{const n=((e,t)=>({...e,format:t,get:!0,getInner:!0}))(t,t.format?t.format:"html");return wy(e,n).fold(T,t=>{const n=((e,t)=>Gy(e).editor.getContent(t))(e,t);return xy(e,n,t)})})(this,e)}insertContent(e,t){t&&(e=pA({content:e},t)),this.execCommand("mceInsertContent",!1,e)}resetContent(e){void 0===e?sC(this,this.startContent,{format:"raw"}):sC(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(e){const t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.dispatch("dirty")}getContainer(){const e=this;return e.container||(e.container=e.editorContainer||mA.get(e.id+"_parent")),e.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=mA.get(this.id)),this.targetElm}getWin(){const e=this;if(!e.contentWindow){const t=e.iframeElement;t&&(e.contentWindow=t.contentWindow)}return e.contentWindow}getDoc(){const e=this;if(!e.contentDocument){const t=e.getWin();t&&(e.contentDocument=t.document)}return e.contentDocument}getBody(){var e,t;const n=this.getDoc();return null!==(t=null!==(e=this.bodyElement)&&void 0!==e?e:null==n?void 0:n.body)&&void 0!==t?t:null}convertURL(e,t,n){const o=this,r=o.options.get,i=Sc(o);return _(i)?i.call(o,e,n,!0,t):!r("convert_urls")||"link"===n||m(n)&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:r("relative_urls")?o.documentBaseURI.toRelative(e):e=o.documentBaseURI.toAbsolute(e,r("remove_script_host"))}addVisual(e){((e,t)=>{((e,t)=>{Qy(this).editor.addVisual(t)})(0,t)})(0,e)}remove(){(e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:n}=e,o=e.getBody(),r=e.getElement();o&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&C(null==r?void 0:r.nextSibling)&&pC.remove(r.nextSibling),(e=>{e.dispatch("remove")})(e),e.editorManager.remove(e),!e.inline&&o&&(e=>{pC.setStyle(e.id,"display",e.orgDisplay)})(e),(e=>{e.dispatch("detach")})(e),pC.remove(e.getContainer()),hC(t),hC(n),e.destroy()}})(this)}destroy(e){((e,t)=>{const{selection:n,dom:o}=e;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),hC(n),hC(o)),(e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),pC.unbind(t,"submit reset",e.formEventDelegate))})(e),(e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const n=e.selection;n&&(t.selection=n.win=n.dom=n.dom.doc=null)})(e),e.destroyed=!0):e.remove())})(this,e)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const vA=ws.DOM,bA=Bt.each;let yA,CA=!1,_A=[];const wA=e=>{const t=e.type;bA(kA.get(),n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e)}})},xA=e=>{if(e!==CA){const t=ws.DOM;e?(t.bind(window,"resize",wA),t.bind(window,"scroll",wA)):(t.unbind(window,"resize",wA),t.unbind(window,"scroll",wA)),CA=e}},EA=e=>{const t=_A;return _A=X(_A,t=>e!==t),kA.activeEditor===e&&(kA.activeEditor=_A.length>0?_A[0]:null),kA.focusedEditor===e&&(kA.focusedEditor=null),t.length!==_A.length},SA="CSS1Compat"!==document.compatMode,kA={...KT,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"4.2",releaseDate:"2023-04-26",i18n:As,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",n="",o=ly.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(o)&&(o=o.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(o)||(o+="/"));const r=window.tinymce||window.tinyMCEPreInit;if(r)t=r.base||r.baseURL,n=r.suffix;else{const e=document.getElementsByTagName("script");for(let o=0;o<e.length;o++){const r=e[o].src||"";if(""===r)continue;const i=r.substring(r.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(r)){-1!==i.indexOf(".min")&&(n=".min"),t=r.substring(0,r.lastIndexOf("/"));break}}if(!t&&document.currentScript){const e=document.currentScript.src;-1!==e.indexOf(".min")&&(n=".min"),t=e.substring(0,e.lastIndexOf("/"))}}var i;e.baseURL=new ly(o).toAbsolute(t),e.documentBaseURL=o,e.baseURI=new ly(e.baseURL),e.suffix=n,(i=e).on("AddEditor",R(ep,i)),i.on("RemoveEditor",R(tp,i))},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;const o=e.plugin_base_urls;void 0!==o&&pe(o,(e,t)=>{Rs.PluginManager.urls[t]=e})},init(e){const t=this;let n;const o=Bt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");let r=e=>{n=e};const i=()=>{let n=0;const s=[];let a;vA.unbind(window,"ready",i),(n=>{const o=e.onpageload;o&&o.apply(t,[])})(),a=((e,t)=>{const n=[],o=_(t)?e=>z(n,n=>t(n,e)):e=>q(n,e);for(let r=0,i=e.length;r<i;r++){const t=e[r];o(t)||n.push(t)}return n})((e=>At.browser.isIE()||At.browser.isEdge()?(DC("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):SA?(DC("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):f(e.selector)?vA.select(e.selector):C(e.target)?[e.target]:[])(e)),Bt.each(a,e=>{var n;(n=t.get(e.id))&&n.initialized&&!(n.getContainer()||n.getBody()).parentNode&&(EA(n),n.unbindAllNativeEvents(),n.destroy(!0),n.removed=!0)}),a=Bt.grep(a,e=>!t.get(e.id)),0===a.length?r([]):bA(a,i=>{((e,t)=>e.inline&&t.tagName.toLowerCase()in o)(e,i)?DC("Could not initialize inline editor on invalid inline target element",i):((e,o,i)=>{const l=new gA(e,o,t);s.push(l),l.on("init",()=>{++n===a.length&&r(s)}),l.targetElm=l.targetElm||i,l.render()})((e=>{let t=e.id;return t||(t=we(e,"name").filter(e=>!vA.get(e)).getOrThunk(vA.uniqueId),e.setAttribute("id",t)),t})(i),e,i)})};return vA.bind(window,"ready",i),new Promise(e=>{n?e(n):r=t=>{e(t)}})},get(e){return 0===arguments.length?_A.slice(0):f(e)?J(_A,t=>t.id===e).getOr(null):w(e)&&_A[e]?_A[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(null===n&&_A.push(e),xA(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),yA||(yA=e=>{const n=t.dispatch("BeforeUnload");if(n.returnValue)return e.preventDefault(),e.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",yA))),e},createEditor(e,t){return this.add(new gA(e,t,this))},remove(e){const t=this;let n;if(e){if(!f(e))return n=e,g(t.get(n.id))?null:(EA(n)&&t.dispatch("RemoveEditor",{editor:n}),0===_A.length&&window.removeEventListener("beforeunload",yA),n.remove(),xA(_A.length>0),n);bA(vA.select(e),e=>{n=t.get(e.id),n&&t.remove(n)})}else for(let o=_A.length-1;o>=0;o--)t.remove(_A[o])},execCommand(e,t,n){var o;const r=this,i=m(n)?null!==(o=n.id)&&void 0!==o?o:n.index:n;switch(e){case"mceAddEditor":return r.get(i)||new gA(i,n.options,r).render(),!0;case"mceRemoveEditor":{const e=r.get(i);return e&&e.remove(),!0}case"mceToggleEditor":{const e=r.get(i);return e?(e.isHidden()?e.show():e.hide(),!0):(r.execCommand("mceAddEditor",!1,n),!0)}}return!!r.activeEditor&&r.activeEditor.execCommand(e,t,n)},triggerSave:()=>{bA(_A,e=>{e.save()})},addI18n:(e,t)=>{As.add(e,t)},translate:e=>As.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new ly(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new ly(this.baseURL)}};kA.setup();const NA=(()=>{const e=Ds();return{FakeClipboardItem:e=>({items:e,types:fe(e),getType:t=>we(e,t).getOrUndefined()}),write:t=>{e.set(t)},read:()=>e.get().getOrUndefined(),clear:e.clear}})(),TA=Math.min,AA=Math.max,RA=Math.round,OA=(e,t,n)=>{let o=t.x,r=t.y;const i=e.w,s=e.h,a=t.w,l=t.h,c=(n||"").split("");return"b"===c[0]&&(r+=l),"r"===c[1]&&(o+=a),"c"===c[0]&&(r+=RA(l/2)),"c"===c[1]&&(o+=RA(a/2)),"b"===c[3]&&(r-=s),"r"===c[4]&&(o-=i),"c"===c[3]&&(r-=RA(s/2)),"c"===c[4]&&(o-=RA(i/2)),DA(o,r,i,s)},DA=(e,t,n,o)=>({x:e,y:t,w:n,h:o}),BA={inflate:(e,t,n)=>DA(e.x-t,e.y-n,e.w+2*t,e.h+2*n),relativePosition:OA,findBestRelativePosition:(e,t,n,o)=>{for(let r=0;r<o.length;r++){const i=OA(e,t,o[r]);if(i.x>=n.x&&i.x+i.w<=n.w+n.x&&i.y>=n.y&&i.y+i.h<=n.h+n.y)return o[r]}return null},intersect:(e,t)=>{const n=AA(e.x,t.x),o=AA(e.y,t.y),r=TA(e.x+e.w,t.x+t.w),i=TA(e.y+e.h,t.y+t.h);return r-n<0||i-o<0?null:DA(n,o,r-n,i-o)},clamp:(e,t,n)=>{let o=e.x,r=e.y,i=e.x+e.w,s=e.y+e.h;const a=t.x+t.w,l=t.y+t.h,c=AA(0,t.x-o),d=AA(0,t.y-r),u=AA(0,i-a),f=AA(0,s-l);return o+=c,r+=d,n&&(i+=c,s+=d,o-=u,r-=f),i-=u,s-=f,DA(o,r,i-o,s-r)},create:DA,fromClientRect:e=>DA(e.left,e.top,e.width,e.height)},LA=(()=>{const e={},t={};return{load:(n,o)=>{const r=`Script at URL "${o}" failed to load`,i=`Script at URL "${o}" did not call \`tinymce.Resource.add('${n}', data)\` within 1 second`;if(void 0!==e[n])return e[n];{const s=new Promise((e,s)=>{const a=((e,t,n=1e3)=>{let o=!1,r=null;const i=e=>(...t)=>{o||(o=!0,null!==r&&(clearTimeout(r),r=null),e.apply(null,t))},s=i(e),a=i(t);return{start:(...e)=>{o||null!==r||(r=setTimeout(()=>a.apply(null,e),n))},resolve:s,reject:a}})(e,s);t[n]=a.resolve,Es.ScriptLoader.loadScript(o).then(()=>a.start(i),()=>a.reject(r))});return e[n]=s,s}},add:(n,o)=>{void 0!==t[n]&&(t[n](o),delete t[n]),e[n]=Promise.resolve(o)},unload:t=>{delete e[t]}}})();let PA;try{const e="__storage_test__";PA=window.localStorage,PA.setItem(e,e),PA.removeItem(e)}catch(e){PA=(()=>{let e={},t=[];const n={getItem:t=>e[t]||null,setItem:(n,o)=>{t.push(n),e[n]=String(o)},key:e=>t[e],removeItem:n=>{t=t.filter(e=>e===n),delete e[n]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),n})()}const IA=Bt.extend(kA,{geom:{Rect:BA},util:{Delay:Xm,Tools:Bt,VK:jf,URI:ly,EventDispatcher:WT,Observable:KT,I18n:As,LocalStorage:PA,ImageUploader:e=>{const t=LC(),n=MC(e,t);return{upload:(t,o=!0)=>n.upload(t,o?IC(e):void 0)}}},dom:{EventUtils:fs,TreeWalker:Lo,TextSeeker:Js,DOMUtils:ws,ScriptLoader:Es,RangeUtils:hm,Serializer:iC,StyleSheetLoader:Si,ControlSelection:zf,BookmarkManager:Rf,Selection:oC,Event:fs.Event},html:{Styles:os,Entities:zi,Node:yp,Schema:ns,DomParser:Cy,Writer:Np,Serializer:Tp},Env:At,AddOnManager:Rs,Annotator:Af,Formatter:XC,UndoManager:GC,EditorCommands:MT,WindowManager:NC,NotificationManager:EC,EditorObservable:ZT,Shortcuts:uA,Editor:gA,FocusManager:Km,EditorManager:kA,DOM:ws.DOM,ScriptLoader:Es.ScriptLoader,PluginManager:SC,ThemeManager:kC,ModelManager:vC,IconManager:gC,Resource:LA,FakeClipboard:NA,trim:Bt.trim,isArray:Bt.isArray,is:Bt.is,toArray:Bt.toArray,makeMap:Bt.makeMap,each:Bt.each,map:Bt.map,grep:Bt.grep,inArray:Bt.inArray,extend:Bt.extend,walk:Bt.walk,resolve:Bt.resolve,explode:Bt.explode,_addCacheSuffix:Bt._addCacheSuffix});(e=>{window.tinymce=e,window.tinyMCE=e})(IA),(e=>{if("object"==typeof module)try{module.exports=e}catch(e){}})(IA)}();