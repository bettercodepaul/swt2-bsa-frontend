(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"9N29":function(e,t,n){"use strict";n.r(t),n.d(t,"UserModule",(function(){return y}));var r=n("ofXK"),o=n("3Pt+"),i=n("tyNb"),a=n("btWG"),l=n("th7h"),s=n("fXoL");let c=(()=>{class e{constructor(e){this.currentUserService=e}canActivate(){return this.currentUserService.hasAnyPermisson([])}}return e.\u0275fac=function(t){return new(t||e)(s.Ub(l.a))},e.\u0275prov=s.Hb({token:e,factory:e.\u0275fac}),e})();var b=n("X628"),d=n("AytR"),u=n("Rkqy"),g=n("VQQ0"),P=n("U19w"),R=n("RBHD"),E=n("SMp3");const f={moduleTranslationKey:"USER",pageTitleTranslationKey:"USER.LOGIN.TITLE"};var h=n("NJqk"),m=n("w90F"),p=n("LJ8u"),L=n("/2r1"),M=n("sYmb");function O(e,t){if(1&e){const e=s.Rb();s.Qb(0,"div"),s.Qb(1,"bla-alert",29),s.Qb(2,"p"),s.Bc(3,"Username: admin@bogenliga.de "),s.Mb(4,"br"),s.Bc(5,"Password: admin"),s.Mb(6,"br"),s.Bc(7,"Rolle: ADMIN"),s.Mb(8,"br"),s.Qb(9,"bla-button",30),s.Xb("onClick",(function(t){return s.pc(e),s.Zb().onAutoLogin(t)})),s.Bc(10,"Login als Admin "),s.Pb(),s.Pb(),s.Qb(11,"p"),s.Bc(12,"Username: moderator@bogenliga.de "),s.Mb(13,"br"),s.Bc(14,"Password: moderator"),s.Mb(15,"br"),s.Bc(16,"Rolle: MODERATOR"),s.Mb(17,"br"),s.Qb(18,"bla-button",31),s.Xb("onClick",(function(t){return s.pc(e),s.Zb().onAutoLogin(t)})),s.Bc(19,"Login als Moderator "),s.Pb(),s.Pb(),s.Qb(20,"p"),s.Bc(21,"Username: user@bogenliga.de "),s.Mb(22,"br"),s.Bc(23,"Password: user "),s.Mb(24,"br"),s.Bc(25,"Rolle: USER"),s.Mb(26,"br"),s.Qb(27,"bla-button",31),s.Xb("onClick",(function(t){return s.pc(e),s.Zb().onAutoLogin(t)})),s.Bc(28,"Login als User "),s.Pb(),s.Pb(),s.Qb(29,"p"),s.Bc(30,"Username: Malorie.Artman@bogenliga.de "),s.Mb(31,"br"),s.Bc(32,"Password: swt2 "),s.Mb(33,"br"),s.Bc(34,"Rolle: USER"),s.Mb(35,"br"),s.Qb(36,"bla-button",31),s.Xb("onClick",(function(t){return s.pc(e),s.Zb().onAutoLogin(t)})),s.Bc(37,"Login als Test-Benutzer "),s.Pb(),s.Pb(),s.Qb(38,"p"),s.Bc(39,"Username: Nicholas.Corle@bogenliga.de "),s.Mb(40,"br"),s.Bc(41,"Password: swt2 "),s.Mb(42,"br"),s.Bc(43,"Rolle: MODERATOR"),s.Mb(44,"br"),s.Qb(45,"bla-button",31),s.Xb("onClick",(function(t){return s.pc(e),s.Zb().onAutoLogin(t)})),s.Bc(46,"Login als Test-Moderator "),s.Pb(),s.Pb(),s.Qb(47,"p"),s.Bc(48,"Username: TeamLigaleiter@bogenliga.de "),s.Mb(49,"br"),s.Bc(50,"Password: swt2 "),s.Mb(51,"br"),s.Bc(52,"Rolle: LIGALEITER"),s.Mb(53,"br"),s.Qb(54,"bla-button",31),s.Xb("onClick",(function(t){return s.pc(e),s.Zb().onAutoLogin(t)})),s.Bc(55,"Login f\xfcr Team Ligaleiter "),s.Pb(),s.Pb(),s.Qb(56,"p"),s.Bc(57,"Username: TeamSportleiter@bogenliga.de "),s.Mb(58,"br"),s.Bc(59,"Password: swt2 "),s.Mb(60,"br"),s.Bc(61,"Rolle: SPORTLEITER"),s.Mb(62,"br"),s.Qb(63,"bla-button",31),s.Xb("onClick",(function(t){return s.pc(e),s.Zb().onAutoLogin(t)})),s.Bc(64,"Login f\xfcr Team Sportleiter "),s.Pb(),s.Pb(),s.Qb(65,"p"),s.Bc(66,"Username: TeamModerator@bogenliga.de "),s.Mb(67,"br"),s.Bc(68,"Password: swt2 "),s.Mb(69,"br"),s.Bc(70,"Rolle: MODERATOR"),s.Mb(71,"br"),s.Qb(72,"bla-button",31),s.Xb("onClick",(function(t){return s.pc(e),s.Zb().onAutoLogin(t)})),s.Bc(73,"Login f\xfcr Team Moderator "),s.Pb(),s.Pb(),s.Pb(),s.Pb()}if(2&e){const e=s.Zb();s.zb(1),s.fc("alertType",e.AlertType.INFO),s.zb(8),s.fc("buttonSize",e.ButtonSize.SMALL)("value",e.testAdminUser),s.zb(9),s.fc("buttonSize",e.ButtonSize.SMALL)("value",e.testModeratorUser),s.zb(9),s.fc("buttonSize",e.ButtonSize.SMALL)("value",e.testUserUser),s.zb(9),s.fc("buttonSize",e.ButtonSize.SMALL)("value",e.testDummyUserUser),s.zb(9),s.fc("buttonSize",e.ButtonSize.SMALL)("value",e.testDummyModeratorUser),s.zb(9),s.fc("buttonSize",e.ButtonSize.SMALL)("value",e.testTeamLigaleiter),s.zb(9),s.fc("buttonSize",e.ButtonSize.SMALL)("value",e.testTeamSportleiter),s.zb(9),s.fc("buttonSize",e.ButtonSize.SMALL)("value",e.testTeamModerator)}}let S=(()=>{class e{constructor(e,t,n,r){this.loginDataProviderService=e,this.currentUserService=t,this.route=n,this.router=r,this.credentials=new R.a,this.loading=!1,this.loginResult=E.a.PENDING,this.ButtonSize=g.b,this.AlertType=u.b,this.LoginResult=E.a,this.inProd=d.a.production,this.isSpotterAuthenticationEnabled=!1,this.testAdminUser=new R.a("admin@bogenliga.de","admin"),this.testModeratorUser=new R.a("moderator@bogenliga.de","moderator"),this.testUserUser=new R.a("user@bogenliga.de","user"),this.testDummyModeratorUser=new R.a("Nicholas.Corle@bogenliga.de","swt2"),this.testDummyUserUser=new R.a("Malorie.Artman@bogenliga.de","swt2"),this.testTeamLigaleiter=new R.a("TeamLigaleiter@bogenliga.de","swt2"),this.testTeamSportleiter=new R.a("TeamSportleiter@bogenliga.de","swt2"),this.testTeamModerator=new R.a("TeamModerator@bogenliga.de","swt2"),this.config=f,this.destinationRouteAfterLogin="/home"}ngOnInit(){this.route.queryParams.subscribe(e=>{Object(b.c)(e.destination)||(this.destinationRouteAfterLogin=e.destination)}),this.initRememberedUsername()}onLogin(e){this.loading=!0,this.currentUserService.disableDefaultUser(),this.loginDataProviderService.signIn(this.credentials).then(()=>this.handleSuccessfulLogin(),e=>this.showFailedLogin(e))}onSpotterLogin(e){this.destinationRouteAfterLogin="/spotter/authentication",this.credentials=e,this.onLogin(null)}onAutoLogin(e){this.credentials=e,this.onLogin(null)}initRememberedUsername(){this.credentials.username=this.loginDataProviderService.getEmailAddress(),Object(b.a)(this.credentials.username)||(this.credentials.rememberMe=!0)}showFailedLogin(e){this.loading=!1,this.loginResult=e}handleSuccessfulLogin(){this.loading=!1,this.loginResult=E.a.SUCCESS,this.router.navigateByUrl(this.destinationRouteAfterLogin)}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(P.a),s.Lb(h.a),s.Lb(i.a),s.Lb(i.c))},e.\u0275cmp=s.Fb({type:e,selectors:[["bla-login"]],decls:68,vars:82,consts:[[3,"config"],["id","login"],["id","login-dialog"],[3,"visible","header","alertType"],[1,"card","mb-4","shadow-sm"],[1,"card-body","login-dialog"],["id","loginForm"],["loginForm","ngForm"],[1,"imgcontainer"],["src","assets/img/logo.png","alt","Logo",1,"avatar"],[1,"h3","mb-3","font-weight-normal"],[1,"container"],[1,"form-group"],["for","loginEmail"],["type","email","name","loginEmail","id","loginEmail","required","","pattern","^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,63}$",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["loginEmail","ngModel"],[1,"invalid-feedback"],["for","loginPassword"],["type","password","id","loginPassword","name","loginPassword","required","","minlength","3",1,"form-control",3,"ngModel","placeholder","ngModelChange","keyup.enter"],["loginPassword","ngModel"],["for","loginCode"],["type","text","id","loginCode","name","loginCode","minlength","3",1,"form-control",3,"ngModel","placeholder","ngModelChange","keyup.enter"],["loginCode","ngModel"],[1,"form-group","form-check"],["type","checkbox","id","loginRememberMe","name","loginRememberMe",1,"form-check-input",3,"ngModel","ngModelChange"],["for","loginRememberMe",1,"form-check-label"],[3,"id","buttonSize","disabled","loading","onClick"],[3,"buttonSize","disabled","visible","onClick"],[4,"ngIf"],["header","Testbenutzer:",3,"alertType"],["data-cy","login-als-admin-button",3,"buttonSize","value","onClick"],[3,"buttonSize","value","onClick"]],template:function(e,t){if(1&e&&(s.Qb(0,"bla-common-dialog",0),s.Qb(1,"div",1),s.Qb(2,"div",2),s.Qb(3,"bla-alert",3),s.ac(4,"translate"),s.Bc(5),s.ac(6,"translate"),s.Pb(),s.Qb(7,"bla-alert",3),s.ac(8,"translate"),s.Bc(9),s.ac(10,"translate"),s.Pb(),s.Qb(11,"bla-alert",3),s.ac(12,"translate"),s.Bc(13),s.ac(14,"translate"),s.Pb(),s.Qb(15,"div",4),s.Qb(16,"div",5),s.Qb(17,"form",6,7),s.Qb(19,"div",8),s.Mb(20,"img",9),s.Qb(21,"h5",10),s.Bc(22),s.ac(23,"translate"),s.Pb(),s.Pb(),s.Qb(24,"div",11),s.Qb(25,"div",12),s.Qb(26,"label",13),s.Bc(27),s.ac(28,"translate"),s.Pb(),s.Qb(29,"input",14,15),s.Xb("ngModelChange",(function(e){return t.credentials.username=e})),s.ac(31,"translate"),s.Pb(),s.Qb(32,"div",16),s.Bc(33),s.ac(34,"translate"),s.Pb(),s.Pb(),s.Qb(35,"div",12),s.Qb(36,"label",17),s.Bc(37),s.ac(38,"translate"),s.Pb(),s.Qb(39,"input",18,19),s.Xb("ngModelChange",(function(e){return t.credentials.password=e}))("keyup.enter",(function(e){return t.onLogin(e)})),s.ac(41,"translate"),s.Pb(),s.Qb(42,"div",16),s.Bc(43),s.ac(44,"translate"),s.Pb(),s.Pb(),s.Qb(45,"div",12),s.Qb(46,"label",20),s.Bc(47),s.ac(48,"translate"),s.Pb(),s.Qb(49,"input",21,22),s.Xb("ngModelChange",(function(e){return t.credentials.code=e}))("keyup.enter",(function(e){return t.onLogin(e)})),s.ac(51,"translate"),s.Pb(),s.Qb(52,"div",16),s.Bc(53),s.ac(54,"translate"),s.Pb(),s.Pb(),s.Qb(55,"div",23),s.Qb(56,"input",24),s.Xb("ngModelChange",(function(e){return t.credentials.rememberMe=e})),s.Pb(),s.Qb(57,"label",25),s.Bc(58),s.ac(59,"translate"),s.Pb(),s.Pb(),s.Qb(60,"bla-button",26),s.Xb("onClick",(function(e){return t.onLogin(e)})),s.Bc(61),s.ac(62,"translate"),s.Pb(),s.Mb(63,"br"),s.Qb(64,"bla-button",27),s.Xb("onClick",(function(){return t.onSpotterLogin(t.testModeratorUser)})),s.Bc(65),s.ac(66,"translate"),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.zc(67,O,74,17,"div",28),s.Pb(),s.Pb(),s.Pb()),2&e){const e=s.oc(18),n=s.oc(30),r=s.oc(40),o=s.oc(50);s.fc("config",t.config),s.zb(3),s.gc("header",s.bc(4,44,"USER.LOGIN.NOTIFICATION.LOGIN_SUCCESSFUL.HEADER")),s.fc("visible",t.loginResult===t.LoginResult.SUCCESS)("alertType",t.AlertType.SUCCESS),s.zb(2),s.Dc(" ",s.bc(6,46,"USER.LOGIN.NOTIFICATION.LOGIN_SUCCESSFUL.TEXT")," "),s.zb(2),s.gc("header",s.bc(8,48,"USER.LOGIN.NOTIFICATION.LOGIN_FAILURE.HEADER")),s.fc("visible",t.loginResult===t.LoginResult.FAILURE)("alertType",t.AlertType.DANGER),s.zb(2),s.Dc(" ",s.bc(10,50,"USER.LOGIN.NOTIFICATION.LOGIN_FAILURE.TEXT")," "),s.zb(2),s.gc("header",s.bc(12,52,"USER.LOGIN.NOTIFICATION.LOGIN_CONNECTION_PROBLEM.HEADER")),s.fc("visible",t.loginResult===t.LoginResult.CONNECTION_PROBLEM)("alertType",t.AlertType.WARNING),s.zb(2),s.Dc(" ",s.bc(14,54,"USER.LOGIN.NOTIFICATION.LOGIN_CONNECTION_PROBLEM.TEXT")," "),s.zb(9),s.Cc(s.bc(23,56,"USER.LOGIN.HEADER")),s.zb(5),s.Cc(s.bc(28,58,"USER.LOGIN.USERNAME.LABEL")),s.zb(2),s.Db("is-invalid",n.invalid&&!n.untouched||t.loginResult===t.LoginResult.FAILURE),s.gc("placeholder",s.bc(31,60,"USER.LOGIN.USERNAME.LABEL")),s.fc("ngModel",t.credentials.username),s.zb(4),s.Dc(" ",s.bc(34,62,"USER.LOGIN.USERNAME.ERROR")," "),s.zb(4),s.Cc(s.bc(38,64,"USER.LOGIN.PASSWORD.LABEL")),s.zb(2),s.Db("is-invalid",r.invalid&&!r.untouched||t.loginResult===t.LoginResult.FAILURE),s.gc("placeholder",s.bc(41,66,"USER.LOGIN.PASSWORD.PLACEHOLDER")),s.fc("ngModel",t.credentials.password),s.zb(4),s.Dc(" ",s.bc(44,68,"USER.LOGIN.PASSWORD.ERROR")," "),s.zb(4),s.Cc(s.bc(48,70,"USER.LOGIN.CODE.LABEL")),s.zb(2),s.Db("is-invalid",o.invalid&&!o.untouched||t.loginResult===t.LoginResult.FAILURE),s.gc("placeholder",s.bc(51,72,"USER.LOGIN.CODE.PLACEHOLDER")),s.fc("ngModel",t.credentials.code),s.zb(4),s.Dc(" ",s.bc(54,74,"USER.LOGIN.CODE.ERROR")," "),s.zb(3),s.fc("ngModel",t.credentials.rememberMe),s.zb(2),s.Cc(s.bc(59,76,"USER.LOGIN.REMEMBER_ME.LABEL")),s.zb(2),s.fc("id","loginButton")("buttonSize",t.ButtonSize.LARGE_BLOCK)("disabled",!e.valid)("loading",t.loading),s.zb(1),s.Dc("",s.bc(62,78,"USER.LOGIN.BUTTON.LOGIN")," "),s.zb(3),s.fc("buttonSize",t.ButtonSize.SMALL)("disabled",!t.isSpotterAuthenticationEnabled)("visible",t.isSpotterAuthenticationEnabled),s.zb(1),s.Dc(" ",s.bc(66,80,"SPOTTER.LINK.TEXT")," "),s.zb(2),s.fc("ngIf",!(!0===t.inProd))}},directives:[m.a,p.a,o.D,o.o,o.p,o.c,o.y,o.u,o.n,o.q,o.m,o.a,L.a,r.t],pipes:[M.d],styles:["#login[_ngcontent-%COMP%]{display:flex;justify-content:center}#login-dialog[_ngcontent-%COMP%]{width:500px;max-width:500px}.imgcontainer[_ngcontent-%COMP%]{text-align:center;margin:24px 0 12px}img.avatar[_ngcontent-%COMP%]{width:40%;border-radius:50%}"]}),e})();var U=n("PEb7"),v=n("gQPg"),C=n("/k8H"),A=n("XUa0");const I={moduleTranslationKey:"USER",pageTitleTranslationKey:"USER.PROFILE.TITLE"};var w=n("20cS");let T=(()=>{class e extends U.CommonComponentDirective{constructor(e,t,n,r,o,i){super(),this.userProfileDataProvider=e,this.router=t,this.route=n,this.notificationService=r,this.currentUserService=o,this.onOfflineService=i,this.config=I,this.ButtonType=U.ButtonType,this.currentUserProfile=new A.a,this.sessionHandling=new w.a(this.currentUserService,this.onOfflineService)}ngOnInit(){this.loading=!0,this.notificationService.discardNotification(),this.loadCurrentUserProfile()}onMouseOver(e){this.sessionHandling.checkSessionExpired()&&window.location.reload()}loadCurrentUserProfile(){this.userProfileDataProvider.findCurrentUserProfile().then(e=>this.handleSuccess(e)).catch(e=>this.handleFailure(e))}handleSuccess(e){this.currentUserProfile=e.payload,this.loading=!1}handleFailure(e){this.loading=!1}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(C.a),s.Lb(i.c),s.Lb(i.a),s.Lb(v.c),s.Lb(h.a),s.Lb(h.i))},e.\u0275cmp=s.Fb({type:e,selectors:[["bla-user-profile"]],features:[s.yb([]),s.wb],decls:102,vars:86,consts:[[3,"config","loading"],[3,"mouseover"],["id","userProfileForm",1,"horizontal-form","half-page"],["userProfileForm","ngForm"],[1,"form-group","row"],["for","userProfileVorname",1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["type","text","readonly","","id","userProfileVorname","name","userProfileVorname",1,"form-control-plaintext",3,"ngModel","placeholder","ngModelChange"],["userProfileVorname","ngModel"],[1,"invalid-feedback"],["for","userProfileNachname",1,"col-sm-3","col-form-label"],["type","text","readonly","","id","userProfileNachname","name","userProfileNachname",1,"form-control-plaintext",3,"ngModel","placeholder","ngModelChange"],["userProfileNachname","ngModel"],["for","userProfileEmail",1,"col-sm-3","col-form-label"],["type","text","readonly","","id","userProfileEmail","name","userProfileEmail",1,"form-control-plaintext",3,"ngModel","placeholder","ngModelChange"],["userProfileEmail","ngModel"],["for","userProfileGeburtsdatum",1,"col-sm-3","col-form-label"],["type","text","readonly","","pattern","[0-9]{4}-[0-9]{2}-[0-9]{2}","id","userProfileGeburtsdatum","name","userProfileGeburtsdatum",1,"form-control-plaintext",3,"ngModel","placeholder","ngModelChange"],["userProfileGeburtsdatum","ngModel"],["for","userProfileMitgliedsnummer",1,"col-sm-3","col-form-label"],["type","text","readonly","","id","userProfileMitgliedsnummer","name","userProfileMitgliedsnummer",1,"form-control-plaintext",3,"ngModel","placeholder","ngModelChange"],["userProfileMitgliedsnummer","ngModel"],["for","userProfileNationalitaet",1,"col-sm-3","col-form-label"],["type","text","readonly","","pattern","[D|AT|CH|FR|IT|GB]","id","userProfileNationalitaet","name","userProfileNationalitaet",1,"form-control-plaintext",3,"ngModel","placeholder","ngModelChange"],["userProfileNationalitaet","ngModel"],["for","userProfileVerein",1,"col-sm-3","col-form-label"],["type","text","readonly","","id","userProfileVerein","name","userProfileVerein",1,"form-control-plaintext",3,"ngModel","placeholder","ngModelChange"],["userProfileVerein","ngModel"]],template:function(e,t){if(1&e&&(s.Qb(0,"bla-common-dialog",0),s.Qb(1,"div",1),s.Xb("mouseover",(function(e){return t.onMouseOver(e)})),s.Qb(2,"form",2,3),s.Qb(4,"div",4),s.Qb(5,"label",5),s.Qb(6,"span"),s.Bc(7),s.ac(8,"translate"),s.Pb(),s.Qb(9,"span"),s.Bc(10," *"),s.Pb(),s.Pb(),s.Qb(11,"div",6),s.Qb(12,"input",7,8),s.Xb("ngModelChange",(function(e){return t.currentUserProfile.vorname=e})),s.ac(14,"translate"),s.Pb(),s.Qb(15,"div",9),s.Bc(16),s.ac(17,"translate"),s.Pb(),s.Pb(),s.Pb(),s.Qb(18,"div",4),s.Qb(19,"label",10),s.Qb(20,"span"),s.Bc(21),s.ac(22,"translate"),s.Pb(),s.Qb(23,"span"),s.Bc(24," *"),s.Pb(),s.Pb(),s.Qb(25,"div",6),s.Qb(26,"input",11,12),s.Xb("ngModelChange",(function(e){return t.currentUserProfile.nachname=e})),s.ac(28,"translate"),s.Pb(),s.Qb(29,"div",9),s.Bc(30),s.ac(31,"translate"),s.Pb(),s.Pb(),s.Pb(),s.Qb(32,"div",4),s.Qb(33,"label",13),s.Qb(34,"span"),s.Bc(35),s.ac(36,"translate"),s.Pb(),s.Qb(37,"span"),s.Bc(38," *"),s.Pb(),s.Pb(),s.Qb(39,"div",6),s.Qb(40,"input",14,15),s.Xb("ngModelChange",(function(e){return t.currentUserProfile.email=e})),s.ac(42,"translate"),s.Pb(),s.Qb(43,"div",9),s.Bc(44),s.ac(45,"translate"),s.Pb(),s.Pb(),s.Pb(),s.Qb(46,"div",4),s.Qb(47,"label",16),s.Qb(48,"span"),s.Bc(49),s.ac(50,"translate"),s.Pb(),s.Qb(51,"span"),s.Bc(52," *"),s.Pb(),s.Pb(),s.Qb(53,"div",6),s.Qb(54,"input",17,18),s.Xb("ngModelChange",(function(e){return t.currentUserProfile.geburtsdatum=e})),s.ac(56,"translate"),s.Pb(),s.Qb(57,"div",9),s.Bc(58),s.ac(59,"translate"),s.Pb(),s.Pb(),s.Pb(),s.Qb(60,"div",4),s.Qb(61,"label",19),s.Qb(62,"span"),s.Bc(63),s.ac(64,"translate"),s.Pb(),s.Qb(65,"span"),s.Bc(66," *"),s.Pb(),s.Pb(),s.Qb(67,"div",6),s.Qb(68,"input",20,21),s.Xb("ngModelChange",(function(e){return t.currentUserProfile.mitgliedsnummer=e})),s.ac(70,"translate"),s.Pb(),s.Qb(71,"div",9),s.Bc(72),s.ac(73,"translate"),s.Pb(),s.Pb(),s.Pb(),s.Qb(74,"div",4),s.Qb(75,"label",22),s.Qb(76,"span"),s.Bc(77),s.ac(78,"translate"),s.Pb(),s.Qb(79,"span"),s.Bc(80," *"),s.Pb(),s.Pb(),s.Qb(81,"div",6),s.Qb(82,"input",23,24),s.Xb("ngModelChange",(function(e){return t.currentUserProfile.nationalitaet=e})),s.ac(84,"translate"),s.Pb(),s.Qb(85,"div",9),s.Bc(86),s.ac(87,"translate"),s.Pb(),s.Pb(),s.Pb(),s.Qb(88,"div",4),s.Qb(89,"label",25),s.Qb(90,"span"),s.Bc(91),s.ac(92,"translate"),s.Pb(),s.Qb(93,"span"),s.Bc(94," *"),s.Pb(),s.Pb(),s.Qb(95,"div",6),s.Qb(96,"input",26,27),s.Xb("ngModelChange",(function(e){return t.currentUserProfile.vereinsId=e})),s.ac(98,"translate"),s.Pb(),s.Qb(99,"div",9),s.Bc(100),s.ac(101,"translate"),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb()),2&e){const e=s.oc(13),n=s.oc(27),r=s.oc(41),o=s.oc(55),i=s.oc(69),a=s.oc(83),l=s.oc(97);s.fc("config",t.config)("loading",t.loading),s.zb(7),s.Cc(s.bc(8,44,"USER.PROFILE.FORM.VORNAME.LABEL")),s.zb(5),s.Db("is-invalid",e.invalid&&!e.untouched),s.gc("placeholder",s.bc(14,46,"USER.PROFILE.FORM.VORNAME.PLACEHOLDER")),s.fc("ngModel",t.currentUserProfile.vorname),s.zb(4),s.Dc(" ",s.bc(17,48,"USER.PROFILE.FORM.VORNAME.ERROR")," "),s.zb(5),s.Cc(s.bc(22,50,"USER.PROFILE.FORM.NACHNAME.LABEL")),s.zb(5),s.Db("is-invalid",n.invalid&&!n.untouched),s.gc("placeholder",s.bc(28,52,"USER.PROFILE.FORM.NACHNAME.PLACEHOLDER")),s.fc("ngModel",t.currentUserProfile.nachname),s.zb(4),s.Dc(" ",s.bc(31,54,"USER.PROFILE.FORM.NACHNAME.ERROR")," "),s.zb(5),s.Cc(s.bc(36,56,"USER.PROFILE.FORM.EMAIL.LABEL")),s.zb(5),s.Db("is-invalid",r.invalid&&!r.untouched),s.gc("placeholder",s.bc(42,58,"USER.PROFILE.FORM.EMAIL.PLACEHOLDER")),s.fc("ngModel",t.currentUserProfile.email),s.zb(4),s.Dc(" ",s.bc(45,60,"USER.PROFILE.FORM.EMAIL.ERROR")," "),s.zb(5),s.Cc(s.bc(50,62,"USER.PROFILE.FORM.GEBURTSDATUM.LABEL")),s.zb(5),s.Db("is-invalid",o.invalid&&!o.untouched),s.gc("placeholder",s.bc(56,64,"USER.PROFILE.FORM.GEBURTSDATUM.PLACEHOLDER")),s.fc("ngModel",t.currentUserProfile.geburtsdatum),s.zb(4),s.Dc(" ",s.bc(59,66,"USER.PROFILE.FORM.GEBURTSDATUM.ERROR")," "),s.zb(5),s.Cc(s.bc(64,68,"USER.PROFILE.FORM.MITGLIEDSNUMMER.LABEL")),s.zb(5),s.Db("is-invalid",i.invalid&&!i.untouched),s.gc("placeholder",s.bc(70,70,"USER.PROFILE.FORM.MITGLIEDSNUMMER.PLACEHOLDER")),s.fc("ngModel",t.currentUserProfile.mitgliedsnummer),s.zb(4),s.Dc(" ",s.bc(73,72,"USER.PROFILE.FORM.MITGLIEDSNUMMER.ERROR")," "),s.zb(5),s.Cc(s.bc(78,74,"USER.PROFILE.FORM.NATIONALITAET.LABEL")),s.zb(5),s.Db("is-invalid",a.invalid&&!a.untouched),s.gc("placeholder",s.bc(84,76,"USER.PROFILE.FORM.NATIONALITAET.PLACEHOLDER")),s.fc("ngModel",t.currentUserProfile.nationalitaet),s.zb(4),s.Dc(" ",s.bc(87,78,"USER.PROFILE.FORM.NATIONALITAET.ERROR")," "),s.zb(5),s.Cc(s.bc(92,80,"USER.PROFILE.FORM.VEREIN.LABEL")),s.zb(5),s.Db("is-invalid",l.invalid&&!l.untouched),s.gc("placeholder",s.bc(98,82,"USER.PROFILE.FORM.VEREIN.PLACEHOLDER")),s.fc("ngModel",t.currentUserProfile.vereinsId),s.zb(4),s.Dc(" ",s.bc(101,84,"USER.PROFILE.FORM.VEREIN.ERROR")," ")}},directives:[m.a,o.D,o.o,o.p,o.c,o.n,o.q,o.u],pipes:[M.d],styles:[".half-page[_ngcontent-%COMP%]{width:50%}.button-box[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-direction:row-reverse;flex-wrap:wrap}@media (max-width:1400px){.half-page[_ngcontent-%COMP%]{width:80%}}@media (max-width:950px){.half-page[_ngcontent-%COMP%]{width:100%}}"]}),e})();var N=n("YfBl");class Q{constructor(e,t){this.password=e,this.newPassword=t}}let D=(()=>{class e extends N.DataProviderService{constructor(e){super(),this.restClient=e,this.serviceSubUrl="v1/user"}update(e){return new Promise((t,n)=>{const r=new Q(e.password,e.newPassword);this.sendUpdateRequest(r,t,n)})}sendUpdateRequest(e,t,n){this.restClient.PUT((new N.UriBuilder).fromPath(this.getUrl()).build(),e).then(e=>{t(N.RequestResult.SUCCESS)},e=>{n(0===e.status?{result:N.RequestResult.CONNECTION_PROBLEM}:{result:N.RequestResult.FAILURE})})}}return e.\u0275fac=function(t){return new(t||e)(s.Ub(N.RestClient))},e.\u0275prov=s.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class B{constructor(e,t){this.password=e||"",this.newPassword=t||"",this.verifyPassword=t||""}}const F={moduleTranslationKey:"USER",pageTitleTranslationKey:"USER.PWD.TITLE"},z=[{path:"profile",pathMatch:"full",component:T,canActivate:[c]},{path:"pwd",pathMatch:"full",component:(()=>{class e{constructor(e,t,n){this.userPwdDataProvider=e,this.currentUserService=t,this.onOfflineService=n,this.config=F,this.changeCredentials=new B,this.loginResult=E.a.PENDING,this.LoginResult=E.a,this.AlertType=u.b,this.sessionHandling=new w.a(this.currentUserService,this.onOfflineService)}ngOnInit(){}onMouseOver(e){this.sessionHandling.checkSessionExpired()&&window.location.reload()}onUpdate(e){this.userPwdDataProvider.update(this.changeCredentials).then(()=>this.handleSuccessUpdate(),e=>this.showFailedUpdate(e))}showFailedUpdate(e){this.loginResult=e}handleSuccessUpdate(){this.loginResult=E.a.SUCCESS}}return e.\u0275fac=function(t){return new(t||e)(s.Lb(D),s.Lb(h.a),s.Lb(h.i))},e.\u0275cmp=s.Fb({type:e,selectors:[["bla-user-pwd"]],decls:56,vars:66,consts:[[3,"config"],[3,"mouseover"],["id","pwd"],["id","userPwd-dialog"],[3,"alertType","visible","header"],[3,"visible","header","alertType"],[1,"card","mb-4","shadow-sm"],[1,"card-body","userPwd-dialog"],["id","userPwdForm"],["userPwdForm","ngForm"],[1,"imgcontainer"],["src","../assets/img/logo.png","alt","Logo",1,"avatar"],[1,"container"],[1,"form-group"],["for","userPwdFormPassword"],["type","password","id","userPwdFormPassword","name","userPwdFormPassword","required","",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["userPwdFormPassword","ngModel"],[1,"invalid-feedback"],["for","userPwdFormNewPwd"],["type","password","required","","pattern","^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[A-Za-z\\d#$^+=!*()@%&?]{8,}$","id","userPwdFormNewPwd","name","userPwdFormNewPwd",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["userPwdFormNewPwd","ngModel"],["for","userPwdFormVerifyPwd"],["type","password","id","userPwdFormVerifyPwd","name","userPwdFormVerifyPwd","required","","minlength","8",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["userPwdFormVerifyPwd","ngModel"],[3,"id","disabled","onClick"]],template:function(e,t){if(1&e&&(s.Qb(0,"bla-common-dialog",0),s.Qb(1,"div",1),s.Xb("mouseover",(function(e){return t.onMouseOver(e)})),s.Qb(2,"div",2),s.Qb(3,"div",3),s.Qb(4,"bla-alert",4),s.ac(5,"translate"),s.Bc(6),s.ac(7,"translate"),s.Pb(),s.Qb(8,"bla-alert",5),s.ac(9,"translate"),s.Bc(10),s.ac(11,"translate"),s.Pb(),s.Qb(12,"bla-alert",5),s.ac(13,"translate"),s.Bc(14),s.ac(15,"translate"),s.Pb(),s.Qb(16,"div",6),s.Qb(17,"div",7),s.Qb(18,"form",8,9),s.Qb(20,"div",10),s.Mb(21,"img",11),s.Pb(),s.Qb(22,"div",12),s.Qb(23,"div",13),s.Qb(24,"label",14),s.Bc(25),s.ac(26,"translate"),s.Pb(),s.Qb(27,"input",15,16),s.Xb("ngModelChange",(function(e){return t.changeCredentials.password=e})),s.ac(29,"translate"),s.Pb(),s.Qb(30,"div",17),s.Bc(31),s.ac(32,"translate"),s.Pb(),s.Pb(),s.Qb(33,"div",13),s.Qb(34,"label",18),s.Bc(35),s.ac(36,"translate"),s.Pb(),s.Qb(37,"input",19,20),s.Xb("ngModelChange",(function(e){return t.changeCredentials.newPassword=e})),s.ac(39,"translate"),s.Pb(),s.Qb(40,"div",17),s.Bc(41),s.ac(42,"translate"),s.Pb(),s.Pb(),s.Qb(43,"div",13),s.Qb(44,"label",21),s.Bc(45),s.ac(46,"translate"),s.Pb(),s.Qb(47,"input",22,23),s.Xb("ngModelChange",(function(e){return t.changeCredentials.verifyPassword=e})),s.ac(49,"translate"),s.Pb(),s.Qb(50,"div",17),s.Bc(51),s.ac(52,"translate"),s.Pb(),s.Pb(),s.Qb(53,"bla-button",24),s.Xb("onClick",(function(e){return t.onUpdate(e)})),s.Bc(54),s.ac(55,"translate"),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb()),2&e){const e=s.oc(19),n=s.oc(28),r=s.oc(38),o=s.oc(48);s.fc("config",t.config),s.zb(4),s.gc("header",s.bc(5,34,"USER.PWD.NOTIFICATION.PWD_SUCCESSFUL.HEADER")),s.fc("alertType",t.AlertType.SUCCESS)("visible",t.loginResult===t.LoginResult.SUCCESS),s.zb(2),s.Dc(" ",s.bc(7,36,"USER.PWD.NOTIFICATION.PWD_SUCCESSFUL.TEXT")," "),s.zb(2),s.gc("header",s.bc(9,38,"USER.PWD.NOTIFICATION.PWD_FAILURE.HEADER")),s.fc("visible",t.loginResult===t.LoginResult.FAILURE)("alertType",t.AlertType.DANGER),s.zb(2),s.Dc(" ",s.bc(11,40,"USER.PWD.NOTIFICATION.PWD_FAILURE.TEXT")," "),s.zb(2),s.gc("header",s.bc(13,42,"USER.PWD.NOTIFICATION.PWD_CONNECTION_PROBLEM.HEADER")),s.fc("visible",t.loginResult===t.LoginResult.CONNECTION_PROBLEM)("alertType",t.AlertType.WARNING),s.zb(2),s.Dc(" ",s.bc(15,44,"USER.PWD.NOTIFICATION.PWD_CONNECTION_PROBLEM.TEXT")," "),s.zb(11),s.Cc(s.bc(26,46,"USER.PWD.FORM.PASSWORD.LABEL")),s.zb(2),s.Db("is-invalid",n.invalid&&!n.untouched),s.gc("placeholder",s.bc(29,48,"USER.PWD.FORM.PASSWORD.PLACEHOLDER")),s.fc("ngModel",t.changeCredentials.password),s.zb(4),s.Dc(" ",s.bc(32,50,"USER.PWD.FORM.PASSWORD.ERROR")," "),s.zb(4),s.Cc(s.bc(36,52,"USER.PWD.FORM.NEWPASSWORD.LABEL")),s.zb(2),s.Db("is-invalid",r.invalid&&!r.untouched),s.gc("placeholder",s.bc(39,54,"USER.PWD.FORM.NEWPASSWORD.PLACEHOLDER")),s.fc("ngModel",t.changeCredentials.newPassword),s.zb(4),s.Dc(" ",s.bc(42,56,"USER.PWD.FORM.NEWPASSWORD.ERROR")," "),s.zb(4),s.Cc(s.bc(46,58,"USER.PWD.FORM.VERIFYPASSWORD.LABEL")),s.zb(2),s.Db("is-invalid",o.value!=r.value),s.gc("placeholder",s.bc(49,60,"USER.PWD.FORM.VERIFYPASSWORD.PLACEHOLDER")),s.fc("ngModel",t.changeCredentials.verifyPassword),s.zb(4),s.Dc(" ",s.bc(52,62,"USER.PWD.FORM.VERIFYPASSWORD.ERROR")," "),s.zb(2),s.fc("id","userPwdUpdateButton")("disabled",!e.valid),s.zb(1),s.Dc("",s.bc(55,64,"USER.PWD.FORM.UPDATE")," ")}},directives:[m.a,p.a,o.D,o.o,o.p,o.c,o.y,o.n,o.q,o.u,o.m,L.a],pipes:[M.d],styles:["#pwd[_ngcontent-%COMP%]{display:flex;justify-content:center}#userPwd-dialog[_ngcontent-%COMP%]{width:500px;max-width:500px}.imgcontainer[_ngcontent-%COMP%]{text-align:center;margin:24px 0 12px}img.avatar[_ngcontent-%COMP%]{width:40%;border-radius:50%}"]}),e})(),canActivate:[c]},{path:"login",component:S,canActivate:[c]}];n("FpXt");let y=(()=>{class e{}return e.\u0275mod=s.Jb({type:e}),e.\u0275inj=s.Ib({factory:function(t){return new(t||e)},providers:[c],imports:[[r.c,i.g.forChild(z),a.SharedModule.forChild(),o.k]]}),e})()}}]);