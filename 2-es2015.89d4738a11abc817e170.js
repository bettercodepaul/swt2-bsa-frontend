(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{gmyM:function(t,e,n){"use strict";n.r(e),n.d(e,"WettkampfModule",(function(){return q}));var a=n("ofXK"),i=n("3Pt+"),s=n("tyNb"),r=n("FpXt"),o=n("mrSG");const c={moduleTranslationKey:"MANNSCHAFT",pageTitleTranslationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TITLE",navigationCardsConfig:{navigationCards:[]}};var d=n("PEb7"),l=n("YfBl");const h={columns:[{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.MATCH",propertyName:"matchNr",width:5},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.MANNSCHAFT",propertyName:"mannschaftName",width:20},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SATZ1",propertyName:"mannschaftSatz1",width:5},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SATZ2",propertyName:"mannschaftSatz2",width:5},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SATZ3",propertyName:"mannschaftSatz3",width:5},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SATZ4",propertyName:"mannschaftSatz4",width:5},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SATZ5",propertyName:"mannschaftSatz5",width:5},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.OPPONENT",propertyName:"opponentName",width:20},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SATZ1",propertyName:"opponentSatz1",width:5},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SATZ2",propertyName:"opponentSatz2",width:5},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SATZ3",propertyName:"opponentSatz3",width:5},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SATZ4",propertyName:"opponentSatz4",width:5},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SATZ5",propertyName:"opponentSatz5",width:5},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SATZPUNKTE",propertyName:"satzpunkte",width:20},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.MATCHPUNKTE",propertyName:"matchpunkte",width:20}]},b={columns:[{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.RUEKENNUMMER",propertyName:"rueckenNummer",width:100},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SCHUETZE",propertyName:"dsbMitgliedName",width:100},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.MATCH",propertyName:"matchNr",width:100},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.DURCHSCHPFEILWERTMATCH",propertyName:"pfeilpunkteSchnitt",width:30}]},u={columns:[{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.RUEKENNUMMER",propertyName:"rueckenNummer",width:100},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SCHUETZE",propertyName:"dsbMitgliedName",width:80},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.DURCHSCHPFEILWERTJAHR",propertyName:"pfeilpunkteSchnitt",width:80}]};class f{constructor(t,e,n,a,i,s,r,o,c,d,l,h,b,u,f,m){this.matchNr=t,this.wettkampfId=e,this.mannschaftName=n,this.mannschaftSatz1=a,this.mannschaftSatz2=i,this.mannschaftSatz3=s,this.mannschaftSatz4=r,this.mannschaftSatz5=o,this.opponentName=c,this.opponentSatz1=d,this.opponentSatz2=l,this.opponentSatz3=h,this.opponentSatz4=b,this.opponentSatz5=u,this.satzpunkte=f,this.matchpunkte=m}}var m=n("fXoL");let N=(()=>{class t{constructor(){this.wettkampfErgebnisse=[],this.mannschaften=[],this.matches=[],this.passen=[],this.mitglieder=[],this.mannschaftsmitglieder=[]}getMannschaftsname(t){for(const e of this.mannschaften)if(e.id===t)return e.name}getSatzergebnis(t,e,n){let a=null;const i=this.passen.filter(a=>a.matchNr===t&&a.lfdNr===e&&n===a.mannschaftId);for(const s of i)for(const t of s.ringzahl)a+=t;return a}getSatzpunkte(t){let e="-",n="-";return null!=this.matches[t].satzpunkte&&(e=String(this.matches[t].satzpunkte)),null!=this.matches[t+1].satzpunkte&&(n=String(this.matches[t+1].satzpunkte)),e+" : "+n}getMatchpunkte(t){let e="-",n="-";return null!=this.matches[t].matchpunkte&&(e=String(this.matches[t].matchpunkte)),null!=this.matches[t+1].matchpunkte&&(n=String(this.matches[t+1].matchpunkte)),e+" : "+n}createErgebnisse(t,e,n,a,i,s){return this.matches=i,this.passen=s,this.currentMannschaft=e,this.veranstaltung=a,this.mannschaften=n,this.sportjahr=t,null!=this.currentMannschaft&&(this.matches=this.filterMannschaft()),this.createWettkampfergebnisse()}filterMannschaft(){const t=[];for(let e=0;e<this.matches.length;e+=2)this.currentMannschaft.id!==this.matches[e].mannschaftId&&this.currentMannschaft.id!==this.matches[e+1].mannschaftId||(t.push(this.matches[e]),t.push(this.matches[e+1]));return t}createWettkampfergebnisse(){this.wettkampfErgebnisse=[];for(let t=0;t<this.matches.length;t+=2){const e=new f(this.matches[t].nr,this.matches[t].wettkampfId,this.getMannschaftsname(this.matches[t].mannschaftId),this.getSatzergebnis(this.matches[t].nr,1,this.matches[t].mannschaftId),this.getSatzergebnis(this.matches[t].nr,2,this.matches[t].mannschaftId),this.getSatzergebnis(this.matches[t].nr,3,this.matches[t].mannschaftId),this.getSatzergebnis(this.matches[t].nr,4,this.matches[t].mannschaftId),this.getSatzergebnis(this.matches[t].nr,5,this.matches[t].mannschaftId),this.getMannschaftsname(this.matches[t+1].mannschaftId),this.getSatzergebnis(this.matches[t+1].nr,1,this.matches[t+1].mannschaftId),this.getSatzergebnis(this.matches[t+1].nr,2,this.matches[t+1].mannschaftId),this.getSatzergebnis(this.matches[t+1].nr,3,this.matches[t+1].mannschaftId),this.getSatzergebnis(this.matches[t+1].nr,4,this.matches[t+1].mannschaftId),this.getSatzergebnis(this.matches[t+1].nr,5,this.matches[t+1].mannschaftId),this.getSatzpunkte(t),this.getMatchpunkte(t));this.wettkampfErgebnisse.push(e)}return this.matches=[],this.passen=[],this.wettkampfErgebnisse}filterPassen(){const t=[];for(const e of this.passen)this.currentMannschaft.id===e.mannschaftId&&t.push(e);return t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=m.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var g=n("X628"),E=n("ny2l"),p=n("qvop"),A=n("th7h"),T=n("TNm4");let M=(()=>{class t extends l.DataProviderService{constructor(t,e){super(),this.restClient=t,this.currentUserService=e,this.serviceSubUrl="v1/match"}findByWettkampfId(t){return new Promise((e,n)=>{this.restClient.GET((new l.UriBuilder).fromPath(this.getUrl()).path("findByWettkampfId/wettkampfid="+t).build()).then(t=>{e({result:l.RequestResult.SUCCESS,payload:Object(T.a)(t)})},t=>{n(0===t.status?{result:l.RequestResult.CONNECTION_PROBLEM}:{result:l.RequestResult.FAILURE})})})}findAll(){return new Promise((t,e)=>{this.restClient.GET(this.getUrl()+"/").then(e=>{t({result:l.RequestResult.SUCCESS,payload:Object(T.a)(e)})},t=>{e(0===t.status?{result:l.RequestResult.CONNECTION_PROBLEM}:{result:l.RequestResult.FAILURE})})})}}return t.\u0275fac=function(e){return new(e||t)(m.Ub(l.RestClient),m.Ub(A.a))},t.\u0275prov=m.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var S=n("sQ0O"),v=n("TcZ0"),P=n("nr0C"),w=n("FlTZ"),B=n("NJqk");class L{constructor(t,e,n,a,i,s,r,o,c,d,l,h,b,u,f,m){this.id=t,this.version=e,this.mannschaftsId=n,this.dsbMitgliedId=a,this.dsbMitgliedName=i,this.mannschaftNummer=s,this.matchId=r,this.matchNr=o,this.rueckenNummer=d,this.pfeilpunkteSchnitt=c,this.veranstaltungId=l,this.veranstaltungName=h,this.vereinId=b,this.vereinName=u,this.wettkampfId=f,this.wettkampfTag=m}static copyFrom(t){return new L(t.id||null,t.version||null,t.mannschaftsId||null,t.dsbMitgliedId||null,t.dsbMitgliedName||null,t.mannschaftNummer||null,t.matchId||null,t.matchNr||null,t.pfeilpunkteSchnitt||null,t.rueckenNummer||null,t.veranstaltungId||null,t.veranstaltungName||null,t.vereinId||null,t.vereinName||null,t.wettkampfId||null,t.wettkampfTag||null)}}function C(t){const e=[];return t.forEach(t=>e.push(function(t){return L.copyFrom(t)}(t))),e}let I=(()=>{class t extends l.DataProviderService{constructor(t,e){super(),this.restClient=t,this.currentUserService=e,this.serviceSubUrl="v1/schuetzenstatistik"}getSchuetzenstatistikVeranstaltung(t,e){return new Promise((n,a)=>{this.restClient.GET((new l.UriBuilder).fromPath(this.getUrl()).path("byVeranstaltungAndVerein/"+e+"/"+t).build()).then(t=>{n({result:l.RequestResult.SUCCESS,payload:C(t)})},t=>{a(0===t.status?{result:l.RequestResult.CONNECTION_PROBLEM}:{result:l.RequestResult.FAILURE})})})}getSchuetzenstatistikWettkampf(t,e){return new Promise((n,a)=>{this.restClient.GET((new l.UriBuilder).fromPath(this.getUrl()).path("byWettkampfAndVerein/"+e+"/"+t).build()).then(t=>{n({result:l.RequestResult.SUCCESS,payload:C(t)})},t=>{a(0===t.status?{result:l.RequestResult.CONNECTION_PROBLEM}:{result:l.RequestResult.FAILURE})})})}}return t.\u0275fac=function(e){return new(e||t)(m.Ub(l.RestClient),m.Ub(B.a))},t.\u0275prov=m.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var k=n("x61S"),z=n("6aDh"),y=n("BGab"),F=n("TmMT"),O=n("AytR"),R=n("20cS"),D=n("w90F"),U=n("ghtv"),Q=n("yljE"),H=n("/2r1"),V=n("xRjW"),_=n("xOPY"),W=n("sYmb");function K(t,e){if(1&t&&(m.Qb(0,"option",55),m.Bc(1),m.Pb()),2&t){const t=e.$implicit;m.fc("ngValue",t),m.zb(1),m.Dc(" ",t.name,"")}}function G(t,e){if(1&t&&(m.Qb(0,"option"),m.Bc(1),m.Pb()),2&t){const t=e.$implicit;m.zb(1),m.Dc(" ",t,"")}}function j(t,e){if(1&t){const t=m.Rb();m.Qb(0,"div",56),m.Qb(1,"div",57),m.Qb(2,"h2"),m.Bc(3),m.ac(4,"translate"),m.Pb(),m.Qb(5,"a",58),m.Xb("click",(function(){return m.pc(t),m.Zb().popup=!1})),m.Bc(6,"\xd7"),m.Pb(),m.Qb(7,"div",59),m.Qb(8,"p"),m.Bc(9),m.ac(10,"translate"),m.Pb(),m.Mb(11,"p"),m.Pb(),m.Pb(),m.Pb()}2&t&&(m.zb(3),m.Cc(m.bc(4,2,"MANNSCHAFTEN.MANNSCHAFTEN.POPUPTXT.POPUP\xdcBERSCHRIFT.LABEL")),m.zb(6),m.Dc("",m.bc(10,4,"MANNSCHAFTEN.MANNSCHAFTEN.POPUPTXT.POPUPINHALT.LABEL")," "))}const Z=function(t){return[t]};let x=(()=>{class t extends d.CommonComponentDirective{constructor(t,e,n,a,i,s,r,o,d,l,f,m,N,g,E){super(),this.veranstaltungsDataProvider=t,this.vereinDataProvider=e,this.wettkampfDataProviderService=n,this.matchDataProviderService=a,this.passeDataProviderService=i,this.wettkampfErgebnisService=s,this.mannschaftDataProvider=r,this.dsbMitgliedDataProvider=o,this.mannschaftsmitgliedDataProvider=d,this.schuetzenstatistikDataProvider=l,this.router=f,this.route=m,this.notificationService=N,this.currentUserService=g,this.onOfflineService=E,this.show=!1,this.directMannschaft=null,this.directWettkampf=null,this.routes=null,this.config=c,this.config_table=h,this.config_einzel_table=b,this.config_einzelGesamt_table=u,this.jahre=[],this.vereine=[],this.mannschaften=[],this.veranstaltungen=[],this.currentVeranstaltung=new k.a,this.currentMannschaft=new p.a,this.currentVerein=new z.a,this.multipleSelections=!0,this.rows=new Array,this.areVeranstaltungenLoading=!0,this.loadingData=!1,this.matches=[],this.wettkaempfe=[],this.passen=[],this.mannschaftsmitglieder=[],this.dsbMitglieder=[],this.gesamt=!1,this.isTableFilled=[!1,!1,!1,!1],this.sessionHandling=new R.a(this.currentUserService,this.onOfflineService)}ngOnInit(){this.route.params.subscribe(t=>{Object(g.c)(t.Wettkampf)||Object(g.c)(t.Mannschaft)?Object(g.c)(t.Wettkampf)||(this.directWettkampf=parseInt(t.Wettkampf,10)):(this.directWettkampf=parseInt(t.Wettkampf,10),this.directMannschaft=parseInt(t.Mannschaft,10))}),this.loadVeranstaltungen()}onMouseOver(t){this.sessionHandling.checkSessionExpired()&&window.location.reload()}loadVerein(t){return Object(o.a)(this,void 0,void 0,(function*(){yield this.vereinDataProvider.findById(t).then(t=>this.handleLoadVerein(t)).catch(()=>this.handleLoadVerein(null)),document.getElementById("vereinsinformationen").classList.remove("hidden")}))}handleLoadVerein(t){this.currentVerein=t.payload}loadAllErgebnisse(t){return Object(o.a)(this,void 0,void 0,(function*(){this.loadingData=!0,yield this.loadErgebnisse(t),this.loadingData=!1}))}loadErgebnisForMannschaft(t){return Object(o.a)(this,void 0,void 0,(function*(){this.loadingData=!0,yield this.loadPopup(this.currentMannschaft),yield this.loadErgebnisse(t),this.loadingData=!1}))}loadErgebnisse(t){return Object(o.a)(this,void 0,void 0,(function*(){void 0===t?this.showUebersichtsButtons():this.hideUebersichtsButtons();for(let t=0;t<4;t++){let e="row";e+=t,document.getElementById(e).classList.remove("hidden"),e+="1",document.getElementById(e).classList.add("hidden")}for(let t=0;t<=4;t++){let e="Table";e+=t,0===t?document.getElementById(e).classList.add("hidden"):document.getElementById(e).classList.remove("hidden")}this.rows=[];for(let e=0;e<this.wettkaempfe.length;e++)this.rows.push(Object(d.toTableRows)(this.wettkampfErgebnisService.createErgebnisse(this.currentJahr,t,this.mannschaften,this.currentVeranstaltung,this.matches[e],this.passen[e])));for(let t=0;t<this.rows.length;t++)this.rows[t].length>0&&(this.isTableFilled[t]=!0);document.getElementById("einzeldruckButton").classList.add("hidden"),void 0===t&&document.getElementById("vereinsinformationen").classList.add("hidden"),document.getElementById("gesamtdruckButton").classList.add("hidden")}))}loadEinzelstatistik(t){return Object(o.a)(this,void 0,void 0,(function*(){if(this.loadPopup(this.currentMannschaft),this.hideUebersichtsButtons(),null!=t){for(let t=0;t<4;t++){let e="row";e+=t,document.getElementById(e).classList.add("hidden"),e+="1",document.getElementById(e).classList.remove("hidden")}for(let t=0;t<=4;t++){let e="Table";e+=t,0===t?document.getElementById(e).classList.add("hidden"):document.getElementById(e).classList.remove("hidden")}this.rows=[],yield this.loadSchuetzenstatistiken(t.vereinId,0),document.getElementById("einzeldruckButton").classList.remove("hidden"),document.getElementById("gesamtdruckButton").classList.add("hidden");for(let t=0;t<this.rows.length;t++)this.rows[t].length>0&&(this.isTableFilled[t]=!0)}this.loadingData=!1}))}loadGesamtstatistik(t){return Object(o.a)(this,void 0,void 0,(function*(){if(yield this.loadPopup(this.currentMannschaft),this.hideUebersichtsButtons(),null!=t){for(let t=0;t<4;t++){let e="row";e+=t,document.getElementById(e).classList.add("hidden"),e+="1",document.getElementById(e).classList.add("hidden")}for(let t=0;t<=4;t++){let e="Table";e+=t,0===t?document.getElementById(e).classList.remove("hidden"):document.getElementById(e).classList.add("hidden")}this.rows=[],yield this.schuetzenstatistikDataProvider.getSchuetzenstatistikVeranstaltung(t.vereinId,this.currentVeranstaltung.id).then(t=>this.handleLoadSchuetzenstatistikSuccess(t.payload)),document.getElementById("einzeldruckButton").classList.add("hidden"),document.getElementById("gesamtdruckButton").classList.remove("hidden");for(let t=0;t<this.rows.length;t++)this.rows[t].length>0&&(this.isTableFilled[t]=!0)}this.loadingData=!1}))}loadSchuetzenstatistiken(t,e){return Object(o.a)(this,void 0,void 0,(function*(){if(yield this.loadSchuetzenstatistikEinzel(t,this.wettkaempfe[e].id).then(t=>this.handleLoadSchuetzenstatistikSuccess(t.payload)),e<this.wettkaempfe.length-1)return this.loadSchuetzenstatistiken(t,e+=1)}))}loadSchuetzenstatistikEinzel(t,e){return Object(o.a)(this,void 0,void 0,(function*(){return this.schuetzenstatistikDataProvider.getSchuetzenstatistikWettkampf(t,e)}))}handleLoadSchuetzenstatistikSuccess(t){t.length>0&&(console.log(t),this.rows.push(Object(d.toTableRows)(t)))}loadPopup(t){return t?this.loadingData=!0:(this.popup=!0,this.loadingData=!1),this.popup}onSelect(t){this.currentVeranstaltung=t[0],this.currentJahr=this.currentVeranstaltung.sportjahr,this.jahre[0]=this.currentJahr,this.clear(),this.loadMannschaften(this.currentVeranstaltung.id),this.loadWettkaempfe(this.currentVeranstaltung.id)}clear(){this.matches=[],this.passen=[],this.wettkaempfe=[],this.rows=[]}loadVeranstaltungen(){return Object(o.a)(this,void 0,void 0,(function*(){this.loadingData=!0,yield this.veranstaltungsDataProvider.findAllLaufendAbgeschlossen().then(t=>this.handleSuccessLoadVeranstaltungen(t)).catch(()=>this.veranstaltungen=[])}))}handleSuccessLoadVeranstaltungen(t){return Object(o.a)(this,void 0,void 0,(function*(){if(this.veranstaltungen=t.payload,null!=this.directWettkampf)for(const t of this.veranstaltungen){if(this.directWettkampf===t.id){this.currentVeranstaltung=t;break}this.currentVeranstaltung=this.veranstaltungen[0]}else this.currentVeranstaltung=this.veranstaltungen[0];this.areVeranstaltungenLoading=!1,this.currentJahr=this.currentVeranstaltung.sportjahr,yield this.loadMannschaften(this.currentVeranstaltung.id),yield this.loadWettkaempfe(this.currentVeranstaltung.id),yield this.loadJahre(),this.loadingData=!1}))}loadMannschaften(t){return Object(o.a)(this,void 0,void 0,(function*(){yield this.mannschaftDataProvider.findAllByVeranstaltungsId(t).then(t=>this.handleSuccessLoadMannschaft(t)).catch(()=>this.mannschaften===[])}))}handleSuccessLoadMannschaft(t){if(this.mannschaften=t.payload,null!=this.directMannschaft)for(const e of this.mannschaften)this.directMannschaft===e.id&&(this.mannschaften[0]=e),this.currentMannschaft=this.mannschaften[0];else null!==this.currentMannschaft&&(this.currentMannschaft=void 0)}loadJahre(){return Object(o.a)(this,void 0,void 0,(function*(){for(const t of this.veranstaltungen)!1===this.jahre.includes(t.sportjahr)&&(this.jahre[this.jahre.length]=t.sportjahr)}))}loadWettkaempfe(t){return Object(o.a)(this,void 0,void 0,(function*(){yield this.wettkampfDataProviderService.findAllByVeranstaltungId(t).then(t=>this.handleLoadWettkaempfe(t.payload)).catch(()=>this.handleLoadWettkaempfe([]))}))}loadWettkaempfeByCurrentMannschaft(){return Object(o.a)(this,void 0,void 0,(function*(){yield this.wettkampfDataProviderService.findAllWettkaempfeByMannschaftsId(this.currentMannschaft.id).then(t=>this.handleLoadWettkaempfe(t.payload)).catch(()=>this.handleLoadWettkaempfe([]))}))}handleLoadWettkaempfe(t){return Object(o.a)(this,void 0,void 0,(function*(){this.wettkaempfe=t;for(let t=0;t<this.wettkaempfe.length;t++)yield this.loadMatches(this.wettkaempfe[t].id,t)}))}loadMatches(t,e){return Object(o.a)(this,void 0,void 0,(function*(){yield this.matchDataProviderService.findByWettkampfId(t).then(n=>this.handleSuccessLoadMatches(n.payload,t,e)).catch(()=>this.handleSuccessLoadMatches([],t,e))}))}handleSuccessLoadMatches(t,e,n){return Object(o.a)(this,void 0,void 0,(function*(){this.matches[n]=t,yield this.loadPassen(e,t,n)}))}loadPassen(t,e,n){return Object(o.a)(this,void 0,void 0,(function*(){yield this.passeDataProviderService.findByWettkampfId(t).then(t=>this.handleSuccessLoadPassen(t.payload,e,n)).catch(()=>this.handleSuccessLoadPassen([],e,n))}))}handleSuccessLoadPassen(t,e,n){this.passen[n]=t,this.rows[n]=Object(d.toTableRows)(this.wettkampfErgebnisService.createErgebnisse(this.currentJahr,void 0,this.mannschaften,this.currentVeranstaltung,e,t))}getTitle(){let t=" ";return void 0!==this.currentMannschaft&&(t=this.currentMannschaft.name),t}onButtonDownloadUebersicht(t){return(new l.UriBuilder).fromPath(O.a.backendBaseUrl).path("v1/download").path(t+"&veranstaltungsid="+this.currentVeranstaltung.id).build()}hideUebersichtsButtons(){document.getElementById("TagesuebersichtButton").classList.add("hidden"),document.getElementById("TagesuebersichtButton2").classList.add("hidden"),document.getElementById("TagesuebersichtButton3").classList.add("hidden"),document.getElementById("TagesuebersichtButton4").classList.add("hidden")}showUebersichtsButtons(){document.getElementById("TagesuebersichtButton").classList.remove("hidden"),document.getElementById("TagesuebersichtButton2").classList.remove("hidden"),document.getElementById("TagesuebersichtButton3").classList.remove("hidden"),document.getElementById("TagesuebersichtButton4").classList.remove("hidden")}onButtonDownload(t){return(new l.UriBuilder).fromPath(O.a.backendBaseUrl).path("v1/download").path(t).path("?veranstaltungsid="+this.currentVeranstaltung.id+"&manschaftsid="+this.getMannschaftsID()+"&jahr="+this.currentJahr).build()}getMannschaftsID(){return void 0!==this.currentMannschaft?this.currentMannschaft.id:-1}onSelectVerein(){return Object(o.a)(this,void 0,void 0,(function*(){console.log("Verein switched to "+this.currentMannschaft.name),this.loadingData=!0,this.mannschaftAlreadyLoaded(this.currentMannschaft.id)||(yield this.loadWettkaempfeByCurrentMannschaft()),yield this.loadVerein(this.currentMannschaft.vereinId),this.loadingData=!1}))}mannschaftAlreadyLoaded(t){for(const e of this.mannschaften)if(t===e.id)return!0;return!1}updateResults(){return Object(o.a)(this,void 0,void 0,(function*(){this.loadingData=!0,yield this.loadWettkaempfe(this.currentVeranstaltung.id),this.loadingData=!1}))}}return t.\u0275fac=function(e){return new(e||t)(m.Lb(P.a),m.Lb(w.a),m.Lb(S.a),m.Lb(M),m.Lb(v.a),m.Lb(N),m.Lb(E.a),m.Lb(y.a),m.Lb(F.a),m.Lb(I),m.Lb(s.c),m.Lb(s.a),m.Lb(B.e),m.Lb(B.a),m.Lb(B.i))},t.\u0275cmp=m.Fb({type:t,selectors:[["bla-mannschaft"]],features:[m.wb],decls:174,vars:169,consts:[[3,"config"],[3,"mouseover"],["href","https://wiki.bsapp.de/doku.php?id=liga:wettkaempfe","target","_blank"],[1,"subtitle"],["id","regionenForm",1,"horizontal-form","half-page"],[2,"display","inline"],["id","titel",1,"print1",2,"display","inline"],["id","titel2",1,"print1",2,"display","inline"],["id","selectVereink"],[1,"row"],[1,"col-sm-1","col-form-label"],[1,"col-sm-8"],[2,"width","50%","height","10em",3,"id","loading","items","selectedItemIds","optionFieldSelector","multipleSelections","onSelect"],["id","selectVerein"],["id","vereine","name","VereinName",1,"form-control",3,"ngModel","disabled","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"invalid-feedback"],[1,"row","print1"],["id","jahr","name","Jahre","disabled","true",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["id","vereinsinformationen",1,"hidden"],[1,"form-control"],[3,"href"],["readonly","",1,"form-control"],["width","100","height","100",3,"src","alt"],["id","Button"],["data-cy","alle-mannschaften-anzeigen-button",3,"id","loading","onClick"],[3,"id","loading","onClick"],["data-cy","einzelstatistik-anzeigen-button",3,"id","loading","onClick"],["data-cy","einzelstatistik-gesamt-anzeigen-button",3,"id","loading","onClick"],["id","einzeldruckButton",1,"hidden",3,"id","loading","downloadUrl","fileName"],["id","gesamtdruckButton",1,"hidden",3,"id","loading","downloadUrl","fileName"],["class","overlay",4,"ngIf"],[1,"col-sm-9"],["id","Table0",1,"hidden"],["id","row00",3,"loading","config","rows"],["id","Table1",1,"hidden",3,"hidden"],["id","TagesuebersichtButton",3,"id","downloadUrl","fileName"],["id","row0",3,"loading","config","rows"],["id","row01",1,"hidden",3,"loading","config","rows"],["id","Table2",1,"hidden",3,"hidden"],["id","TagesuebersichtButton2",3,"id","downloadUrl","fileName"],["id","row1",3,"loading","config","rows"],["id","row11",1,"hidden",3,"loading","config","rows"],["id","Table3",1,"hidden",3,"hidden"],["id","TagesuebersichtButton3",3,"id","downloadUrl","fileName"],["id","row2",3,"loading","config","rows"],["id","row21",1,"hidden",3,"loading","config","rows"],["id","Table4",1,"hidden",3,"hidden"],["id","TagesuebersichtButton4",3,"id","downloadUrl","fileName"],["id","row3",3,"loading","config","rows"],["id","row31",1,"hidden",3,"loading","config","rows"],[1,"form-group","row"],[1,"col-sm-3"],[1,"col-sm-9","button-box"],[3,"ngValue"],[1,"overlay"],[1,"popup"],[1,"close",3,"click"],[1,"content_popup"]],template:function(t,e){1&t&&(m.Qb(0,"bla-common-dialog",0),m.Qb(1,"div",1),m.Xb("mouseover",(function(t){return e.onMouseOver(t)})),m.Mb(2,"bla-hilfe-button",2),m.Qb(3,"p",3),m.Bc(4),m.ac(5,"translate"),m.Pb(),m.Qb(6,"form",4),m.Qb(7,"div"),m.Qb(8,"h2",5),m.Bc(9,"Gew\xe4hlte Veranstaltung: "),m.Pb(),m.Qb(10,"h3",6),m.Bc(11),m.Pb(),m.Pb(),m.Qb(12,"div"),m.Qb(13,"h2",5),m.Bc(14,"Gew\xe4hlte Mannschaft: "),m.Pb(),m.Qb(15,"h3",7),m.Bc(16),m.Pb(),m.Pb(),m.Qb(17,"div",8),m.Qb(18,"div",9),m.Qb(19,"label",10),m.Qb(20,"span"),m.Bc(21),m.ac(22,"translate"),m.Pb(),m.Pb(),m.Qb(23,"div",11),m.Qb(24,"bla-selectionlist",12),m.Xb("onSelect",(function(t){return e.onSelect(t)})),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Qb(25,"div",13),m.Qb(26,"div",9),m.Qb(27,"label",10),m.Qb(28,"span"),m.Bc(29),m.ac(30,"translate"),m.Pb(),m.Pb(),m.Qb(31,"div",11),m.Qb(32,"select",14),m.Xb("ngModelChange",(function(t){return e.currentMannschaft=t}))("ngModelChange",(function(){return e.onSelectVerein()})),m.zc(33,K,2,2,"option",15),m.Pb(),m.Qb(34,"div",16),m.Bc(35),m.ac(36,"translate"),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Qb(37,"div",17),m.Qb(38,"label",10),m.Qb(39,"span"),m.Bc(40),m.ac(41,"translate"),m.Pb(),m.Pb(),m.Qb(42,"div",11),m.Qb(43,"select",18),m.Xb("ngModelChange",(function(t){return e.currentJahr=t})),m.zc(44,G,2,1,"option",19),m.Pb(),m.Qb(45,"div",16),m.Bc(46),m.ac(47,"translate"),m.Pb(),m.Pb(),m.Pb(),m.Mb(48,"br"),m.Qb(49,"div",20),m.Qb(50,"h3"),m.Bc(51),m.ac(52,"translate"),m.Pb(),m.Qb(53,"div",17),m.Qb(54,"label",10),m.Qb(55,"span"),m.Bc(56),m.ac(57,"translate"),m.Pb(),m.Pb(),m.Qb(58,"div",11),m.Qb(59,"div",21),m.Qb(60,"div"),m.Bc(61),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Qb(62,"div",17),m.Qb(63,"label",10),m.Qb(64,"span"),m.Bc(65),m.ac(66,"translate"),m.Pb(),m.Pb(),m.Qb(67,"div",11),m.Qb(68,"div",21),m.Qb(69,"div"),m.Bc(70),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Qb(71,"div",17),m.Qb(72,"label",10),m.Qb(73,"span"),m.Bc(74),m.ac(75,"translate"),m.Pb(),m.Pb(),m.Qb(76,"div",11),m.Qb(77,"div",21),m.Qb(78,"div"),m.Qb(79,"a",22),m.Bc(80),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Qb(81,"div",17),m.Qb(82,"label",10),m.Qb(83,"span"),m.Bc(84),m.ac(85,"translate"),m.Pb(),m.Pb(),m.Qb(86,"div",11),m.Qb(87,"textarea",23),m.Bc(88),m.Pb(),m.Pb(),m.Pb(),m.Qb(89,"div",17),m.Qb(90,"label",10),m.Qb(91,"span"),m.Bc(92),m.ac(93,"translate"),m.Pb(),m.Pb(),m.Qb(94,"div",11),m.Mb(95,"img",24),m.ac(96,"translate"),m.Pb(),m.Pb(),m.Pb(),m.Qb(97,"div",25),m.Qb(98,"bla-button",26),m.Xb("onClick",(function(){return e.loadAllErgebnisse(void 0)})),m.Bc(99),m.ac(100,"translate"),m.Pb(),m.Bc(101," \xa0 "),m.Qb(102,"bla-button",27),m.Xb("onClick",(function(){return e.gesamt=!1,e.loadErgebnisForMannschaft(e.currentMannschaft)})),m.Bc(103),m.ac(104,"translate"),m.Pb(),m.Bc(105," \xa0 "),m.Qb(106,"bla-button",28),m.Xb("onClick",(function(){return e.gesamt=!1,e.loadEinzelstatistik(e.currentMannschaft)})),m.Bc(107),m.ac(108,"translate"),m.Pb(),m.Bc(109," \xa0 "),m.Qb(110,"bla-button",29),m.Xb("onClick",(function(){return e.gesamt=!0,e.loadGesamtstatistik(e.currentMannschaft)})),m.Bc(111),m.ac(112,"translate"),m.Pb(),m.Bc(113," \xa0 "),m.Qb(114,"bla-download-button",30),m.Bc(115),m.ac(116,"translate"),m.Pb(),m.Qb(117,"bla-download-button",31),m.Bc(118),m.ac(119,"translate"),m.Pb(),m.Pb(),m.zc(120,j,12,6,"div",32),m.Qb(121,"div",33),m.Qb(122,"div",16),m.Bc(123),m.ac(124,"translate"),m.Pb(),m.Pb(),m.Qb(125,"div",17),m.Qb(126,"div",34),m.Qb(127,"h3"),m.Bc(128),m.ac(129,"translate"),m.Pb(),m.Mb(130,"bla-data-table",35),m.Pb(),m.Pb(),m.Qb(131,"div",17),m.Qb(132,"div",36),m.Qb(133,"h3"),m.Bc(134),m.ac(135,"translate"),m.Pb(),m.Qb(136,"bla-download-button",37),m.Bc(137),m.ac(138,"translate"),m.Pb(),m.Mb(139,"bla-data-table",38),m.Mb(140,"bla-data-table",39),m.Pb(),m.Pb(),m.Qb(141,"div",17),m.Qb(142,"div",40),m.Qb(143,"h3"),m.Bc(144),m.ac(145,"translate"),m.Pb(),m.Qb(146,"bla-download-button",41),m.Bc(147),m.ac(148,"translate"),m.Pb(),m.Mb(149,"bla-data-table",42),m.Mb(150,"bla-data-table",43),m.Pb(),m.Pb(),m.Qb(151,"div",17),m.Qb(152,"div",44),m.Qb(153,"h3"),m.Bc(154),m.ac(155,"translate"),m.Pb(),m.Qb(156,"bla-download-button",45),m.Bc(157),m.ac(158,"translate"),m.Pb(),m.Mb(159,"bla-data-table",46),m.Mb(160,"bla-data-table",47),m.Pb(),m.Pb(),m.Qb(161,"div",17),m.Qb(162,"div",48),m.Qb(163,"h3"),m.Bc(164),m.ac(165,"translate"),m.Pb(),m.Qb(166,"bla-download-button",49),m.Bc(167),m.ac(168,"translate"),m.Pb(),m.Mb(169,"bla-data-table",50),m.Mb(170,"bla-data-table",51),m.Pb(),m.Pb(),m.Qb(171,"div",52),m.Mb(172,"div",53),m.Mb(173,"div",54),m.Pb(),m.Pb(),m.Pb(),m.Pb()),2&t&&(m.fc("config",e.config),m.zb(4),m.Cc(m.bc(5,109,"VEREINE.VEREINE.DESCRIPTION")),m.zb(7),m.Cc(e.currentVeranstaltung.name),m.zb(5),m.Dc(" ",e.getTitle(),""),m.zb(5),m.Cc(m.bc(22,111,"MANNSCHAFTEN.MANNSCHAFTEN.FORM.VERANSTALTUNG_NAME.LABEL")),m.zb(3),m.fc("id","quickSearch")("loading",e.areVeranstaltungenLoading)("items",e.veranstaltungen)("selectedItemIds",m.kc(167,Z,e.currentVeranstaltung.id))("optionFieldSelector","name")("multipleSelections",!e.multipleSelections),m.zb(5),m.Cc(m.bc(30,113,"MANNSCHAFTEN.MANNSCHAFTEN.FORM.MANNSCHAFT_NAME.LABEL")),m.zb(3),m.fc("ngModel",e.currentMannschaft)("disabled",e.loadingData),m.zb(1),m.fc("ngForOf",e.mannschaften),m.zb(2),m.Dc(" ",m.bc(36,115,"MANAGEMENT.REGION_DETAIL.FORM.REGION_TYP.ERROR")," "),m.zb(5),m.Cc(m.bc(41,117,"MANNSCHAFTEN.MANNSCHAFTEN.FORM.SPORTJAHR.LABEL")),m.zb(3),m.fc("ngModel",e.currentJahr),m.zb(1),m.fc("ngForOf",e.jahre),m.zb(2),m.Dc(" ",m.bc(47,119,"MANAGEMENT.REGION_DETAIL.FORM.REGION_TYP.ERROR")," "),m.zb(5),m.Cc(m.bc(52,121,"MANAGEMENT.VEREIN_DETAIL.TITLE")),m.zb(5),m.Dc("",m.bc(57,123,"MANAGEMENT.VEREIN_DETAIL.FORM.VEREIN_NAME.LABEL"),":"),m.zb(5),m.Cc(e.currentVerein.name),m.zb(4),m.Dc("",m.bc(66,125,"MANAGEMENT.VEREIN_DETAIL.FORM.VEREIN_REGION.LABEL"),":"),m.zb(5),m.Cc(e.currentVerein.regionName),m.zb(4),m.Dc("",m.bc(75,127,"MANAGEMENT.VEREIN_DETAIL.FORM.VEREIN_WEBSITE.LABEL"),":"),m.zb(5),m.gc("href",e.currentVerein.website,m.sc),m.zb(1),m.Cc(e.currentVerein.website),m.zb(4),m.Dc("",m.bc(85,129,"MANAGEMENT.VEREIN_DETAIL.FORM.VEREIN_DESCRIPTION.LABEL"),":"),m.zb(4),m.Cc(e.currentVerein.description),m.zb(4),m.Dc("",m.bc(93,131,"MANAGEMENT.VEREIN_DETAIL.FORM.VEREIN_ICON.LABEL"),":"),m.zb(3),m.gc("src",e.currentVerein.icon,m.sc),m.gc("alt",m.bc(96,133,"MANAGEMENT.VEREIN_DETAIL.FORM.VEREIN_ICON.ERROR_PLACEHOLDER")),m.zb(3),m.fc("id","showResultsButton")("loading",e.loadingData),m.zb(1),m.Dc(" ",m.bc(100,135,"MANNSCHAFTEN.MANNSCHAFTEN.BUTTONS.ANZEIGENALL.LABEL")," "),m.zb(3),m.fc("id","showResultsButton")("loading",e.loadingData),m.zb(1),m.Dc(" ",m.bc(104,137,"MANNSCHAFTEN.MANNSCHAFTEN.BUTTONS.ANZEIGEN.LABEL")," "),m.zb(3),m.fc("id","showResultsButton")("loading",e.loadingData),m.zb(1),m.Dc(" ",m.bc(108,139,"MANNSCHAFTEN.MANNSCHAFTEN.BUTTONS.ANZEIGENEINZEL.LABEL")," "),m.zb(3),m.fc("id","showResultsButton")("loading",e.loadingData),m.zb(1),m.Dc(" ",m.bc(112,141,"MANNSCHAFTEN.MANNSCHAFTEN.BUTTONS.ANZEIGENEINZELGESAMT.LABEL")," "),m.zb(3),m.fc("id","downloadEinzelstatistik")("loading",e.loadingData)("downloadUrl",e.onButtonDownload("pdf/Einzelstatistik"))("fileName","Einzelstatistik.pdf"),m.zb(1),m.Dc(" ",m.bc(116,143,"WETTKAEMPFE.BUTTONS.EINZEL_ALS_PDF.LABEL")," "),m.zb(2),m.fc("id","downloadGesamtstatistik")("loading",e.loadingData)("downloadUrl",e.onButtonDownload("pdf/Gesamtstatistik"))("fileName","Gesamtstatistik.pdf"),m.zb(1),m.Dc(" ",m.bc(119,145,"WETTKAEMPFE.BUTTONS.GESAMT_ALS_PDF.LABEL")," "),m.zb(2),m.fc("ngIf",e.popup),m.zb(3),m.Dc(" ",m.bc(124,147,"MANAGEMENT.REGION_DETAIL.FORM.REGION_TYP.ERROR")," "),m.zb(5),m.Cc(m.bc(129,149,"MANNSCHAFTEN.SCHUETZEN_STATISTIK.TITEL")),m.zb(2),m.fc("loading",e.loadingData)("config",e.config_einzelGesamt_table)("rows",e.rows[0]),m.zb(2),m.fc("hidden",!e.isTableFilled[0]),m.zb(2),m.Cc(m.bc(135,151,"WETTKAEMPFE.WETTKAEMPFE.WETTKAMPFTAGEINS")),m.zb(2),m.fc("id","downloadTagesuebersicht")("downloadUrl",e.onButtonDownloadUebersicht("pdf/Uebersicht/?wettkampftag=1"))("fileName","Tagesuebersicht.pdf"),m.zb(1),m.Dc(" ",m.bc(138,153,"WETTKAEMPFE.BUTTONS.TAGESUEBERSICHT_ALS_PDF")," "),m.zb(2),m.fc("loading",e.loadingData)("config",e.config_table)("rows",e.rows[0]),m.zb(1),m.fc("loading",e.loadingData)("config",e.config_einzel_table)("rows",e.rows[0]),m.zb(2),m.fc("hidden",!e.isTableFilled[1]),m.zb(2),m.Cc(m.bc(145,155,"WETTKAEMPFE.WETTKAEMPFE.WETTKAMPFTAGZWEI")),m.zb(2),m.fc("id","downloadTagesuebersicht")("downloadUrl",e.onButtonDownloadUebersicht("pdf/Uebersicht/?wettkampftag=2"))("fileName","Tagesuebersicht.pdf"),m.zb(1),m.Dc(" ",m.bc(148,157,"WETTKAEMPFE.BUTTONS.TAGESUEBERSICHT_ALS_PDF")," "),m.zb(2),m.fc("loading",e.loadingData)("config",e.config_table)("rows",e.rows[1]),m.zb(1),m.fc("loading",e.loadingData)("config",e.config_einzel_table)("rows",e.rows[1]),m.zb(2),m.fc("hidden",!e.isTableFilled[2]),m.zb(2),m.Cc(m.bc(155,159,"WETTKAEMPFE.WETTKAEMPFE.WETTKAMPFTAGDREI")),m.zb(2),m.fc("id","downloadTagesuebersicht")("downloadUrl",e.onButtonDownloadUebersicht("pdf/Uebersicht/?wettkampftag=3"))("fileName","Tagesuebersicht.pdf"),m.zb(1),m.Dc(" ",m.bc(158,161,"WETTKAEMPFE.BUTTONS.TAGESUEBERSICHT_ALS_PDF")," "),m.zb(2),m.fc("loading",e.loadingData)("config",e.config_table)("rows",e.rows[2]),m.zb(1),m.fc("loading",e.loadingData)("config",e.config_einzel_table)("rows",e.rows[2]),m.zb(2),m.fc("hidden",!e.isTableFilled[3]),m.zb(2),m.Cc(m.bc(165,163,"WETTKAEMPFE.WETTKAEMPFE.WETTKAMPFTAGVIER")),m.zb(2),m.fc("id","downloadTagesuebersicht")("downloadUrl",e.onButtonDownloadUebersicht("pdf/Uebersicht/?wettkampftag=4"))("fileName","Tagesuebersicht.pdf"),m.zb(1),m.Dc(" ",m.bc(168,165,"WETTKAEMPFE.BUTTONS.TAGESUEBERSICHT_ALS_PDF")," "),m.zb(2),m.fc("loading",e.loadingData)("config",e.config_table)("rows",e.rows[3]),m.zb(1),m.fc("loading",e.loadingData)("config",e.config_einzel_table)("rows",e.rows[3]))},directives:[D.a,U.a,i.D,i.o,i.p,Q.a,i.z,i.n,i.q,a.s,H.a,V.a,a.t,_.a,i.s,i.C],pipes:[W.d],styles:["#Button[_ngcontent-%COMP%], #showResultButton[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{margin-top:20px}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;background:rgba(0,0,0,.7);transition:opacity .5s;visibility:visible;opacity:1}.popup[_ngcontent-%COMP%]{margin:70px auto;padding:20px;background:#fff;border-radius:5px;width:40%;height:auto;position:relative;transition:all 5s ease-in-out}.popup[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;top:20px;right:30px;transition:all .2s;font-size:30px;font-weight:700;text-decoration:none;color:#333}.hidden[_ngcontent-%COMP%]{display:none}textarea[readonly][_ngcontent-%COMP%]{background-color:#fff}"]}),t})();const J=[{path:"",pathMatch:"full",component:x},{path:":Wettkampf",pathMatch:"full",component:x},{path:":Wettkampf/:Mannschaft",pathMatch:"full",component:x}];let q=(()=>{class t{}return t.\u0275mod=m.Jb({type:t}),t.\u0275inj=m.Ib({factory:function(e){return new(e||t)},imports:[[a.c,s.g.forChild(J),r.a,i.k]]}),t})()}}]);