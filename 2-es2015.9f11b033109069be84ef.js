(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{gmyM:function(t,e,n){"use strict";n.r(e),n.d(e,"WettkampfModule",(function(){return Y}));var a=n("ofXK"),i=n("3Pt+"),s=n("tyNb"),r=n("FpXt"),o=n("mrSG");const d={moduleTranslationKey:"MANNSCHAFT",pageTitleTranslationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TITLE",navigationCardsConfig:{navigationCards:[]}};var l=n("PEb7"),c=n("YfBl");const h={columns:[{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.MATCH",propertyName:"matchNr",width:5},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.MANNSCHAFT",propertyName:"mannschaftName",width:20},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SATZ1",propertyName:"mannschaftSatz1",width:5},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SATZ2",propertyName:"mannschaftSatz2",width:5},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SATZ3",propertyName:"mannschaftSatz3",width:5},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SATZ4",propertyName:"mannschaftSatz4",width:5},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SATZ5",propertyName:"mannschaftSatz5",width:5},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.OPPONENT",propertyName:"opponentName",width:20},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SATZ1",propertyName:"opponentSatz1",width:5},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SATZ2",propertyName:"opponentSatz2",width:5},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SATZ3",propertyName:"opponentSatz3",width:5},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SATZ4",propertyName:"opponentSatz4",width:5},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SATZ5",propertyName:"opponentSatz5",width:5},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SATZPUNKTE",propertyName:"satzpunkte",width:20},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.MATCHPUNKTE",propertyName:"matchpunkte",width:20}]},b={columns:[{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.RUEKENNUMMER",propertyName:"rueckenNummer",width:100},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SCHUETZE",propertyName:"dsbMitgliedName",width:100},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.MATCH",propertyName:"matchNr",width:100},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.DURCHSCHPFEILWERTMATCH",propertyName:"pfeilpunkteSchnitt",width:30}]},u={columns:[{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.RUEKENNUMMER",propertyName:"rueckenNummer",width:100},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SCHUETZE",propertyName:"dsbMitgliedName",width:80},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.DURCHSCHPFEILWERTJAHR",propertyName:"pfeilpunkteSchnitt",width:80}]};class N{constructor(t,e,n,a,i,s,r,o,d,l,c,h,b,u,N,m){this.matchNr=t,this.wettkampfId=e,this.mannschaftName=n,this.mannschaftSatz1=a,this.mannschaftSatz2=i,this.mannschaftSatz3=s,this.mannschaftSatz4=r,this.mannschaftSatz5=o,this.opponentName=d,this.opponentSatz1=l,this.opponentSatz2=c,this.opponentSatz3=h,this.opponentSatz4=b,this.opponentSatz5=u,this.satzpunkte=N,this.matchpunkte=m}}var m=n("fXoL");let f=(()=>{class t{constructor(){this.wettkampfErgebnisse=[],this.mannschaften=[],this.matches=[],this.passen=[],this.mitglieder=[],this.mannschaftsmitglieder=[]}getMannschaftsname(t){for(const e of this.mannschaften)if(e.id===t)return e.name}getSatzergebnis(t,e,n){let a=null;const i=this.passen.filter(a=>a.matchNr===t&&a.lfdNr===e&&n===a.mannschaftId);for(const s of i)for(const t of s.ringzahl)a+=t;return a}getSatzpunkte(t){let e="-",n="-";return null!=this.matches[t].satzpunkte&&(e=String(this.matches[t].satzpunkte)),null!=this.matches[t+1].satzpunkte&&(n=String(this.matches[t+1].satzpunkte)),e+" : "+n}getMatchpunkte(t){let e="-",n="-";return null!=this.matches[t].matchpunkte&&(e=String(this.matches[t].matchpunkte)),null!=this.matches[t+1].matchpunkte&&(n=String(this.matches[t+1].matchpunkte)),e+" : "+n}createErgebnisse(t,e,n,a,i,s){return this.matches=i,this.passen=s,this.currentMannschaft=e,this.veranstaltung=a,this.mannschaften=n,this.sportjahr=t,null!=this.currentMannschaft&&(this.matches=this.filterMannschaft()),this.createWettkampfergebnisse()}filterMannschaft(){const t=[];for(let e=0;e<this.matches.length;e+=2)this.currentMannschaft.id!==this.matches[e].mannschaftId&&this.currentMannschaft.id!==this.matches[e+1].mannschaftId||(t.push(this.matches[e]),t.push(this.matches[e+1]));return t}createWettkampfergebnisse(){this.wettkampfErgebnisse=[];for(let t=0;t<this.matches.length;t+=2){const e=new N(this.matches[t].nr,this.matches[t].wettkampfId,this.getMannschaftsname(this.matches[t].mannschaftId),this.getSatzergebnis(this.matches[t].nr,1,this.matches[t].mannschaftId),this.getSatzergebnis(this.matches[t].nr,2,this.matches[t].mannschaftId),this.getSatzergebnis(this.matches[t].nr,3,this.matches[t].mannschaftId),this.getSatzergebnis(this.matches[t].nr,4,this.matches[t].mannschaftId),this.getSatzergebnis(this.matches[t].nr,5,this.matches[t].mannschaftId),this.getMannschaftsname(this.matches[t+1].mannschaftId),this.getSatzergebnis(this.matches[t+1].nr,1,this.matches[t+1].mannschaftId),this.getSatzergebnis(this.matches[t+1].nr,2,this.matches[t+1].mannschaftId),this.getSatzergebnis(this.matches[t+1].nr,3,this.matches[t+1].mannschaftId),this.getSatzergebnis(this.matches[t+1].nr,4,this.matches[t+1].mannschaftId),this.getSatzergebnis(this.matches[t+1].nr,5,this.matches[t+1].mannschaftId),this.getSatzpunkte(t),this.getMatchpunkte(t));this.wettkampfErgebnisse.push(e)}return this.matches=[],this.passen=[],this.wettkampfErgebnisse}filterPassen(){const t=[];for(const e of this.passen)this.currentMannschaft.id===e.mannschaftId&&t.push(e);return t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=m.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var g=n("X628"),E=n("ny2l"),p=n("qvop"),A=n("th7h"),T=n("TNm4");let S=(()=>{class t extends c.DataProviderService{constructor(t,e){super(),this.restClient=t,this.currentUserService=e,this.serviceSubUrl="v1/match"}findByWettkampfId(t){return new Promise((e,n)=>{this.restClient.GET((new c.UriBuilder).fromPath(this.getUrl()).path("findByWettkampfId/wettkampfid="+t).build()).then(t=>{e({result:c.RequestResult.SUCCESS,payload:Object(T.a)(t)})},t=>{n(0===t.status?{result:c.RequestResult.CONNECTION_PROBLEM}:{result:c.RequestResult.FAILURE})})})}findAll(){return new Promise((t,e)=>{this.restClient.GET(this.getUrl()+"/").then(e=>{t({result:c.RequestResult.SUCCESS,payload:Object(T.a)(e)})},t=>{e(0===t.status?{result:c.RequestResult.CONNECTION_PROBLEM}:{result:c.RequestResult.FAILURE})})})}}return t.\u0275fac=function(e){return new(e||t)(m.Sb(c.RestClient),m.Sb(A.a))},t.\u0275prov=m.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var M=n("sQ0O"),w=n("TcZ0"),O=n("nr0C"),v=n("FlTZ"),y=n("NJqk");class L{constructor(t,e,n,a,i,s,r,o,d,l,c,h,b,u,N,m){this.id=t,this.version=e,this.mannschaftsId=n,this.dsbMitgliedId=a,this.dsbMitgliedName=i,this.mannschaftNummer=s,this.matchId=r,this.matchNr=o,this.rueckenNummer=l,this.pfeilpunkteSchnitt=d,this.veranstaltungId=c,this.veranstaltungName=h,this.vereinId=b,this.vereinName=u,this.wettkampfId=N,this.wettkampfTag=m}static copyFrom(t){return new L(t.id||null,t.version||null,t.mannschaftsId||null,t.dsbMitgliedId||null,t.dsbMitgliedName||null,t.mannschaftNummer||null,t.matchId||null,t.matchNr||null,t.pfeilpunkteSchnitt||null,t.rueckenNummer||null,t.veranstaltungId||null,t.veranstaltungName||null,t.vereinId||null,t.vereinName||null,t.wettkampfId||null,t.wettkampfTag||null)}}function C(t){const e=[];return t.forEach(t=>e.push(function(t){return L.copyFrom(t)}(t))),e}let I=(()=>{class t extends c.DataProviderService{constructor(t,e){super(),this.restClient=t,this.currentUserService=e,this.serviceSubUrl="v1/schuetzenstatistik"}getSchuetzenstatistikVeranstaltung(t,e){return new Promise((n,a)=>{this.restClient.GET((new c.UriBuilder).fromPath(this.getUrl()).path("byVeranstaltungAndVerein/"+e+"/"+t).build()).then(t=>{n({result:c.RequestResult.SUCCESS,payload:C(t)})},t=>{a(0===t.status?{result:c.RequestResult.CONNECTION_PROBLEM}:{result:c.RequestResult.FAILURE})})})}getSchuetzenstatistikWettkampf(t,e){return new Promise((n,a)=>{this.restClient.GET((new c.UriBuilder).fromPath(this.getUrl()).path("byWettkampfAndVerein/"+e+"/"+t).build()).then(t=>{n({result:c.RequestResult.SUCCESS,payload:C(t)})},t=>{a(0===t.status?{result:c.RequestResult.CONNECTION_PROBLEM}:{result:c.RequestResult.FAILURE})})})}}return t.\u0275fac=function(e){return new(e||t)(m.Sb(c.RestClient),m.Sb(y.a))},t.\u0275prov=m.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var k=n("x61S"),B=n("6aDh"),F=n("BGab"),R=n("TmMT"),P=n("AytR"),x=n("w90F"),U=n("yljE"),H=n("/2r1"),D=n("xRjW"),z=n("xOPY"),V=n("sYmb");function _(t,e){if(1&t&&(m.Ob(0,"option",51),m.wc(1),m.Nb()),2&t){const t=e.$implicit;m.dc("ngValue",t),m.xb(1),m.yc(" ",t.name,"")}}function K(t,e){if(1&t&&(m.Ob(0,"option"),m.wc(1),m.Nb()),2&t){const t=e.$implicit;m.xb(1),m.yc(" ",t,"")}}function W(t,e){if(1&t){const t=m.Pb();m.Ob(0,"div",52),m.Ob(1,"div",53),m.Ob(2,"h2"),m.wc(3),m.Yb(4,"translate"),m.Nb(),m.Ob(5,"a",54),m.Vb("click",(function(){return m.nc(t),m.Xb().popup=!1})),m.wc(6,"\xd7"),m.Nb(),m.Ob(7,"div",55),m.Ob(8,"p"),m.wc(9),m.Yb(10,"translate"),m.Nb(),m.Kb(11,"p"),m.Nb(),m.Nb(),m.Nb()}2&t&&(m.xb(3),m.xc(m.Zb(4,2,"MANNSCHAFTEN.MANNSCHAFTEN.POPUPTXT.POPUP\xdcBERSCHRIFT.LABEL")),m.xb(6),m.yc("",m.Zb(10,4,"MANNSCHAFTEN.MANNSCHAFTEN.POPUPTXT.POPUPINHALT.LABEL")," "))}const Z=function(t){return[t]};let G=(()=>{class t extends l.CommonComponentDirective{constructor(t,e,n,a,i,s,r,o,l,c,N,m,f){super(),this.veranstaltungsDataProvider=t,this.vereinDataProvider=e,this.wettkampfDataProviderService=n,this.matchDataProviderService=a,this.passeDataProviderService=i,this.wettkampfErgebnisService=s,this.mannschaftDataProvider=r,this.dsbMitgliedDataProvider=o,this.mannschaftsmitgliedDataProvider=l,this.schuetzenstatistikDataProvider=c,this.router=N,this.route=m,this.notificationService=f,this.show=!1,this.directMannschaft=null,this.directWettkampf=null,this.routes=null,this.config=d,this.config_table=h,this.config_einzel_table=b,this.config_einzelGesamt_table=u,this.jahre=[],this.vereine=[],this.mannschaften=[],this.veranstaltungen=[],this.currentVeranstaltung=new k.a,this.currentMannschaft=new p.a,this.currentVerein=new B.a,this.multipleSelections=!0,this.rows=new Array,this.areVeranstaltungenLoading=!0,this.loadingData=!1,this.matches=[],this.wettkaempfe=[],this.passen=[],this.mannschaftsmitglieder=[],this.dsbMitglieder=[],this.gesamt=!1,this.isTableFilled=[!1,!1,!1,!1]}ngOnInit(){this.route.params.subscribe(t=>{Object(g.c)(t.Wettkampf)||Object(g.c)(t.Mannschaft)?Object(g.c)(t.Wettkampf)||(this.directWettkampf=parseInt(t.Wettkampf,10)):(this.directWettkampf=parseInt(t.Wettkampf,10),this.directMannschaft=parseInt(t.Mannschaft,10))}),this.loadVeranstaltungen()}loadVerein(t){return Object(o.a)(this,void 0,void 0,(function*(){yield this.vereinDataProvider.findById(t).then(t=>this.handleLoadVerein(t)).catch(()=>this.handleLoadVerein(null)),document.getElementById("vereinsinformationen").classList.remove("hidden")}))}handleLoadVerein(t){this.currentVerein=t.payload}loadAllErgebnisse(t){return Object(o.a)(this,void 0,void 0,(function*(){this.loadingData=!0,yield this.loadErgebnisse(t),this.loadingData=!1}))}loadErgebnisForMannschaft(t){return Object(o.a)(this,void 0,void 0,(function*(){this.loadingData=!0,yield this.loadPopup(this.currentMannschaft),yield this.loadErgebnisse(t),this.loadingData=!1}))}loadErgebnisse(t){return Object(o.a)(this,void 0,void 0,(function*(){void 0===t?this.showUebersichtsButtons():this.hideUebersichtsButtons();for(let t=0;t<4;t++){let e="row";e+=t,document.getElementById(e).classList.remove("hidden"),e+="1",document.getElementById(e).classList.add("hidden")}for(let t=0;t<=4;t++){let e="Table";e+=t,0===t?document.getElementById(e).classList.add("hidden"):document.getElementById(e).classList.remove("hidden")}this.rows=[];for(let e=0;e<this.wettkaempfe.length;e++)this.rows.push(Object(l.toTableRows)(this.wettkampfErgebnisService.createErgebnisse(this.currentJahr,t,this.mannschaften,this.currentVeranstaltung,this.matches[e],this.passen[e])));for(let t=0;t<this.rows.length;t++)this.rows[t].length>0&&(this.isTableFilled[t]=!0);document.getElementById("einzeldruckButton").classList.add("hidden"),void 0===t&&document.getElementById("vereinsinformationen").classList.add("hidden"),document.getElementById("gesamtdruckButton").classList.add("hidden")}))}loadEinzelstatistik(t){return Object(o.a)(this,void 0,void 0,(function*(){if(this.loadPopup(this.currentMannschaft),this.hideUebersichtsButtons(),null!=t){for(let t=0;t<4;t++){let e="row";e+=t,document.getElementById(e).classList.add("hidden"),e+="1",document.getElementById(e).classList.remove("hidden")}for(let t=0;t<=4;t++){let e="Table";e+=t,0===t?document.getElementById(e).classList.add("hidden"):document.getElementById(e).classList.remove("hidden")}this.rows=[],yield this.loadSchuetzenstatistiken(t.vereinId,0),document.getElementById("einzeldruckButton").classList.remove("hidden"),document.getElementById("gesamtdruckButton").classList.add("hidden");for(let t=0;t<this.rows.length;t++)this.rows[t].length>0&&(this.isTableFilled[t]=!0)}this.loadingData=!1}))}loadGesamtstatistik(t){return Object(o.a)(this,void 0,void 0,(function*(){if(yield this.loadPopup(this.currentMannschaft),this.hideUebersichtsButtons(),null!=t){for(let t=0;t<4;t++){let e="row";e+=t,document.getElementById(e).classList.add("hidden"),e+="1",document.getElementById(e).classList.add("hidden")}for(let t=0;t<=4;t++){let e="Table";e+=t,0===t?document.getElementById(e).classList.remove("hidden"):document.getElementById(e).classList.add("hidden")}this.rows=[],yield this.schuetzenstatistikDataProvider.getSchuetzenstatistikVeranstaltung(t.vereinId,this.currentVeranstaltung.id).then(t=>this.handleLoadSchuetzenstatistikSuccess(t.payload)),document.getElementById("einzeldruckButton").classList.add("hidden"),document.getElementById("gesamtdruckButton").classList.remove("hidden");for(let t=0;t<this.rows.length;t++)this.rows[t].length>0&&(this.isTableFilled[t]=!0)}this.loadingData=!1}))}loadSchuetzenstatistiken(t,e){return Object(o.a)(this,void 0,void 0,(function*(){if(yield this.loadSchuetzenstatistikEinzel(t,this.wettkaempfe[e].id).then(t=>this.handleLoadSchuetzenstatistikSuccess(t.payload)),e<this.wettkaempfe.length-1)return this.loadSchuetzenstatistiken(t,e+=1)}))}loadSchuetzenstatistikEinzel(t,e){return Object(o.a)(this,void 0,void 0,(function*(){return this.schuetzenstatistikDataProvider.getSchuetzenstatistikWettkampf(t,e)}))}handleLoadSchuetzenstatistikSuccess(t){t.length>0&&(console.log(t),this.rows.push(Object(l.toTableRows)(t)))}loadPopup(t){return t?this.loadingData=!0:(this.popup=!0,this.loadingData=!1),this.popup}onSelect(t){this.currentVeranstaltung=t[0],this.currentJahr=this.currentVeranstaltung.sportjahr,this.jahre[0]=this.currentJahr,this.clear(),this.loadMannschaften(this.currentVeranstaltung.id),this.loadWettkaempfe(this.currentVeranstaltung.id)}clear(){this.matches=[],this.passen=[],this.wettkaempfe=[],this.rows=[]}loadVeranstaltungen(){return Object(o.a)(this,void 0,void 0,(function*(){this.loadingData=!0,yield this.veranstaltungsDataProvider.findAll().then(t=>this.handleSuccessLoadVeranstaltungen(t)).catch(()=>this.veranstaltungen=[])}))}handleSuccessLoadVeranstaltungen(t){return Object(o.a)(this,void 0,void 0,(function*(){if(this.veranstaltungen=t.payload,null!=this.directWettkampf)for(const t of this.veranstaltungen){if(this.directWettkampf===t.id){this.currentVeranstaltung=t;break}this.currentVeranstaltung=this.veranstaltungen[0]}else this.currentVeranstaltung=this.veranstaltungen[0];this.areVeranstaltungenLoading=!1,this.currentJahr=this.currentVeranstaltung.sportjahr,yield this.loadMannschaften(this.currentVeranstaltung.id),yield this.loadWettkaempfe(this.currentVeranstaltung.id),yield this.loadJahre(),this.loadingData=!1}))}loadMannschaften(t){return Object(o.a)(this,void 0,void 0,(function*(){yield this.mannschaftDataProvider.findAllByVeranstaltungsId(t).then(t=>this.handleSuccessLoadMannschaft(t)).catch(()=>this.mannschaften===[])}))}handleSuccessLoadMannschaft(t){if(this.mannschaften=t.payload,null!=this.directMannschaft)for(const e of this.mannschaften)this.directMannschaft===e.id&&(this.mannschaften[0]=e),this.currentMannschaft=this.mannschaften[0];else null!==this.currentMannschaft&&(this.currentMannschaft=void 0)}loadJahre(){return Object(o.a)(this,void 0,void 0,(function*(){for(const t of this.veranstaltungen)!1===this.jahre.includes(t.sportjahr)&&(this.jahre[this.jahre.length]=t.sportjahr)}))}loadWettkaempfe(t){return Object(o.a)(this,void 0,void 0,(function*(){yield this.wettkampfDataProviderService.findAllByVeranstaltungId(t).then(t=>this.handleLoadWettkaempfe(t.payload)).catch(()=>this.handleLoadWettkaempfe([]))}))}loadWettkaempfeByCurrentMannschaft(){return Object(o.a)(this,void 0,void 0,(function*(){yield this.wettkampfDataProviderService.findAllWettkaempfeByMannschaftsId(this.currentMannschaft.id).then(t=>this.handleLoadWettkaempfe(t.payload)).catch(()=>this.handleLoadWettkaempfe([]))}))}handleLoadWettkaempfe(t){return Object(o.a)(this,void 0,void 0,(function*(){this.wettkaempfe=t;for(let t=0;t<this.wettkaempfe.length;t++)yield this.loadMatches(this.wettkaempfe[t].id,t)}))}loadMatches(t,e){return Object(o.a)(this,void 0,void 0,(function*(){yield this.matchDataProviderService.findByWettkampfId(t).then(n=>this.handleSuccessLoadMatches(n.payload,t,e)).catch(()=>this.handleSuccessLoadMatches([],t,e))}))}handleSuccessLoadMatches(t,e,n){return Object(o.a)(this,void 0,void 0,(function*(){this.matches[n]=t,yield this.loadPassen(e,t,n)}))}loadPassen(t,e,n){return Object(o.a)(this,void 0,void 0,(function*(){yield this.passeDataProviderService.findByWettkampfId(t).then(t=>this.handleSuccessLoadPassen(t.payload,e,n)).catch(()=>this.handleSuccessLoadPassen([],e,n))}))}handleSuccessLoadPassen(t,e,n){this.passen[n]=t,this.rows[n]=Object(l.toTableRows)(this.wettkampfErgebnisService.createErgebnisse(this.currentJahr,void 0,this.mannschaften,this.currentVeranstaltung,e,t))}getTitle(){let t=" ";return void 0!==this.currentMannschaft&&(t=this.currentMannschaft.name),t}onButtonDownloadUebersicht(t){return(new c.UriBuilder).fromPath(P.a.backendBaseUrl).path("v1/download").path(t+"&veranstaltungsid="+this.currentVeranstaltung.id).build()}hideUebersichtsButtons(){document.getElementById("TagesuebersichtButton").classList.add("hidden"),document.getElementById("TagesuebersichtButton2").classList.add("hidden"),document.getElementById("TagesuebersichtButton3").classList.add("hidden"),document.getElementById("TagesuebersichtButton4").classList.add("hidden")}showUebersichtsButtons(){document.getElementById("TagesuebersichtButton").classList.remove("hidden"),document.getElementById("TagesuebersichtButton2").classList.remove("hidden"),document.getElementById("TagesuebersichtButton3").classList.remove("hidden"),document.getElementById("TagesuebersichtButton4").classList.remove("hidden")}onButtonDownload(t){return(new c.UriBuilder).fromPath(P.a.backendBaseUrl).path("v1/download").path(t).path("?veranstaltungsid="+this.currentVeranstaltung.id+"&manschaftsid="+this.getMannschaftsID()+"&jahr="+this.currentJahr).build()}getMannschaftsID(){return void 0!==this.currentMannschaft?this.currentMannschaft.id:-1}onSelectVerein(){return Object(o.a)(this,void 0,void 0,(function*(){console.log("Verein switched to "+this.currentMannschaft.name),this.loadingData=!0,this.mannschaftAlreadyLoaded(this.currentMannschaft.id)||(yield this.loadWettkaempfeByCurrentMannschaft()),yield this.loadVerein(this.currentMannschaft.vereinId),this.loadingData=!1}))}mannschaftAlreadyLoaded(t){for(const e of this.mannschaften)if(t===e.id)return!0;return!1}updateResults(){return Object(o.a)(this,void 0,void 0,(function*(){this.loadingData=!0,yield this.loadWettkaempfe(this.currentVeranstaltung.id),this.loadingData=!1}))}}return t.\u0275fac=function(e){return new(e||t)(m.Jb(O.a),m.Jb(v.a),m.Jb(M.a),m.Jb(S),m.Jb(w.a),m.Jb(f),m.Jb(E.a),m.Jb(F.a),m.Jb(R.a),m.Jb(I),m.Jb(s.c),m.Jb(s.a),m.Jb(y.e))},t.\u0275cmp=m.Db({type:t,selectors:[["bla-mannschaft"]],features:[m.ub],decls:163,vars:166,consts:[[3,"config"],["id","regionenForm",1,"horizontal-form","half-page"],["id","titel",1,"print1"],["id","titel2",1,"print1"],["id","selectVereink"],[1,"row"],[1,"col-sm-1","col-form-label"],[1,"col-sm-8"],[2,"width","50%","height","10em",3,"id","loading","items","selectedItemIds","optionFieldSelector","multipleSelections","onSelect"],["id","selectVerein"],["id","vereine","name","VereinName",1,"form-control",3,"ngModel","disabled","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"invalid-feedback"],[1,"row","print1"],["id","jahr","name","Jahre","disabled","true",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["id","vereinsinformationen",1,"hidden"],[1,"form-control"],[3,"href"],["readonly","",1,"form-control"],["width","100","height","100",3,"src","alt"],["id","Button"],["data-cy","alle-mannschaften-anzeigen-button",3,"id","loading","onClick"],[3,"id","loading","onClick"],["data-cy","einzelstatistik-anzeigen-button",3,"id","loading","onClick"],["data-cy","einzelstatistik-gesamt-anzeigen-button",3,"id","loading","onClick"],["id","einzeldruckButton",1,"hidden",3,"id","loading","downloadUrl","fileName"],["id","gesamtdruckButton",1,"hidden",3,"id","loading","downloadUrl","fileName"],["class","overlay",4,"ngIf"],[1,"col-sm-9"],["id","Table0",1,"hidden"],["id","row00",3,"loading","config","rows"],["id","Table1",1,"hidden",3,"hidden"],["id","TagesuebersichtButton",3,"id","downloadUrl","fileName"],["id","row0",3,"loading","config","rows"],["id","row01",1,"hidden",3,"loading","config","rows"],["id","Table2",1,"hidden",3,"hidden"],["id","TagesuebersichtButton2",3,"id","downloadUrl","fileName"],["id","row1",3,"loading","config","rows"],["id","row11",1,"hidden",3,"loading","config","rows"],["id","Table3",1,"hidden",3,"hidden"],["id","TagesuebersichtButton3",3,"id","downloadUrl","fileName"],["id","row2",3,"loading","config","rows"],["id","row21",1,"hidden",3,"loading","config","rows"],["id","Table4",1,"hidden",3,"hidden"],["id","TagesuebersichtButton4",3,"id","downloadUrl","fileName"],["id","row3",3,"loading","config","rows"],["id","row31",1,"hidden",3,"loading","config","rows"],[1,"form-group","row"],[1,"col-sm-3"],[1,"col-sm-9","button-box"],[3,"ngValue"],[1,"overlay"],[1,"popup"],[1,"close",3,"click"],[1,"content_popup"]],template:function(t,e){1&t&&(m.Ob(0,"bla-common-dialog",0),m.Ob(1,"form",1),m.Ob(2,"h3",2),m.wc(3),m.Nb(),m.Ob(4,"h2",3),m.wc(5),m.Nb(),m.Ob(6,"div",4),m.Ob(7,"div",5),m.Ob(8,"label",6),m.Ob(9,"span"),m.wc(10),m.Yb(11,"translate"),m.Nb(),m.Nb(),m.Ob(12,"div",7),m.Ob(13,"bla-selectionlist",8),m.Vb("onSelect",(function(t){return e.onSelect(t)})),m.Nb(),m.Nb(),m.Nb(),m.Nb(),m.Ob(14,"div",9),m.Ob(15,"div",5),m.Ob(16,"label",6),m.Ob(17,"span"),m.wc(18),m.Yb(19,"translate"),m.Nb(),m.Nb(),m.Ob(20,"div",7),m.Ob(21,"select",10),m.Vb("ngModelChange",(function(t){return e.currentMannschaft=t}))("ngModelChange",(function(){return e.onSelectVerein()})),m.uc(22,_,2,2,"option",11),m.Nb(),m.Ob(23,"div",12),m.wc(24),m.Yb(25,"translate"),m.Nb(),m.Nb(),m.Nb(),m.Nb(),m.Ob(26,"div",13),m.Ob(27,"label",6),m.Ob(28,"span"),m.wc(29),m.Yb(30,"translate"),m.Nb(),m.Nb(),m.Ob(31,"div",7),m.Ob(32,"select",14),m.Vb("ngModelChange",(function(t){return e.currentJahr=t})),m.uc(33,K,2,1,"option",15),m.Nb(),m.Ob(34,"div",12),m.wc(35),m.Yb(36,"translate"),m.Nb(),m.Nb(),m.Nb(),m.Kb(37,"br"),m.Ob(38,"div",16),m.Ob(39,"h3"),m.wc(40),m.Yb(41,"translate"),m.Nb(),m.Ob(42,"div",13),m.Ob(43,"label",6),m.Ob(44,"span"),m.wc(45),m.Yb(46,"translate"),m.Nb(),m.Nb(),m.Ob(47,"div",7),m.Ob(48,"div",17),m.Ob(49,"div"),m.wc(50),m.Nb(),m.Nb(),m.Nb(),m.Nb(),m.Ob(51,"div",13),m.Ob(52,"label",6),m.Ob(53,"span"),m.wc(54),m.Yb(55,"translate"),m.Nb(),m.Nb(),m.Ob(56,"div",7),m.Ob(57,"div",17),m.Ob(58,"div"),m.wc(59),m.Nb(),m.Nb(),m.Nb(),m.Nb(),m.Ob(60,"div",13),m.Ob(61,"label",6),m.Ob(62,"span"),m.wc(63),m.Yb(64,"translate"),m.Nb(),m.Nb(),m.Ob(65,"div",7),m.Ob(66,"div",17),m.Ob(67,"div"),m.Ob(68,"a",18),m.wc(69),m.Nb(),m.Nb(),m.Nb(),m.Nb(),m.Nb(),m.Ob(70,"div",13),m.Ob(71,"label",6),m.Ob(72,"span"),m.wc(73),m.Yb(74,"translate"),m.Nb(),m.Nb(),m.Ob(75,"div",7),m.Ob(76,"textarea",19),m.wc(77),m.Nb(),m.Nb(),m.Nb(),m.Ob(78,"div",13),m.Ob(79,"label",6),m.Ob(80,"span"),m.wc(81),m.Yb(82,"translate"),m.Nb(),m.Nb(),m.Ob(83,"div",7),m.Kb(84,"img",20),m.Yb(85,"translate"),m.Nb(),m.Nb(),m.Nb(),m.Ob(86,"div",21),m.Ob(87,"bla-button",22),m.Vb("onClick",(function(){return e.loadAllErgebnisse(void 0)})),m.wc(88),m.Yb(89,"translate"),m.Nb(),m.wc(90," \xa0 "),m.Ob(91,"bla-button",23),m.Vb("onClick",(function(){return e.gesamt=!1,e.loadErgebnisForMannschaft(e.currentMannschaft)})),m.wc(92),m.Yb(93,"translate"),m.Nb(),m.wc(94," \xa0 "),m.Ob(95,"bla-button",24),m.Vb("onClick",(function(){return e.gesamt=!1,e.loadEinzelstatistik(e.currentMannschaft)})),m.wc(96),m.Yb(97,"translate"),m.Nb(),m.wc(98," \xa0 "),m.Ob(99,"bla-button",25),m.Vb("onClick",(function(){return e.gesamt=!0,e.loadGesamtstatistik(e.currentMannschaft)})),m.wc(100),m.Yb(101,"translate"),m.Nb(),m.wc(102," \xa0 "),m.Ob(103,"bla-download-button",26),m.wc(104),m.Yb(105,"translate"),m.Nb(),m.Ob(106,"bla-download-button",27),m.wc(107),m.Yb(108,"translate"),m.Nb(),m.Nb(),m.uc(109,W,12,6,"div",28),m.Ob(110,"div",29),m.Ob(111,"div",12),m.wc(112),m.Yb(113,"translate"),m.Nb(),m.Nb(),m.Ob(114,"div",13),m.Ob(115,"div",30),m.Ob(116,"h3"),m.wc(117),m.Yb(118,"translate"),m.Nb(),m.Kb(119,"bla-data-table",31),m.Nb(),m.Nb(),m.Ob(120,"div",13),m.Ob(121,"div",32),m.Ob(122,"h3"),m.wc(123),m.Yb(124,"translate"),m.Nb(),m.Ob(125,"bla-download-button",33),m.wc(126),m.Yb(127,"translate"),m.Nb(),m.Kb(128,"bla-data-table",34),m.Kb(129,"bla-data-table",35),m.Nb(),m.Nb(),m.Ob(130,"div",13),m.Ob(131,"div",36),m.Ob(132,"h3"),m.wc(133),m.Yb(134,"translate"),m.Nb(),m.Ob(135,"bla-download-button",37),m.wc(136),m.Yb(137,"translate"),m.Nb(),m.Kb(138,"bla-data-table",38),m.Kb(139,"bla-data-table",39),m.Nb(),m.Nb(),m.Ob(140,"div",13),m.Ob(141,"div",40),m.Ob(142,"h3"),m.wc(143),m.Yb(144,"translate"),m.Nb(),m.Ob(145,"bla-download-button",41),m.wc(146),m.Yb(147,"translate"),m.Nb(),m.Kb(148,"bla-data-table",42),m.Kb(149,"bla-data-table",43),m.Nb(),m.Nb(),m.Ob(150,"div",13),m.Ob(151,"div",44),m.Ob(152,"h3"),m.wc(153),m.Yb(154,"translate"),m.Nb(),m.Ob(155,"bla-download-button",45),m.wc(156),m.Yb(157,"translate"),m.Nb(),m.Kb(158,"bla-data-table",46),m.Kb(159,"bla-data-table",47),m.Nb(),m.Nb(),m.Ob(160,"div",48),m.Kb(161,"div",49),m.Kb(162,"div",50),m.Nb(),m.Nb(),m.Nb()),2&t&&(m.dc("config",e.config),m.xb(3),m.xc(e.currentVeranstaltung.name),m.xb(2),m.xc(e.getTitle()),m.xb(5),m.xc(m.Zb(11,108,"MANNSCHAFTEN.MANNSCHAFTEN.FORM.VERANSTALTUNG_NAME.LABEL")),m.xb(3),m.dc("id","quickSearch")("loading",e.areVeranstaltungenLoading)("items",e.veranstaltungen)("selectedItemIds",m.ic(164,Z,e.currentVeranstaltung.id))("optionFieldSelector","name")("multipleSelections",!e.multipleSelections),m.xb(5),m.xc(m.Zb(19,110,"MANNSCHAFTEN.MANNSCHAFTEN.FORM.MANNSCHAFT_NAME.LABEL")),m.xb(3),m.dc("ngModel",e.currentMannschaft)("disabled",e.loadingData),m.xb(1),m.dc("ngForOf",e.mannschaften),m.xb(2),m.yc(" ",m.Zb(25,112,"MANAGEMENT.REGION_DETAIL.FORM.REGION_TYP.ERROR")," "),m.xb(5),m.xc(m.Zb(30,114,"MANNSCHAFTEN.MANNSCHAFTEN.FORM.SPORTJAHR.LABEL")),m.xb(3),m.dc("ngModel",e.currentJahr),m.xb(1),m.dc("ngForOf",e.jahre),m.xb(2),m.yc(" ",m.Zb(36,116,"MANAGEMENT.REGION_DETAIL.FORM.REGION_TYP.ERROR")," "),m.xb(5),m.xc(m.Zb(41,118,"MANAGEMENT.VEREIN_DETAIL.TITLE")),m.xb(5),m.yc("",m.Zb(46,120,"MANAGEMENT.VEREIN_DETAIL.FORM.VEREIN_NAME.LABEL"),":"),m.xb(5),m.xc(e.currentVerein.name),m.xb(4),m.yc("",m.Zb(55,122,"MANAGEMENT.VEREIN_DETAIL.FORM.VEREIN_REGION.LABEL"),":"),m.xb(5),m.xc(e.currentVerein.regionName),m.xb(4),m.yc("",m.Zb(64,124,"MANAGEMENT.VEREIN_DETAIL.FORM.VEREIN_WEBSITE.LABEL"),":"),m.xb(5),m.ec("href",e.currentVerein.website,m.pc),m.xb(1),m.xc(e.currentVerein.website),m.xb(4),m.yc("",m.Zb(74,126,"MANAGEMENT.VEREIN_DETAIL.FORM.VEREIN_DESCRIPTION.LABEL"),":"),m.xb(4),m.xc(e.currentVerein.description),m.xb(4),m.yc("",m.Zb(82,128,"MANAGEMENT.VEREIN_DETAIL.FORM.VEREIN_ICON.LABEL"),":"),m.xb(3),m.ec("src",e.currentVerein.icon,m.pc),m.ec("alt",m.Zb(85,130,"MANAGEMENT.VEREIN_DETAIL.FORM.VEREIN_ICON.ERROR_PLACEHOLDER")),m.xb(3),m.dc("id","showResultsButton")("loading",e.loadingData),m.xb(1),m.yc(" ",m.Zb(89,132,"MANNSCHAFTEN.MANNSCHAFTEN.BUTTONS.ANZEIGENALL.LABEL")," "),m.xb(3),m.dc("id","showResultsButton")("loading",e.loadingData),m.xb(1),m.yc(" ",m.Zb(93,134,"MANNSCHAFTEN.MANNSCHAFTEN.BUTTONS.ANZEIGEN.LABEL")," "),m.xb(3),m.dc("id","showResultsButton")("loading",e.loadingData),m.xb(1),m.yc(" ",m.Zb(97,136,"MANNSCHAFTEN.MANNSCHAFTEN.BUTTONS.ANZEIGENEINZEL.LABEL")," "),m.xb(3),m.dc("id","showResultsButton")("loading",e.loadingData),m.xb(1),m.yc(" ",m.Zb(101,138,"MANNSCHAFTEN.MANNSCHAFTEN.BUTTONS.ANZEIGENEINZELGESAMT.LABEL")," "),m.xb(3),m.dc("id","downloadEinzelstatistik")("loading",e.loadingData)("downloadUrl",e.onButtonDownload("pdf/Einzelstatistik"))("fileName","Einzelstatistik.pdf"),m.xb(1),m.yc(" ",m.Zb(105,140,"WETTKAEMPFE.BUTTONS.EINZEL_ALS_PDF.LABEL")," "),m.xb(2),m.dc("id","downloadGesamtstatistik")("loading",e.loadingData)("downloadUrl",e.onButtonDownload("pdf/Gesamtstatistik"))("fileName","Gesamtstatistik.pdf"),m.xb(1),m.yc(" ",m.Zb(108,142,"WETTKAEMPFE.BUTTONS.GESAMT_ALS_PDF.LABEL")," "),m.xb(2),m.dc("ngIf",e.popup),m.xb(3),m.yc(" ",m.Zb(113,144,"MANAGEMENT.REGION_DETAIL.FORM.REGION_TYP.ERROR")," "),m.xb(5),m.xc(m.Zb(118,146,"MANNSCHAFTEN.SCHUETZEN_STATISTIK.TITEL")),m.xb(2),m.dc("loading",e.loadingData)("config",e.config_einzelGesamt_table)("rows",e.rows[0]),m.xb(2),m.dc("hidden",!e.isTableFilled[0]),m.xb(2),m.xc(m.Zb(124,148,"WETTKAEMPFE.WETTKAEMPFE.WETTKAMPFTAGEINS")),m.xb(2),m.dc("id","downloadTagesuebersicht")("downloadUrl",e.onButtonDownloadUebersicht("pdf/Uebersicht/?wettkampftag=1"))("fileName","Tagesuebersicht.pdf"),m.xb(1),m.yc(" ",m.Zb(127,150,"WETTKAEMPFE.BUTTONS.TAGESUEBERSICHT_ALS_PDF")," "),m.xb(2),m.dc("loading",e.loadingData)("config",e.config_table)("rows",e.rows[0]),m.xb(1),m.dc("loading",e.loadingData)("config",e.config_einzel_table)("rows",e.rows[0]),m.xb(2),m.dc("hidden",!e.isTableFilled[1]),m.xb(2),m.xc(m.Zb(134,152,"WETTKAEMPFE.WETTKAEMPFE.WETTKAMPFTAGZWEI")),m.xb(2),m.dc("id","downloadTagesuebersicht")("downloadUrl",e.onButtonDownloadUebersicht("pdf/Uebersicht/?wettkampftag=2"))("fileName","Tagesuebersicht.pdf"),m.xb(1),m.yc(" ",m.Zb(137,154,"WETTKAEMPFE.BUTTONS.TAGESUEBERSICHT_ALS_PDF")," "),m.xb(2),m.dc("loading",e.loadingData)("config",e.config_table)("rows",e.rows[1]),m.xb(1),m.dc("loading",e.loadingData)("config",e.config_einzel_table)("rows",e.rows[1]),m.xb(2),m.dc("hidden",!e.isTableFilled[2]),m.xb(2),m.xc(m.Zb(144,156,"WETTKAEMPFE.WETTKAEMPFE.WETTKAMPFTAGDREI")),m.xb(2),m.dc("id","downloadTagesuebersicht")("downloadUrl",e.onButtonDownloadUebersicht("pdf/Uebersicht/?wettkampftag=3"))("fileName","Tagesuebersicht.pdf"),m.xb(1),m.yc(" ",m.Zb(147,158,"WETTKAEMPFE.BUTTONS.TAGESUEBERSICHT_ALS_PDF")," "),m.xb(2),m.dc("loading",e.loadingData)("config",e.config_table)("rows",e.rows[2]),m.xb(1),m.dc("loading",e.loadingData)("config",e.config_einzel_table)("rows",e.rows[2]),m.xb(2),m.dc("hidden",!e.isTableFilled[3]),m.xb(2),m.xc(m.Zb(154,160,"WETTKAEMPFE.WETTKAEMPFE.WETTKAMPFTAGVIER")),m.xb(2),m.dc("id","downloadTagesuebersicht")("downloadUrl",e.onButtonDownloadUebersicht("pdf/Uebersicht/?wettkampftag=4"))("fileName","Tagesuebersicht.pdf"),m.xb(1),m.yc(" ",m.Zb(157,162,"WETTKAEMPFE.BUTTONS.TAGESUEBERSICHT_ALS_PDF")," "),m.xb(2),m.dc("loading",e.loadingData)("config",e.config_table)("rows",e.rows[3]),m.xb(1),m.dc("loading",e.loadingData)("config",e.config_einzel_table)("rows",e.rows[3]))},directives:[x.a,i.D,i.o,i.p,U.a,i.z,i.n,i.q,a.s,H.a,D.a,a.t,z.a,i.s,i.C],pipes:[V.d],styles:["#Button[_ngcontent-%COMP%], #showResultButton[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{margin-top:20px}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;background:rgba(0,0,0,.7);transition:opacity .5s;visibility:visible;opacity:1}.popup[_ngcontent-%COMP%]{margin:70px auto;padding:20px;background:#fff;border-radius:5px;width:40%;height:auto;position:relative;transition:all 5s ease-in-out}.popup[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;top:20px;right:30px;transition:all .2s;font-size:30px;font-weight:700;text-decoration:none;color:#333}.hidden[_ngcontent-%COMP%]{display:none}textarea[readonly][_ngcontent-%COMP%]{background-color:#fff}"]}),t})();const j=[{path:"",pathMatch:"full",component:G},{path:":Wettkampf",pathMatch:"full",component:G},{path:":Wettkampf/:Mannschaft",pathMatch:"full",component:G}];let Y=(()=>{class t{}return t.\u0275mod=m.Hb({type:t}),t.\u0275inj=m.Gb({factory:function(e){return new(e||t)},imports:[[a.c,s.g.forChild(j),r.a,i.k]]}),t})()}}]);