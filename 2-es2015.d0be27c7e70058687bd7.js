(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{gmyM:function(t,e,n){"use strict";n.r(e),n.d(e,"WettkampfModule",(function(){return J}));var a=n("ofXK"),i=n("3Pt+"),s=n("tyNb"),r=n("FpXt"),o=n("mrSG");const c={moduleTranslationKey:"MANNSCHAFT",pageTitleTranslationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TITLE",navigationCardsConfig:{navigationCards:[]}};var d=n("PEb7"),l=n("YfBl");const h={columns:[{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.MATCH",propertyName:"matchNr",width:5},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.MANNSCHAFT",propertyName:"mannschaftName",width:20},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SATZ1",propertyName:"mannschaftSatz1",width:5},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SATZ2",propertyName:"mannschaftSatz2",width:5},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SATZ3",propertyName:"mannschaftSatz3",width:5},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SATZ4",propertyName:"mannschaftSatz4",width:5},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SATZ5",propertyName:"mannschaftSatz5",width:5},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.OPPONENT",propertyName:"opponentName",width:20},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SATZ1",propertyName:"opponentSatz1",width:5},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SATZ2",propertyName:"opponentSatz2",width:5},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SATZ3",propertyName:"opponentSatz3",width:5},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SATZ4",propertyName:"opponentSatz4",width:5},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SATZ5",propertyName:"opponentSatz5",width:5},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SATZPUNKTE",propertyName:"satzpunkte",width:20},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.MATCHPUNKTE",propertyName:"matchpunkte",width:20}]},b={columns:[{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.RUEKENNUMMER",propertyName:"rueckenNummer",width:100},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SCHUETZE",propertyName:"dsbMitgliedName",width:100},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.MATCH",propertyName:"matchNr",width:100},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.DURCHSCHPFEILWERTMATCH",propertyName:"pfeilpunkteSchnitt",width:30}]},u={columns:[{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.RUEKENNUMMER",propertyName:"rueckenNummer",width:100},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.SCHUETZE",propertyName:"dsbMitgliedName",width:80},{translationKey:"MANNSCHAFTEN.MANNSCHAFTEN.TABLE.COLUMNS.DURCHSCHPFEILWERTJAHR",propertyName:"pfeilpunkteSchnitt",width:80}]};class f{constructor(t,e,n,a,i,s,r,o,c,d,l,h,b,u,f,m){this.matchNr=t,this.wettkampfId=e,this.mannschaftName=n,this.mannschaftSatz1=a,this.mannschaftSatz2=i,this.mannschaftSatz3=s,this.mannschaftSatz4=r,this.mannschaftSatz5=o,this.opponentName=c,this.opponentSatz1=d,this.opponentSatz2=l,this.opponentSatz3=h,this.opponentSatz4=b,this.opponentSatz5=u,this.satzpunkte=f,this.matchpunkte=m}}var m=n("fXoL");let N=(()=>{class t{constructor(){this.wettkampfErgebnisse=[],this.mannschaften=[],this.matches=[],this.passen=[],this.mitglieder=[],this.mannschaftsmitglieder=[]}getMannschaftsname(t){for(const e of this.mannschaften)if(e.id===t)return e.name}getSatzergebnis(t,e,n){let a=null;const i=this.passen.filter(a=>a.matchNr===t&&a.lfdNr===e&&n===a.mannschaftId);for(const s of i)for(const t of s.ringzahl)a+=t;return a}getSatzpunkte(t){let e="-",n="-";return null!=this.matches[t].satzpunkte&&(e=String(this.matches[t].satzpunkte)),null!=this.matches[t+1].satzpunkte&&(n=String(this.matches[t+1].satzpunkte)),e+" : "+n}getMatchpunkte(t){let e="-",n="-";return null!=this.matches[t].matchpunkte&&(e=String(this.matches[t].matchpunkte)),null!=this.matches[t+1].matchpunkte&&(n=String(this.matches[t+1].matchpunkte)),e+" : "+n}createErgebnisse(t,e,n,a,i,s){return this.matches=i,this.passen=s,this.currentMannschaft=e,this.veranstaltung=a,this.mannschaften=n,this.sportjahr=t,null!=this.currentMannschaft&&(this.matches=this.filterMannschaft()),this.createWettkampfergebnisse()}filterMannschaft(){const t=[];for(let e=0;e<this.matches.length;e+=2)this.currentMannschaft.id!==this.matches[e].mannschaftId&&this.currentMannschaft.id!==this.matches[e+1].mannschaftId||(t.push(this.matches[e]),t.push(this.matches[e+1]));return t}createWettkampfergebnisse(){this.wettkampfErgebnisse=[];for(let t=0;t<this.matches.length;t+=2){const e=new f(this.matches[t].nr,this.matches[t].wettkampfId,this.getMannschaftsname(this.matches[t].mannschaftId),this.getSatzergebnis(this.matches[t].nr,1,this.matches[t].mannschaftId),this.getSatzergebnis(this.matches[t].nr,2,this.matches[t].mannschaftId),this.getSatzergebnis(this.matches[t].nr,3,this.matches[t].mannschaftId),this.getSatzergebnis(this.matches[t].nr,4,this.matches[t].mannschaftId),this.getSatzergebnis(this.matches[t].nr,5,this.matches[t].mannschaftId),this.getMannschaftsname(this.matches[t+1].mannschaftId),this.getSatzergebnis(this.matches[t+1].nr,1,this.matches[t+1].mannschaftId),this.getSatzergebnis(this.matches[t+1].nr,2,this.matches[t+1].mannschaftId),this.getSatzergebnis(this.matches[t+1].nr,3,this.matches[t+1].mannschaftId),this.getSatzergebnis(this.matches[t+1].nr,4,this.matches[t+1].mannschaftId),this.getSatzergebnis(this.matches[t+1].nr,5,this.matches[t+1].mannschaftId),this.getSatzpunkte(t),this.getMatchpunkte(t));this.wettkampfErgebnisse.push(e)}return this.matches=[],this.passen=[],this.wettkampfErgebnisse}filterPassen(){const t=[];for(const e of this.passen)this.currentMannschaft.id===e.mannschaftId&&t.push(e);return t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=m.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var g=n("X628"),E=n("ny2l"),p=n("qvop"),T=n("th7h"),A=n("TNm4");let M=(()=>{class t extends l.DataProviderService{constructor(t,e){super(),this.restClient=t,this.currentUserService=e,this.serviceSubUrl="v1/match"}findByWettkampfId(t){return new Promise((e,n)=>{this.restClient.GET((new l.UriBuilder).fromPath(this.getUrl()).path("findByWettkampfId/wettkampfid="+t).build()).then(t=>{e({result:l.RequestResult.SUCCESS,payload:Object(A.a)(t)})},t=>{n(0===t.status?{result:l.RequestResult.CONNECTION_PROBLEM}:{result:l.RequestResult.FAILURE})})})}findAll(){return new Promise((t,e)=>{this.restClient.GET(this.getUrl()+"/").then(e=>{t({result:l.RequestResult.SUCCESS,payload:Object(A.a)(e)})},t=>{e(0===t.status?{result:l.RequestResult.CONNECTION_PROBLEM}:{result:l.RequestResult.FAILURE})})})}}return t.\u0275fac=function(e){return new(e||t)(m.Ub(l.RestClient),m.Ub(T.a))},t.\u0275prov=m.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var S=n("sQ0O"),v=n("TcZ0"),P=n("nr0C"),w=n("FlTZ"),B=n("NJqk");class C{constructor(t,e,n,a,i,s,r,o,c,d,l,h,b,u,f,m){this.id=t,this.version=e,this.mannschaftsId=n,this.dsbMitgliedId=a,this.dsbMitgliedName=i,this.mannschaftNummer=s,this.matchId=r,this.matchNr=o,this.rueckenNummer=d,this.pfeilpunkteSchnitt=c,this.veranstaltungId=l,this.veranstaltungName=h,this.vereinId=b,this.vereinName=u,this.wettkampfId=f,this.wettkampfTag=m}static copyFrom(t){return new C(t.id||null,t.version||null,t.mannschaftsId||null,t.dsbMitgliedId||null,t.dsbMitgliedName||null,t.mannschaftNummer||null,t.matchId||null,t.matchNr||null,t.pfeilpunkteSchnitt||null,t.rueckenNummer||null,t.veranstaltungId||null,t.veranstaltungName||null,t.vereinId||null,t.vereinName||null,t.wettkampfId||null,t.wettkampfTag||null)}}function L(t){const e=[];return t.forEach(t=>e.push(function(t){return C.copyFrom(t)}(t))),e}let I=(()=>{class t extends l.DataProviderService{constructor(t,e){super(),this.restClient=t,this.currentUserService=e,this.serviceSubUrl="v1/schuetzenstatistik"}getSchuetzenstatistikVeranstaltung(t,e){return new Promise((n,a)=>{this.restClient.GET((new l.UriBuilder).fromPath(this.getUrl()).path("byVeranstaltungAndVerein/"+e+"/"+t).build()).then(t=>{n({result:l.RequestResult.SUCCESS,payload:L(t)})},t=>{a(0===t.status?{result:l.RequestResult.CONNECTION_PROBLEM}:{result:l.RequestResult.FAILURE})})})}getSchuetzenstatistikWettkampf(t,e){return new Promise((n,a)=>{this.restClient.GET((new l.UriBuilder).fromPath(this.getUrl()).path("byWettkampfAndVerein/"+e+"/"+t).build()).then(t=>{n({result:l.RequestResult.SUCCESS,payload:L(t)})},t=>{a(0===t.status?{result:l.RequestResult.CONNECTION_PROBLEM}:{result:l.RequestResult.FAILURE})})})}}return t.\u0275fac=function(e){return new(e||t)(m.Ub(l.RestClient),m.Ub(B.a))},t.\u0275prov=m.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var z=n("x61S"),k=n("6aDh"),y=n("BGab"),F=n("TmMT"),O=n("AytR"),R=n("w90F"),D=n("ghtv"),U=n("yljE"),Q=n("/2r1"),H=n("xRjW"),V=n("xOPY"),_=n("sYmb");function W(t,e){if(1&t&&(m.Qb(0,"option",54),m.Bc(1),m.Pb()),2&t){const t=e.$implicit;m.fc("ngValue",t),m.zb(1),m.Dc(" ",t.name,"")}}function K(t,e){if(1&t&&(m.Qb(0,"option"),m.Bc(1),m.Pb()),2&t){const t=e.$implicit;m.zb(1),m.Dc(" ",t,"")}}function G(t,e){if(1&t){const t=m.Rb();m.Qb(0,"div",55),m.Qb(1,"div",56),m.Qb(2,"h2"),m.Bc(3),m.ac(4,"translate"),m.Pb(),m.Qb(5,"a",57),m.Xb("click",(function(){return m.pc(t),m.Zb().popup=!1})),m.Bc(6,"\xd7"),m.Pb(),m.Qb(7,"div",58),m.Qb(8,"p"),m.Bc(9),m.ac(10,"translate"),m.Pb(),m.Mb(11,"p"),m.Pb(),m.Pb(),m.Pb()}2&t&&(m.zb(3),m.Cc(m.bc(4,2,"MANNSCHAFTEN.MANNSCHAFTEN.POPUPTXT.POPUP\xdcBERSCHRIFT.LABEL")),m.zb(6),m.Dc("",m.bc(10,4,"MANNSCHAFTEN.MANNSCHAFTEN.POPUPTXT.POPUPINHALT.LABEL")," "))}const j=function(t){return[t]};let Z=(()=>{class t extends d.CommonComponentDirective{constructor(t,e,n,a,i,s,r,o,d,l,f,m,N){super(),this.veranstaltungsDataProvider=t,this.vereinDataProvider=e,this.wettkampfDataProviderService=n,this.matchDataProviderService=a,this.passeDataProviderService=i,this.wettkampfErgebnisService=s,this.mannschaftDataProvider=r,this.dsbMitgliedDataProvider=o,this.mannschaftsmitgliedDataProvider=d,this.schuetzenstatistikDataProvider=l,this.router=f,this.route=m,this.notificationService=N,this.show=!1,this.directMannschaft=null,this.directWettkampf=null,this.routes=null,this.config=c,this.config_table=h,this.config_einzel_table=b,this.config_einzelGesamt_table=u,this.jahre=[],this.vereine=[],this.mannschaften=[],this.veranstaltungen=[],this.currentVeranstaltung=new z.a,this.currentMannschaft=new p.a,this.currentVerein=new k.a,this.multipleSelections=!0,this.rows=new Array,this.areVeranstaltungenLoading=!0,this.loadingData=!1,this.matches=[],this.wettkaempfe=[],this.passen=[],this.mannschaftsmitglieder=[],this.dsbMitglieder=[],this.gesamt=!1,this.isTableFilled=[!1,!1,!1,!1]}ngOnInit(){this.route.params.subscribe(t=>{Object(g.c)(t.Wettkampf)||Object(g.c)(t.Mannschaft)?Object(g.c)(t.Wettkampf)||(this.directWettkampf=parseInt(t.Wettkampf,10)):(this.directWettkampf=parseInt(t.Wettkampf,10),this.directMannschaft=parseInt(t.Mannschaft,10))}),this.loadVeranstaltungen()}loadVerein(t){return Object(o.a)(this,void 0,void 0,(function*(){yield this.vereinDataProvider.findById(t).then(t=>this.handleLoadVerein(t)).catch(()=>this.handleLoadVerein(null)),document.getElementById("vereinsinformationen").classList.remove("hidden")}))}handleLoadVerein(t){this.currentVerein=t.payload}loadAllErgebnisse(t){return Object(o.a)(this,void 0,void 0,(function*(){this.loadingData=!0,yield this.loadErgebnisse(t),this.loadingData=!1}))}loadErgebnisForMannschaft(t){return Object(o.a)(this,void 0,void 0,(function*(){this.loadingData=!0,yield this.loadPopup(this.currentMannschaft),yield this.loadErgebnisse(t),this.loadingData=!1}))}loadErgebnisse(t){return Object(o.a)(this,void 0,void 0,(function*(){void 0===t?this.showUebersichtsButtons():this.hideUebersichtsButtons();for(let t=0;t<4;t++){let e="row";e+=t,document.getElementById(e).classList.remove("hidden"),e+="1",document.getElementById(e).classList.add("hidden")}for(let t=0;t<=4;t++){let e="Table";e+=t,0===t?document.getElementById(e).classList.add("hidden"):document.getElementById(e).classList.remove("hidden")}this.rows=[];for(let e=0;e<this.wettkaempfe.length;e++)this.rows.push(Object(d.toTableRows)(this.wettkampfErgebnisService.createErgebnisse(this.currentJahr,t,this.mannschaften,this.currentVeranstaltung,this.matches[e],this.passen[e])));for(let t=0;t<this.rows.length;t++)this.rows[t].length>0&&(this.isTableFilled[t]=!0);document.getElementById("einzeldruckButton").classList.add("hidden"),void 0===t&&document.getElementById("vereinsinformationen").classList.add("hidden"),document.getElementById("gesamtdruckButton").classList.add("hidden")}))}loadEinzelstatistik(t){return Object(o.a)(this,void 0,void 0,(function*(){if(this.loadPopup(this.currentMannschaft),this.hideUebersichtsButtons(),null!=t){for(let t=0;t<4;t++){let e="row";e+=t,document.getElementById(e).classList.add("hidden"),e+="1",document.getElementById(e).classList.remove("hidden")}for(let t=0;t<=4;t++){let e="Table";e+=t,0===t?document.getElementById(e).classList.add("hidden"):document.getElementById(e).classList.remove("hidden")}this.rows=[],yield this.loadSchuetzenstatistiken(t.vereinId,0),document.getElementById("einzeldruckButton").classList.remove("hidden"),document.getElementById("gesamtdruckButton").classList.add("hidden");for(let t=0;t<this.rows.length;t++)this.rows[t].length>0&&(this.isTableFilled[t]=!0)}this.loadingData=!1}))}loadGesamtstatistik(t){return Object(o.a)(this,void 0,void 0,(function*(){if(yield this.loadPopup(this.currentMannschaft),this.hideUebersichtsButtons(),null!=t){for(let t=0;t<4;t++){let e="row";e+=t,document.getElementById(e).classList.add("hidden"),e+="1",document.getElementById(e).classList.add("hidden")}for(let t=0;t<=4;t++){let e="Table";e+=t,0===t?document.getElementById(e).classList.remove("hidden"):document.getElementById(e).classList.add("hidden")}this.rows=[],yield this.schuetzenstatistikDataProvider.getSchuetzenstatistikVeranstaltung(t.vereinId,this.currentVeranstaltung.id).then(t=>this.handleLoadSchuetzenstatistikSuccess(t.payload)),document.getElementById("einzeldruckButton").classList.add("hidden"),document.getElementById("gesamtdruckButton").classList.remove("hidden");for(let t=0;t<this.rows.length;t++)this.rows[t].length>0&&(this.isTableFilled[t]=!0)}this.loadingData=!1}))}loadSchuetzenstatistiken(t,e){return Object(o.a)(this,void 0,void 0,(function*(){if(yield this.loadSchuetzenstatistikEinzel(t,this.wettkaempfe[e].id).then(t=>this.handleLoadSchuetzenstatistikSuccess(t.payload)),e<this.wettkaempfe.length-1)return this.loadSchuetzenstatistiken(t,e+=1)}))}loadSchuetzenstatistikEinzel(t,e){return Object(o.a)(this,void 0,void 0,(function*(){return this.schuetzenstatistikDataProvider.getSchuetzenstatistikWettkampf(t,e)}))}handleLoadSchuetzenstatistikSuccess(t){t.length>0&&(console.log(t),this.rows.push(Object(d.toTableRows)(t)))}loadPopup(t){return t?this.loadingData=!0:(this.popup=!0,this.loadingData=!1),this.popup}onSelect(t){this.currentVeranstaltung=t[0],this.currentJahr=this.currentVeranstaltung.sportjahr,this.jahre[0]=this.currentJahr,this.clear(),this.loadMannschaften(this.currentVeranstaltung.id),this.loadWettkaempfe(this.currentVeranstaltung.id)}clear(){this.matches=[],this.passen=[],this.wettkaempfe=[],this.rows=[]}loadVeranstaltungen(){return Object(o.a)(this,void 0,void 0,(function*(){this.loadingData=!0,yield this.veranstaltungsDataProvider.findAll().then(t=>this.handleSuccessLoadVeranstaltungen(t)).catch(()=>this.veranstaltungen=[])}))}handleSuccessLoadVeranstaltungen(t){return Object(o.a)(this,void 0,void 0,(function*(){if(this.veranstaltungen=t.payload,null!=this.directWettkampf)for(const t of this.veranstaltungen){if(this.directWettkampf===t.id){this.currentVeranstaltung=t;break}this.currentVeranstaltung=this.veranstaltungen[0]}else this.currentVeranstaltung=this.veranstaltungen[0];this.areVeranstaltungenLoading=!1,this.currentJahr=this.currentVeranstaltung.sportjahr,yield this.loadMannschaften(this.currentVeranstaltung.id),yield this.loadWettkaempfe(this.currentVeranstaltung.id),yield this.loadJahre(),this.loadingData=!1}))}loadMannschaften(t){return Object(o.a)(this,void 0,void 0,(function*(){yield this.mannschaftDataProvider.findAllByVeranstaltungsId(t).then(t=>this.handleSuccessLoadMannschaft(t)).catch(()=>this.mannschaften===[])}))}handleSuccessLoadMannschaft(t){if(this.mannschaften=t.payload,null!=this.directMannschaft)for(const e of this.mannschaften)this.directMannschaft===e.id&&(this.mannschaften[0]=e),this.currentMannschaft=this.mannschaften[0];else null!==this.currentMannschaft&&(this.currentMannschaft=void 0)}loadJahre(){return Object(o.a)(this,void 0,void 0,(function*(){for(const t of this.veranstaltungen)!1===this.jahre.includes(t.sportjahr)&&(this.jahre[this.jahre.length]=t.sportjahr)}))}loadWettkaempfe(t){return Object(o.a)(this,void 0,void 0,(function*(){yield this.wettkampfDataProviderService.findAllByVeranstaltungId(t).then(t=>this.handleLoadWettkaempfe(t.payload)).catch(()=>this.handleLoadWettkaempfe([]))}))}loadWettkaempfeByCurrentMannschaft(){return Object(o.a)(this,void 0,void 0,(function*(){yield this.wettkampfDataProviderService.findAllWettkaempfeByMannschaftsId(this.currentMannschaft.id).then(t=>this.handleLoadWettkaempfe(t.payload)).catch(()=>this.handleLoadWettkaempfe([]))}))}handleLoadWettkaempfe(t){return Object(o.a)(this,void 0,void 0,(function*(){this.wettkaempfe=t;for(let t=0;t<this.wettkaempfe.length;t++)yield this.loadMatches(this.wettkaempfe[t].id,t)}))}loadMatches(t,e){return Object(o.a)(this,void 0,void 0,(function*(){yield this.matchDataProviderService.findByWettkampfId(t).then(n=>this.handleSuccessLoadMatches(n.payload,t,e)).catch(()=>this.handleSuccessLoadMatches([],t,e))}))}handleSuccessLoadMatches(t,e,n){return Object(o.a)(this,void 0,void 0,(function*(){this.matches[n]=t,yield this.loadPassen(e,t,n)}))}loadPassen(t,e,n){return Object(o.a)(this,void 0,void 0,(function*(){yield this.passeDataProviderService.findByWettkampfId(t).then(t=>this.handleSuccessLoadPassen(t.payload,e,n)).catch(()=>this.handleSuccessLoadPassen([],e,n))}))}handleSuccessLoadPassen(t,e,n){this.passen[n]=t,this.rows[n]=Object(d.toTableRows)(this.wettkampfErgebnisService.createErgebnisse(this.currentJahr,void 0,this.mannschaften,this.currentVeranstaltung,e,t))}getTitle(){let t=" ";return void 0!==this.currentMannschaft&&(t=this.currentMannschaft.name),t}onButtonDownloadUebersicht(t){return(new l.UriBuilder).fromPath(O.a.backendBaseUrl).path("v1/download").path(t+"&veranstaltungsid="+this.currentVeranstaltung.id).build()}hideUebersichtsButtons(){document.getElementById("TagesuebersichtButton").classList.add("hidden"),document.getElementById("TagesuebersichtButton2").classList.add("hidden"),document.getElementById("TagesuebersichtButton3").classList.add("hidden"),document.getElementById("TagesuebersichtButton4").classList.add("hidden")}showUebersichtsButtons(){document.getElementById("TagesuebersichtButton").classList.remove("hidden"),document.getElementById("TagesuebersichtButton2").classList.remove("hidden"),document.getElementById("TagesuebersichtButton3").classList.remove("hidden"),document.getElementById("TagesuebersichtButton4").classList.remove("hidden")}onButtonDownload(t){return(new l.UriBuilder).fromPath(O.a.backendBaseUrl).path("v1/download").path(t).path("?veranstaltungsid="+this.currentVeranstaltung.id+"&manschaftsid="+this.getMannschaftsID()+"&jahr="+this.currentJahr).build()}getMannschaftsID(){return void 0!==this.currentMannschaft?this.currentMannschaft.id:-1}onSelectVerein(){return Object(o.a)(this,void 0,void 0,(function*(){console.log("Verein switched to "+this.currentMannschaft.name),this.loadingData=!0,this.mannschaftAlreadyLoaded(this.currentMannschaft.id)||(yield this.loadWettkaempfeByCurrentMannschaft()),yield this.loadVerein(this.currentMannschaft.vereinId),this.loadingData=!1}))}mannschaftAlreadyLoaded(t){for(const e of this.mannschaften)if(t===e.id)return!0;return!1}updateResults(){return Object(o.a)(this,void 0,void 0,(function*(){this.loadingData=!0,yield this.loadWettkaempfe(this.currentVeranstaltung.id),this.loadingData=!1}))}}return t.\u0275fac=function(e){return new(e||t)(m.Lb(P.a),m.Lb(w.a),m.Lb(S.a),m.Lb(M),m.Lb(v.a),m.Lb(N),m.Lb(E.a),m.Lb(y.a),m.Lb(F.a),m.Lb(I),m.Lb(s.c),m.Lb(s.a),m.Lb(B.e))},t.\u0275cmp=m.Fb({type:t,selectors:[["bla-mannschaft"]],features:[m.wb],decls:173,vars:169,consts:[[3,"config"],["href","https://wiki.bsapp.de/doku.php?id=liga:wettkaempfe","target","_blank"],[1,"subtitle"],["id","regionenForm",1,"horizontal-form","half-page"],[2,"display","inline"],["id","titel",1,"print1",2,"display","inline"],["id","titel2",1,"print1",2,"display","inline"],["id","selectVereink"],[1,"row"],[1,"col-sm-1","col-form-label"],[1,"col-sm-8"],[2,"width","50%","height","10em",3,"id","loading","items","selectedItemIds","optionFieldSelector","multipleSelections","onSelect"],["id","selectVerein"],["id","vereine","name","VereinName",1,"form-control",3,"ngModel","disabled","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"invalid-feedback"],[1,"row","print1"],["id","jahr","name","Jahre","disabled","true",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["id","vereinsinformationen",1,"hidden"],[1,"form-control"],[3,"href"],["readonly","",1,"form-control"],["width","100","height","100",3,"src","alt"],["id","Button"],["data-cy","alle-mannschaften-anzeigen-button",3,"id","loading","onClick"],[3,"id","loading","onClick"],["data-cy","einzelstatistik-anzeigen-button",3,"id","loading","onClick"],["data-cy","einzelstatistik-gesamt-anzeigen-button",3,"id","loading","onClick"],["id","einzeldruckButton",1,"hidden",3,"id","loading","downloadUrl","fileName"],["id","gesamtdruckButton",1,"hidden",3,"id","loading","downloadUrl","fileName"],["class","overlay",4,"ngIf"],[1,"col-sm-9"],["id","Table0",1,"hidden"],["id","row00",3,"loading","config","rows"],["id","Table1",1,"hidden",3,"hidden"],["id","TagesuebersichtButton",3,"id","downloadUrl","fileName"],["id","row0",3,"loading","config","rows"],["id","row01",1,"hidden",3,"loading","config","rows"],["id","Table2",1,"hidden",3,"hidden"],["id","TagesuebersichtButton2",3,"id","downloadUrl","fileName"],["id","row1",3,"loading","config","rows"],["id","row11",1,"hidden",3,"loading","config","rows"],["id","Table3",1,"hidden",3,"hidden"],["id","TagesuebersichtButton3",3,"id","downloadUrl","fileName"],["id","row2",3,"loading","config","rows"],["id","row21",1,"hidden",3,"loading","config","rows"],["id","Table4",1,"hidden",3,"hidden"],["id","TagesuebersichtButton4",3,"id","downloadUrl","fileName"],["id","row3",3,"loading","config","rows"],["id","row31",1,"hidden",3,"loading","config","rows"],[1,"form-group","row"],[1,"col-sm-3"],[1,"col-sm-9","button-box"],[3,"ngValue"],[1,"overlay"],[1,"popup"],[1,"close",3,"click"],[1,"content_popup"]],template:function(t,e){1&t&&(m.Qb(0,"bla-common-dialog",0),m.Mb(1,"bla-hilfe-button",1),m.Qb(2,"p",2),m.Bc(3),m.ac(4,"translate"),m.Pb(),m.Qb(5,"form",3),m.Qb(6,"div"),m.Qb(7,"h2",4),m.Bc(8,"Gew\xe4hlte Veranstaltung: "),m.Pb(),m.Qb(9,"h3",5),m.Bc(10),m.Pb(),m.Pb(),m.Qb(11,"div"),m.Qb(12,"h2",4),m.Bc(13,"Gew\xe4hlte Mannschaft: "),m.Pb(),m.Qb(14,"h3",6),m.Bc(15),m.Pb(),m.Pb(),m.Qb(16,"div",7),m.Qb(17,"div",8),m.Qb(18,"label",9),m.Qb(19,"span"),m.Bc(20),m.ac(21,"translate"),m.Pb(),m.Pb(),m.Qb(22,"div",10),m.Qb(23,"bla-selectionlist",11),m.Xb("onSelect",(function(t){return e.onSelect(t)})),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Qb(24,"div",12),m.Qb(25,"div",8),m.Qb(26,"label",9),m.Qb(27,"span"),m.Bc(28),m.ac(29,"translate"),m.Pb(),m.Pb(),m.Qb(30,"div",10),m.Qb(31,"select",13),m.Xb("ngModelChange",(function(t){return e.currentMannschaft=t}))("ngModelChange",(function(){return e.onSelectVerein()})),m.zc(32,W,2,2,"option",14),m.Pb(),m.Qb(33,"div",15),m.Bc(34),m.ac(35,"translate"),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Qb(36,"div",16),m.Qb(37,"label",9),m.Qb(38,"span"),m.Bc(39),m.ac(40,"translate"),m.Pb(),m.Pb(),m.Qb(41,"div",10),m.Qb(42,"select",17),m.Xb("ngModelChange",(function(t){return e.currentJahr=t})),m.zc(43,K,2,1,"option",18),m.Pb(),m.Qb(44,"div",15),m.Bc(45),m.ac(46,"translate"),m.Pb(),m.Pb(),m.Pb(),m.Mb(47,"br"),m.Qb(48,"div",19),m.Qb(49,"h3"),m.Bc(50),m.ac(51,"translate"),m.Pb(),m.Qb(52,"div",16),m.Qb(53,"label",9),m.Qb(54,"span"),m.Bc(55),m.ac(56,"translate"),m.Pb(),m.Pb(),m.Qb(57,"div",10),m.Qb(58,"div",20),m.Qb(59,"div"),m.Bc(60),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Qb(61,"div",16),m.Qb(62,"label",9),m.Qb(63,"span"),m.Bc(64),m.ac(65,"translate"),m.Pb(),m.Pb(),m.Qb(66,"div",10),m.Qb(67,"div",20),m.Qb(68,"div"),m.Bc(69),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Qb(70,"div",16),m.Qb(71,"label",9),m.Qb(72,"span"),m.Bc(73),m.ac(74,"translate"),m.Pb(),m.Pb(),m.Qb(75,"div",10),m.Qb(76,"div",20),m.Qb(77,"div"),m.Qb(78,"a",21),m.Bc(79),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Qb(80,"div",16),m.Qb(81,"label",9),m.Qb(82,"span"),m.Bc(83),m.ac(84,"translate"),m.Pb(),m.Pb(),m.Qb(85,"div",10),m.Qb(86,"textarea",22),m.Bc(87),m.Pb(),m.Pb(),m.Pb(),m.Qb(88,"div",16),m.Qb(89,"label",9),m.Qb(90,"span"),m.Bc(91),m.ac(92,"translate"),m.Pb(),m.Pb(),m.Qb(93,"div",10),m.Mb(94,"img",23),m.ac(95,"translate"),m.Pb(),m.Pb(),m.Pb(),m.Qb(96,"div",24),m.Qb(97,"bla-button",25),m.Xb("onClick",(function(){return e.loadAllErgebnisse(void 0)})),m.Bc(98),m.ac(99,"translate"),m.Pb(),m.Bc(100," \xa0 "),m.Qb(101,"bla-button",26),m.Xb("onClick",(function(){return e.gesamt=!1,e.loadErgebnisForMannschaft(e.currentMannschaft)})),m.Bc(102),m.ac(103,"translate"),m.Pb(),m.Bc(104," \xa0 "),m.Qb(105,"bla-button",27),m.Xb("onClick",(function(){return e.gesamt=!1,e.loadEinzelstatistik(e.currentMannschaft)})),m.Bc(106),m.ac(107,"translate"),m.Pb(),m.Bc(108," \xa0 "),m.Qb(109,"bla-button",28),m.Xb("onClick",(function(){return e.gesamt=!0,e.loadGesamtstatistik(e.currentMannschaft)})),m.Bc(110),m.ac(111,"translate"),m.Pb(),m.Bc(112," \xa0 "),m.Qb(113,"bla-download-button",29),m.Bc(114),m.ac(115,"translate"),m.Pb(),m.Qb(116,"bla-download-button",30),m.Bc(117),m.ac(118,"translate"),m.Pb(),m.Pb(),m.zc(119,G,12,6,"div",31),m.Qb(120,"div",32),m.Qb(121,"div",15),m.Bc(122),m.ac(123,"translate"),m.Pb(),m.Pb(),m.Qb(124,"div",16),m.Qb(125,"div",33),m.Qb(126,"h3"),m.Bc(127),m.ac(128,"translate"),m.Pb(),m.Mb(129,"bla-data-table",34),m.Pb(),m.Pb(),m.Qb(130,"div",16),m.Qb(131,"div",35),m.Qb(132,"h3"),m.Bc(133),m.ac(134,"translate"),m.Pb(),m.Qb(135,"bla-download-button",36),m.Bc(136),m.ac(137,"translate"),m.Pb(),m.Mb(138,"bla-data-table",37),m.Mb(139,"bla-data-table",38),m.Pb(),m.Pb(),m.Qb(140,"div",16),m.Qb(141,"div",39),m.Qb(142,"h3"),m.Bc(143),m.ac(144,"translate"),m.Pb(),m.Qb(145,"bla-download-button",40),m.Bc(146),m.ac(147,"translate"),m.Pb(),m.Mb(148,"bla-data-table",41),m.Mb(149,"bla-data-table",42),m.Pb(),m.Pb(),m.Qb(150,"div",16),m.Qb(151,"div",43),m.Qb(152,"h3"),m.Bc(153),m.ac(154,"translate"),m.Pb(),m.Qb(155,"bla-download-button",44),m.Bc(156),m.ac(157,"translate"),m.Pb(),m.Mb(158,"bla-data-table",45),m.Mb(159,"bla-data-table",46),m.Pb(),m.Pb(),m.Qb(160,"div",16),m.Qb(161,"div",47),m.Qb(162,"h3"),m.Bc(163),m.ac(164,"translate"),m.Pb(),m.Qb(165,"bla-download-button",48),m.Bc(166),m.ac(167,"translate"),m.Pb(),m.Mb(168,"bla-data-table",49),m.Mb(169,"bla-data-table",50),m.Pb(),m.Pb(),m.Qb(170,"div",51),m.Mb(171,"div",52),m.Mb(172,"div",53),m.Pb(),m.Pb(),m.Pb()),2&t&&(m.fc("config",e.config),m.zb(3),m.Cc(m.bc(4,109,"VEREINE.VEREINE.DESCRIPTION")),m.zb(7),m.Cc(e.currentVeranstaltung.name),m.zb(5),m.Dc(" ",e.getTitle(),""),m.zb(5),m.Cc(m.bc(21,111,"MANNSCHAFTEN.MANNSCHAFTEN.FORM.VERANSTALTUNG_NAME.LABEL")),m.zb(3),m.fc("id","quickSearch")("loading",e.areVeranstaltungenLoading)("items",e.veranstaltungen)("selectedItemIds",m.kc(167,j,e.currentVeranstaltung.id))("optionFieldSelector","name")("multipleSelections",!e.multipleSelections),m.zb(5),m.Cc(m.bc(29,113,"MANNSCHAFTEN.MANNSCHAFTEN.FORM.MANNSCHAFT_NAME.LABEL")),m.zb(3),m.fc("ngModel",e.currentMannschaft)("disabled",e.loadingData),m.zb(1),m.fc("ngForOf",e.mannschaften),m.zb(2),m.Dc(" ",m.bc(35,115,"MANAGEMENT.REGION_DETAIL.FORM.REGION_TYP.ERROR")," "),m.zb(5),m.Cc(m.bc(40,117,"MANNSCHAFTEN.MANNSCHAFTEN.FORM.SPORTJAHR.LABEL")),m.zb(3),m.fc("ngModel",e.currentJahr),m.zb(1),m.fc("ngForOf",e.jahre),m.zb(2),m.Dc(" ",m.bc(46,119,"MANAGEMENT.REGION_DETAIL.FORM.REGION_TYP.ERROR")," "),m.zb(5),m.Cc(m.bc(51,121,"MANAGEMENT.VEREIN_DETAIL.TITLE")),m.zb(5),m.Dc("",m.bc(56,123,"MANAGEMENT.VEREIN_DETAIL.FORM.VEREIN_NAME.LABEL"),":"),m.zb(5),m.Cc(e.currentVerein.name),m.zb(4),m.Dc("",m.bc(65,125,"MANAGEMENT.VEREIN_DETAIL.FORM.VEREIN_REGION.LABEL"),":"),m.zb(5),m.Cc(e.currentVerein.regionName),m.zb(4),m.Dc("",m.bc(74,127,"MANAGEMENT.VEREIN_DETAIL.FORM.VEREIN_WEBSITE.LABEL"),":"),m.zb(5),m.gc("href",e.currentVerein.website,m.sc),m.zb(1),m.Cc(e.currentVerein.website),m.zb(4),m.Dc("",m.bc(84,129,"MANAGEMENT.VEREIN_DETAIL.FORM.VEREIN_DESCRIPTION.LABEL"),":"),m.zb(4),m.Cc(e.currentVerein.description),m.zb(4),m.Dc("",m.bc(92,131,"MANAGEMENT.VEREIN_DETAIL.FORM.VEREIN_ICON.LABEL"),":"),m.zb(3),m.gc("src",e.currentVerein.icon,m.sc),m.gc("alt",m.bc(95,133,"MANAGEMENT.VEREIN_DETAIL.FORM.VEREIN_ICON.ERROR_PLACEHOLDER")),m.zb(3),m.fc("id","showResultsButton")("loading",e.loadingData),m.zb(1),m.Dc(" ",m.bc(99,135,"MANNSCHAFTEN.MANNSCHAFTEN.BUTTONS.ANZEIGENALL.LABEL")," "),m.zb(3),m.fc("id","showResultsButton")("loading",e.loadingData),m.zb(1),m.Dc(" ",m.bc(103,137,"MANNSCHAFTEN.MANNSCHAFTEN.BUTTONS.ANZEIGEN.LABEL")," "),m.zb(3),m.fc("id","showResultsButton")("loading",e.loadingData),m.zb(1),m.Dc(" ",m.bc(107,139,"MANNSCHAFTEN.MANNSCHAFTEN.BUTTONS.ANZEIGENEINZEL.LABEL")," "),m.zb(3),m.fc("id","showResultsButton")("loading",e.loadingData),m.zb(1),m.Dc(" ",m.bc(111,141,"MANNSCHAFTEN.MANNSCHAFTEN.BUTTONS.ANZEIGENEINZELGESAMT.LABEL")," "),m.zb(3),m.fc("id","downloadEinzelstatistik")("loading",e.loadingData)("downloadUrl",e.onButtonDownload("pdf/Einzelstatistik"))("fileName","Einzelstatistik.pdf"),m.zb(1),m.Dc(" ",m.bc(115,143,"WETTKAEMPFE.BUTTONS.EINZEL_ALS_PDF.LABEL")," "),m.zb(2),m.fc("id","downloadGesamtstatistik")("loading",e.loadingData)("downloadUrl",e.onButtonDownload("pdf/Gesamtstatistik"))("fileName","Gesamtstatistik.pdf"),m.zb(1),m.Dc(" ",m.bc(118,145,"WETTKAEMPFE.BUTTONS.GESAMT_ALS_PDF.LABEL")," "),m.zb(2),m.fc("ngIf",e.popup),m.zb(3),m.Dc(" ",m.bc(123,147,"MANAGEMENT.REGION_DETAIL.FORM.REGION_TYP.ERROR")," "),m.zb(5),m.Cc(m.bc(128,149,"MANNSCHAFTEN.SCHUETZEN_STATISTIK.TITEL")),m.zb(2),m.fc("loading",e.loadingData)("config",e.config_einzelGesamt_table)("rows",e.rows[0]),m.zb(2),m.fc("hidden",!e.isTableFilled[0]),m.zb(2),m.Cc(m.bc(134,151,"WETTKAEMPFE.WETTKAEMPFE.WETTKAMPFTAGEINS")),m.zb(2),m.fc("id","downloadTagesuebersicht")("downloadUrl",e.onButtonDownloadUebersicht("pdf/Uebersicht/?wettkampftag=1"))("fileName","Tagesuebersicht.pdf"),m.zb(1),m.Dc(" ",m.bc(137,153,"WETTKAEMPFE.BUTTONS.TAGESUEBERSICHT_ALS_PDF")," "),m.zb(2),m.fc("loading",e.loadingData)("config",e.config_table)("rows",e.rows[0]),m.zb(1),m.fc("loading",e.loadingData)("config",e.config_einzel_table)("rows",e.rows[0]),m.zb(2),m.fc("hidden",!e.isTableFilled[1]),m.zb(2),m.Cc(m.bc(144,155,"WETTKAEMPFE.WETTKAEMPFE.WETTKAMPFTAGZWEI")),m.zb(2),m.fc("id","downloadTagesuebersicht")("downloadUrl",e.onButtonDownloadUebersicht("pdf/Uebersicht/?wettkampftag=2"))("fileName","Tagesuebersicht.pdf"),m.zb(1),m.Dc(" ",m.bc(147,157,"WETTKAEMPFE.BUTTONS.TAGESUEBERSICHT_ALS_PDF")," "),m.zb(2),m.fc("loading",e.loadingData)("config",e.config_table)("rows",e.rows[1]),m.zb(1),m.fc("loading",e.loadingData)("config",e.config_einzel_table)("rows",e.rows[1]),m.zb(2),m.fc("hidden",!e.isTableFilled[2]),m.zb(2),m.Cc(m.bc(154,159,"WETTKAEMPFE.WETTKAEMPFE.WETTKAMPFTAGDREI")),m.zb(2),m.fc("id","downloadTagesuebersicht")("downloadUrl",e.onButtonDownloadUebersicht("pdf/Uebersicht/?wettkampftag=3"))("fileName","Tagesuebersicht.pdf"),m.zb(1),m.Dc(" ",m.bc(157,161,"WETTKAEMPFE.BUTTONS.TAGESUEBERSICHT_ALS_PDF")," "),m.zb(2),m.fc("loading",e.loadingData)("config",e.config_table)("rows",e.rows[2]),m.zb(1),m.fc("loading",e.loadingData)("config",e.config_einzel_table)("rows",e.rows[2]),m.zb(2),m.fc("hidden",!e.isTableFilled[3]),m.zb(2),m.Cc(m.bc(164,163,"WETTKAEMPFE.WETTKAEMPFE.WETTKAMPFTAGVIER")),m.zb(2),m.fc("id","downloadTagesuebersicht")("downloadUrl",e.onButtonDownloadUebersicht("pdf/Uebersicht/?wettkampftag=4"))("fileName","Tagesuebersicht.pdf"),m.zb(1),m.Dc(" ",m.bc(167,165,"WETTKAEMPFE.BUTTONS.TAGESUEBERSICHT_ALS_PDF")," "),m.zb(2),m.fc("loading",e.loadingData)("config",e.config_table)("rows",e.rows[3]),m.zb(1),m.fc("loading",e.loadingData)("config",e.config_einzel_table)("rows",e.rows[3]))},directives:[R.a,D.a,i.D,i.o,i.p,U.a,i.z,i.n,i.q,a.s,Q.a,H.a,a.t,V.a,i.s,i.C],pipes:[_.d],styles:["#Button[_ngcontent-%COMP%], #showResultButton[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{margin-top:20px}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;background:rgba(0,0,0,.7);transition:opacity .5s;visibility:visible;opacity:1}.popup[_ngcontent-%COMP%]{margin:70px auto;padding:20px;background:#fff;border-radius:5px;width:40%;height:auto;position:relative;transition:all 5s ease-in-out}.popup[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;top:20px;right:30px;transition:all .2s;font-size:30px;font-weight:700;text-decoration:none;color:#333}.hidden[_ngcontent-%COMP%]{display:none}textarea[readonly][_ngcontent-%COMP%]{background-color:#fff}"]}),t})();const x=[{path:"",pathMatch:"full",component:Z},{path:":Wettkampf",pathMatch:"full",component:Z},{path:":Wettkampf/:Mannschaft",pathMatch:"full",component:Z}];let J=(()=>{class t{}return t.\u0275mod=m.Jb({type:t}),t.\u0275inj=m.Ib({factory:function(e){return new(e||t)},imports:[[a.c,s.g.forChild(x),r.a,i.k]]}),t})()}}]);