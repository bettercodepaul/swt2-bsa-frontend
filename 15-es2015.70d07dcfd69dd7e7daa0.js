(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"9N29":function(e,t,n){"use strict";n.r(t),n.d(t,"UserModule",(function(){return B}));var r=n("ofXK"),o=n("3Pt+"),i=n("tyNb"),a=n("btWG"),l=n("th7h"),b=n("fXoL");let s=(()=>{class e{constructor(e){this.currentUserService=e}canActivate(){return this.currentUserService.hasAnyPermisson([])}}return e.\u0275fac=function(t){return new(t||e)(b.Sb(l.a))},e.\u0275prov=b.Fb({token:e,factory:e.\u0275fac}),e})();var d=n("X628"),c=n("AytR"),u=n("Rkqy"),g=n("VQQ0"),O=n("U19w"),R=n("RBHD"),E=n("SMp3");const m={moduleTranslationKey:"USER",pageTitleTranslationKey:"USER.LOGIN.TITLE"};var N=n("NJqk"),h=n("w90F"),p=n("LJ8u"),P=n("/2r1"),f=n("sYmb");function L(e,t){if(1&e){const e=b.Pb();b.Ob(0,"div"),b.Ob(1,"bla-alert",29),b.Ob(2,"p"),b.xc(3,"Username: admin@bogenliga.de "),b.Kb(4,"br"),b.xc(5,"Password: admin"),b.Kb(6,"br"),b.xc(7,"Rolle: ADMIN"),b.Kb(8,"br"),b.Ob(9,"bla-button",30),b.Vb("onClick",(function(t){return b.nc(e),b.Xb().onAutoLogin(t)})),b.xc(10,"Login als Admin "),b.Nb(),b.Nb(),b.Ob(11,"p"),b.xc(12,"Username: moderator@bogenliga.de "),b.Kb(13,"br"),b.xc(14,"Password: moderator"),b.Kb(15,"br"),b.xc(16,"Rolle: MODERATOR"),b.Kb(17,"br"),b.Ob(18,"bla-button",31),b.Vb("onClick",(function(t){return b.nc(e),b.Xb().onAutoLogin(t)})),b.xc(19,"Login als Moderator "),b.Nb(),b.Nb(),b.Ob(20,"p"),b.xc(21,"Username: user@bogenliga.de "),b.Kb(22,"br"),b.xc(23,"Password: user "),b.Kb(24,"br"),b.xc(25,"Rolle: USER"),b.Kb(26,"br"),b.Ob(27,"bla-button",31),b.Vb("onClick",(function(t){return b.nc(e),b.Xb().onAutoLogin(t)})),b.xc(28,"Login als User "),b.Nb(),b.Nb(),b.Ob(29,"p"),b.xc(30,"Username: Malorie.Artman@bogenliga.de "),b.Kb(31,"br"),b.xc(32,"Password: swt2 "),b.Kb(33,"br"),b.xc(34,"Rolle: USER"),b.Kb(35,"br"),b.Ob(36,"bla-button",31),b.Vb("onClick",(function(t){return b.nc(e),b.Xb().onAutoLogin(t)})),b.xc(37,"Login als Test-Benutzer "),b.Nb(),b.Nb(),b.Ob(38,"p"),b.xc(39,"Username: Nicholas.Corle@bogenliga.de "),b.Kb(40,"br"),b.xc(41,"Password: swt2 "),b.Kb(42,"br"),b.xc(43,"Rolle: MODERATOR"),b.Kb(44,"br"),b.Ob(45,"bla-button",31),b.Vb("onClick",(function(t){return b.nc(e),b.Xb().onAutoLogin(t)})),b.xc(46,"Login als Test-Moderator "),b.Nb(),b.Nb(),b.Ob(47,"p"),b.xc(48,"Username: TeamLigaleiter@bogenliga.de "),b.Kb(49,"br"),b.xc(50,"Password: swt2 "),b.Kb(51,"br"),b.xc(52,"Rolle: LIGALEITER"),b.Kb(53,"br"),b.Ob(54,"bla-button",31),b.Vb("onClick",(function(t){return b.nc(e),b.Xb().onAutoLogin(t)})),b.xc(55,"Login f\xfcr Team Ligaleiter "),b.Nb(),b.Nb(),b.Ob(56,"p"),b.xc(57,"Username: TeamSportleiter@bogenliga.de "),b.Kb(58,"br"),b.xc(59,"Password: swt2 "),b.Kb(60,"br"),b.xc(61,"Rolle: SPORTLEITER"),b.Kb(62,"br"),b.Ob(63,"bla-button",31),b.Vb("onClick",(function(t){return b.nc(e),b.Xb().onAutoLogin(t)})),b.xc(64,"Login f\xfcr Team Sportleiter "),b.Nb(),b.Nb(),b.Ob(65,"p"),b.xc(66,"Username: TeamModerator@bogenliga.de "),b.Kb(67,"br"),b.xc(68,"Password: swt2 "),b.Kb(69,"br"),b.xc(70,"Rolle: MODERATOR"),b.Kb(71,"br"),b.Ob(72,"bla-button",31),b.Vb("onClick",(function(t){return b.nc(e),b.Xb().onAutoLogin(t)})),b.xc(73,"Login f\xfcr Team Moderator "),b.Nb(),b.Nb(),b.Nb(),b.Nb()}if(2&e){const e=b.Xb();b.xb(1),b.dc("alertType",e.AlertType.INFO),b.xb(8),b.dc("buttonSize",e.ButtonSize.SMALL)("value",e.testAdminUser),b.xb(9),b.dc("buttonSize",e.ButtonSize.SMALL)("value",e.testModeratorUser),b.xb(9),b.dc("buttonSize",e.ButtonSize.SMALL)("value",e.testUserUser),b.xb(9),b.dc("buttonSize",e.ButtonSize.SMALL)("value",e.testDummyUserUser),b.xb(9),b.dc("buttonSize",e.ButtonSize.SMALL)("value",e.testDummyModeratorUser),b.xb(9),b.dc("buttonSize",e.ButtonSize.SMALL)("value",e.testTeamLigaleiter),b.xb(9),b.dc("buttonSize",e.ButtonSize.SMALL)("value",e.testTeamSportleiter),b.xb(9),b.dc("buttonSize",e.ButtonSize.SMALL)("value",e.testTeamModerator)}}let S=(()=>{class e{constructor(e,t,n,r){this.loginDataProviderService=e,this.currentUserService=t,this.route=n,this.router=r,this.credentials=new R.a,this.loading=!1,this.loginResult=E.a.PENDING,this.ButtonSize=g.b,this.AlertType=u.b,this.LoginResult=E.a,this.inProd=c.a.production,this.isSpotterAuthenticationEnabled=!1,this.testAdminUser=new R.a("admin@bogenliga.de","admin"),this.testModeratorUser=new R.a("moderator@bogenliga.de","moderator"),this.testUserUser=new R.a("user@bogenliga.de","user"),this.testDummyModeratorUser=new R.a("Nicholas.Corle@bogenliga.de","swt2"),this.testDummyUserUser=new R.a("Malorie.Artman@bogenliga.de","swt2"),this.testTeamLigaleiter=new R.a("TeamLigaleiter@bogenliga.de","swt2"),this.testTeamSportleiter=new R.a("TeamSportleiter@bogenliga.de","swt2"),this.testTeamModerator=new R.a("TeamModerator@bogenliga.de","swt2"),this.config=m,this.destinationRouteAfterLogin="/home"}ngOnInit(){this.route.queryParams.subscribe(e=>{Object(d.c)(e.destination)||(this.destinationRouteAfterLogin=e.destination)}),this.initRememberedUsername()}onLogin(e){this.loading=!0,this.currentUserService.disableDefaultUser(),this.loginDataProviderService.signIn(this.credentials).then(()=>this.handleSuccessfulLogin(),e=>this.showFailedLogin(e))}onSpotterLogin(e){this.destinationRouteAfterLogin="/spotter/authentication",this.credentials=e,this.onLogin(null)}onAutoLogin(e){this.credentials=e,this.onLogin(null)}initRememberedUsername(){this.credentials.username=this.loginDataProviderService.getEmailAddress(),Object(d.a)(this.credentials.username)||(this.credentials.rememberMe=!0)}showFailedLogin(e){this.loading=!1,this.loginResult=e}handleSuccessfulLogin(){this.loading=!1,this.loginResult=E.a.SUCCESS,this.router.navigateByUrl(this.destinationRouteAfterLogin)}}return e.\u0275fac=function(t){return new(t||e)(b.Jb(O.a),b.Jb(N.a),b.Jb(i.a),b.Jb(i.c))},e.\u0275cmp=b.Db({type:e,selectors:[["bla-login"]],decls:68,vars:82,consts:[[3,"config"],["id","login"],["id","login-dialog"],[3,"visible","header","alertType"],[1,"card","mb-4","shadow-sm"],[1,"card-body","login-dialog"],["id","loginForm"],["loginForm","ngForm"],[1,"imgcontainer"],["src","assets/img/logo.png","alt","Logo",1,"avatar"],[1,"h3","mb-3","font-weight-normal"],[1,"container"],[1,"form-group"],["for","loginEmail"],["type","email","name","loginEmail","id","loginEmail","required","","pattern","^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,63}$",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["loginEmail","ngModel"],[1,"invalid-feedback"],["for","loginPassword"],["type","password","id","loginPassword","name","loginPassword","required","","minlength","3",1,"form-control",3,"ngModel","placeholder","ngModelChange","keyup.enter"],["loginPassword","ngModel"],["for","loginCode"],["type","text","id","loginCode","name","loginCode","minlength","3",1,"form-control",3,"ngModel","placeholder","ngModelChange","keyup.enter"],["loginCode","ngModel"],[1,"form-group","form-check"],["type","checkbox","id","loginRememberMe","name","loginRememberMe",1,"form-check-input",3,"ngModel","ngModelChange"],["for","loginRememberMe",1,"form-check-label"],[3,"id","buttonSize","disabled","loading","onClick"],[3,"buttonSize","disabled","visible","onClick"],[4,"ngIf"],["header","Testbenutzer:",3,"alertType"],["data-cy","login-als-admin-button",3,"buttonSize","value","onClick"],[3,"buttonSize","value","onClick"]],template:function(e,t){if(1&e&&(b.Ob(0,"bla-common-dialog",0),b.Ob(1,"div",1),b.Ob(2,"div",2),b.Ob(3,"bla-alert",3),b.Yb(4,"translate"),b.xc(5),b.Yb(6,"translate"),b.Nb(),b.Ob(7,"bla-alert",3),b.Yb(8,"translate"),b.xc(9),b.Yb(10,"translate"),b.Nb(),b.Ob(11,"bla-alert",3),b.Yb(12,"translate"),b.xc(13),b.Yb(14,"translate"),b.Nb(),b.Ob(15,"div",4),b.Ob(16,"div",5),b.Ob(17,"form",6,7),b.Ob(19,"div",8),b.Kb(20,"img",9),b.Ob(21,"h5",10),b.xc(22),b.Yb(23,"translate"),b.Nb(),b.Nb(),b.Ob(24,"div",11),b.Ob(25,"div",12),b.Ob(26,"label",13),b.xc(27),b.Yb(28,"translate"),b.Nb(),b.Ob(29,"input",14,15),b.Vb("ngModelChange",(function(e){return t.credentials.username=e})),b.Yb(31,"translate"),b.Nb(),b.Ob(32,"div",16),b.xc(33),b.Yb(34,"translate"),b.Nb(),b.Nb(),b.Ob(35,"div",12),b.Ob(36,"label",17),b.xc(37),b.Yb(38,"translate"),b.Nb(),b.Ob(39,"input",18,19),b.Vb("ngModelChange",(function(e){return t.credentials.password=e}))("keyup.enter",(function(e){return t.onLogin(e)})),b.Yb(41,"translate"),b.Nb(),b.Ob(42,"div",16),b.xc(43),b.Yb(44,"translate"),b.Nb(),b.Nb(),b.Ob(45,"div",12),b.Ob(46,"label",20),b.xc(47),b.Yb(48,"translate"),b.Nb(),b.Ob(49,"input",21,22),b.Vb("ngModelChange",(function(e){return t.credentials.code=e}))("keyup.enter",(function(e){return t.onLogin(e)})),b.Yb(51,"translate"),b.Nb(),b.Ob(52,"div",16),b.xc(53),b.Yb(54,"translate"),b.Nb(),b.Nb(),b.Ob(55,"div",23),b.Ob(56,"input",24),b.Vb("ngModelChange",(function(e){return t.credentials.rememberMe=e})),b.Nb(),b.Ob(57,"label",25),b.xc(58),b.Yb(59,"translate"),b.Nb(),b.Nb(),b.Ob(60,"bla-button",26),b.Vb("onClick",(function(e){return t.onLogin(e)})),b.xc(61),b.Yb(62,"translate"),b.Nb(),b.Kb(63,"br"),b.Ob(64,"bla-button",27),b.Vb("onClick",(function(){return t.onSpotterLogin(t.testModeratorUser)})),b.xc(65),b.Yb(66,"translate"),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.vc(67,L,74,17,"div",28),b.Nb(),b.Nb(),b.Nb()),2&e){const e=b.mc(18),n=b.mc(30),r=b.mc(40),o=b.mc(50);b.dc("config",t.config),b.xb(3),b.ec("header",b.Zb(4,44,"USER.LOGIN.NOTIFICATION.LOGIN_SUCCESSFUL.HEADER")),b.dc("visible",t.loginResult===t.LoginResult.SUCCESS)("alertType",t.AlertType.SUCCESS),b.xb(2),b.zc(" ",b.Zb(6,46,"USER.LOGIN.NOTIFICATION.LOGIN_SUCCESSFUL.TEXT")," "),b.xb(2),b.ec("header",b.Zb(8,48,"USER.LOGIN.NOTIFICATION.LOGIN_FAILURE.HEADER")),b.dc("visible",t.loginResult===t.LoginResult.FAILURE)("alertType",t.AlertType.DANGER),b.xb(2),b.zc(" ",b.Zb(10,50,"USER.LOGIN.NOTIFICATION.LOGIN_FAILURE.TEXT")," "),b.xb(2),b.ec("header",b.Zb(12,52,"USER.LOGIN.NOTIFICATION.LOGIN_CONNECTION_PROBLEM.HEADER")),b.dc("visible",t.loginResult===t.LoginResult.CONNECTION_PROBLEM)("alertType",t.AlertType.WARNING),b.xb(2),b.zc(" ",b.Zb(14,54,"USER.LOGIN.NOTIFICATION.LOGIN_CONNECTION_PROBLEM.TEXT")," "),b.xb(9),b.yc(b.Zb(23,56,"USER.LOGIN.HEADER")),b.xb(5),b.yc(b.Zb(28,58,"USER.LOGIN.USERNAME.LABEL")),b.xb(2),b.Bb("is-invalid",n.invalid&&!n.untouched||t.loginResult===t.LoginResult.FAILURE),b.ec("placeholder",b.Zb(31,60,"USER.LOGIN.USERNAME.LABEL")),b.dc("ngModel",t.credentials.username),b.xb(4),b.zc(" ",b.Zb(34,62,"USER.LOGIN.USERNAME.ERROR")," "),b.xb(4),b.yc(b.Zb(38,64,"USER.LOGIN.PASSWORD.LABEL")),b.xb(2),b.Bb("is-invalid",r.invalid&&!r.untouched||t.loginResult===t.LoginResult.FAILURE),b.ec("placeholder",b.Zb(41,66,"USER.LOGIN.PASSWORD.PLACEHOLDER")),b.dc("ngModel",t.credentials.password),b.xb(4),b.zc(" ",b.Zb(44,68,"USER.LOGIN.PASSWORD.ERROR")," "),b.xb(4),b.yc(b.Zb(48,70,"USER.LOGIN.CODE.LABEL")),b.xb(2),b.Bb("is-invalid",o.invalid&&!o.untouched||t.loginResult===t.LoginResult.FAILURE),b.ec("placeholder",b.Zb(51,72,"USER.LOGIN.CODE.PLACEHOLDER")),b.dc("ngModel",t.credentials.code),b.xb(4),b.zc(" ",b.Zb(54,74,"USER.LOGIN.CODE.ERROR")," "),b.xb(3),b.dc("ngModel",t.credentials.rememberMe),b.xb(2),b.yc(b.Zb(59,76,"USER.LOGIN.REMEMBER_ME.LABEL")),b.xb(2),b.dc("id","loginButton")("buttonSize",t.ButtonSize.LARGE_BLOCK)("disabled",!e.valid)("loading",t.loading),b.xb(1),b.zc("",b.Zb(62,78,"USER.LOGIN.BUTTON.LOGIN")," "),b.xb(3),b.dc("buttonSize",t.ButtonSize.SMALL)("disabled",!t.isSpotterAuthenticationEnabled)("visible",t.isSpotterAuthenticationEnabled),b.xb(1),b.zc(" ",b.Zb(66,80,"SPOTTER.LINK.TEXT")," "),b.xb(2),b.dc("ngIf",!(!0===t.inProd))}},directives:[h.a,p.a,o.D,o.o,o.p,o.c,o.y,o.u,o.n,o.q,o.m,o.a,P.a,r.t],pipes:[f.d],styles:["#login[_ngcontent-%COMP%]{display:flex;justify-content:center}#login-dialog[_ngcontent-%COMP%]{width:500px;max-width:500px}.imgcontainer[_ngcontent-%COMP%]{text-align:center;margin:24px 0 12px}img.avatar[_ngcontent-%COMP%]{width:40%;border-radius:50%}"]}),e})();var M=n("PEb7"),x=n("gQPg"),U=n("/k8H"),A=n("XUa0");const v={moduleTranslationKey:"USER",pageTitleTranslationKey:"USER.PROFILE.TITLE"};let C=(()=>{class e extends M.CommonComponentDirective{constructor(e,t,n,r){super(),this.userProfileDataProvider=e,this.router=t,this.route=n,this.notificationService=r,this.config=v,this.ButtonType=M.ButtonType,this.currentUserProfile=new A.a}ngOnInit(){this.loading=!0,this.notificationService.discardNotification(),this.loadCurrentUserProfile()}loadCurrentUserProfile(){this.userProfileDataProvider.findCurrentUserProfile().then(e=>this.handleSuccess(e)).catch(e=>this.handleFailure(e))}handleSuccess(e){this.currentUserProfile=e.payload,this.loading=!1}handleFailure(e){this.loading=!1}}return e.\u0275fac=function(t){return new(t||e)(b.Jb(U.a),b.Jb(i.c),b.Jb(i.a),b.Jb(x.c))},e.\u0275cmp=b.Db({type:e,selectors:[["bla-user-profile"]],features:[b.wb([]),b.ub],decls:101,vars:86,consts:[[3,"config","loading"],["id","userProfileForm",1,"horizontal-form","half-page"],["userProfileForm","ngForm"],[1,"form-group","row"],["for","userProfileVorname",1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["type","text","readonly","","id","userProfileVorname","name","userProfileVorname",1,"form-control-plaintext",3,"ngModel","placeholder","ngModelChange"],["userProfileVorname","ngModel"],[1,"invalid-feedback"],["for","userProfileNachname",1,"col-sm-3","col-form-label"],["type","text","readonly","","id","userProfileNachname","name","userProfileNachname",1,"form-control-plaintext",3,"ngModel","placeholder","ngModelChange"],["userProfileNachname","ngModel"],["for","userProfileEmail",1,"col-sm-3","col-form-label"],["type","text","readonly","","id","userProfileEmail","name","userProfileEmail",1,"form-control-plaintext",3,"ngModel","placeholder","ngModelChange"],["userProfileEmail","ngModel"],["for","userProfileGeburtsdatum",1,"col-sm-3","col-form-label"],["type","text","readonly","","pattern","[0-9]{4}-[0-9]{2}-[0-9]{2}","id","userProfileGeburtsdatum","name","userProfileGeburtsdatum",1,"form-control-plaintext",3,"ngModel","placeholder","ngModelChange"],["userProfileGeburtsdatum","ngModel"],["for","userProfileMitgliedsnummer",1,"col-sm-3","col-form-label"],["type","text","readonly","","id","userProfileMitgliedsnummer","name","userProfileMitgliedsnummer",1,"form-control-plaintext",3,"ngModel","placeholder","ngModelChange"],["userProfileMitgliedsnummer","ngModel"],["for","userProfileNationalitaet",1,"col-sm-3","col-form-label"],["type","text","readonly","","pattern","[D|AT|CH|FR|IT|GB]","id","userProfileNationalitaet","name","userProfileNationalitaet",1,"form-control-plaintext",3,"ngModel","placeholder","ngModelChange"],["userProfileNationalitaet","ngModel"],["for","userProfileVerein",1,"col-sm-3","col-form-label"],["type","text","readonly","","id","userProfileVerein","name","userProfileVerein",1,"form-control-plaintext",3,"ngModel","placeholder","ngModelChange"],["userProfileVerein","ngModel"]],template:function(e,t){if(1&e&&(b.Ob(0,"bla-common-dialog",0),b.Ob(1,"form",1,2),b.Ob(3,"div",3),b.Ob(4,"label",4),b.Ob(5,"span"),b.xc(6),b.Yb(7,"translate"),b.Nb(),b.Ob(8,"span"),b.xc(9," *"),b.Nb(),b.Nb(),b.Ob(10,"div",5),b.Ob(11,"input",6,7),b.Vb("ngModelChange",(function(e){return t.currentUserProfile.vorname=e})),b.Yb(13,"translate"),b.Nb(),b.Ob(14,"div",8),b.xc(15),b.Yb(16,"translate"),b.Nb(),b.Nb(),b.Nb(),b.Ob(17,"div",3),b.Ob(18,"label",9),b.Ob(19,"span"),b.xc(20),b.Yb(21,"translate"),b.Nb(),b.Ob(22,"span"),b.xc(23," *"),b.Nb(),b.Nb(),b.Ob(24,"div",5),b.Ob(25,"input",10,11),b.Vb("ngModelChange",(function(e){return t.currentUserProfile.nachname=e})),b.Yb(27,"translate"),b.Nb(),b.Ob(28,"div",8),b.xc(29),b.Yb(30,"translate"),b.Nb(),b.Nb(),b.Nb(),b.Ob(31,"div",3),b.Ob(32,"label",12),b.Ob(33,"span"),b.xc(34),b.Yb(35,"translate"),b.Nb(),b.Ob(36,"span"),b.xc(37," *"),b.Nb(),b.Nb(),b.Ob(38,"div",5),b.Ob(39,"input",13,14),b.Vb("ngModelChange",(function(e){return t.currentUserProfile.email=e})),b.Yb(41,"translate"),b.Nb(),b.Ob(42,"div",8),b.xc(43),b.Yb(44,"translate"),b.Nb(),b.Nb(),b.Nb(),b.Ob(45,"div",3),b.Ob(46,"label",15),b.Ob(47,"span"),b.xc(48),b.Yb(49,"translate"),b.Nb(),b.Ob(50,"span"),b.xc(51," *"),b.Nb(),b.Nb(),b.Ob(52,"div",5),b.Ob(53,"input",16,17),b.Vb("ngModelChange",(function(e){return t.currentUserProfile.geburtsdatum=e})),b.Yb(55,"translate"),b.Nb(),b.Ob(56,"div",8),b.xc(57),b.Yb(58,"translate"),b.Nb(),b.Nb(),b.Nb(),b.Ob(59,"div",3),b.Ob(60,"label",18),b.Ob(61,"span"),b.xc(62),b.Yb(63,"translate"),b.Nb(),b.Ob(64,"span"),b.xc(65," *"),b.Nb(),b.Nb(),b.Ob(66,"div",5),b.Ob(67,"input",19,20),b.Vb("ngModelChange",(function(e){return t.currentUserProfile.mitgliedsnummer=e})),b.Yb(69,"translate"),b.Nb(),b.Ob(70,"div",8),b.xc(71),b.Yb(72,"translate"),b.Nb(),b.Nb(),b.Nb(),b.Ob(73,"div",3),b.Ob(74,"label",21),b.Ob(75,"span"),b.xc(76),b.Yb(77,"translate"),b.Nb(),b.Ob(78,"span"),b.xc(79," *"),b.Nb(),b.Nb(),b.Ob(80,"div",5),b.Ob(81,"input",22,23),b.Vb("ngModelChange",(function(e){return t.currentUserProfile.nationalitaet=e})),b.Yb(83,"translate"),b.Nb(),b.Ob(84,"div",8),b.xc(85),b.Yb(86,"translate"),b.Nb(),b.Nb(),b.Nb(),b.Ob(87,"div",3),b.Ob(88,"label",24),b.Ob(89,"span"),b.xc(90),b.Yb(91,"translate"),b.Nb(),b.Ob(92,"span"),b.xc(93," *"),b.Nb(),b.Nb(),b.Ob(94,"div",5),b.Ob(95,"input",25,26),b.Vb("ngModelChange",(function(e){return t.currentUserProfile.vereinsId=e})),b.Yb(97,"translate"),b.Nb(),b.Ob(98,"div",8),b.xc(99),b.Yb(100,"translate"),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&e){const e=b.mc(12),n=b.mc(26),r=b.mc(40),o=b.mc(54),i=b.mc(68),a=b.mc(82),l=b.mc(96);b.dc("config",t.config)("loading",t.loading),b.xb(6),b.yc(b.Zb(7,44,"USER.PROFILE.FORM.VORNAME.LABEL")),b.xb(5),b.Bb("is-invalid",e.invalid&&!e.untouched),b.ec("placeholder",b.Zb(13,46,"USER.PROFILE.FORM.VORNAME.PLACEHOLDER")),b.dc("ngModel",t.currentUserProfile.vorname),b.xb(4),b.zc(" ",b.Zb(16,48,"USER.PROFILE.FORM.VORNAME.ERROR")," "),b.xb(5),b.yc(b.Zb(21,50,"USER.PROFILE.FORM.NACHNAME.LABEL")),b.xb(5),b.Bb("is-invalid",n.invalid&&!n.untouched),b.ec("placeholder",b.Zb(27,52,"USER.PROFILE.FORM.NACHNAME.PLACEHOLDER")),b.dc("ngModel",t.currentUserProfile.nachname),b.xb(4),b.zc(" ",b.Zb(30,54,"USER.PROFILE.FORM.NACHNAME.ERROR")," "),b.xb(5),b.yc(b.Zb(35,56,"USER.PROFILE.FORM.EMAIL.LABEL")),b.xb(5),b.Bb("is-invalid",r.invalid&&!r.untouched),b.ec("placeholder",b.Zb(41,58,"USER.PROFILE.FORM.EMAIL.PLACEHOLDER")),b.dc("ngModel",t.currentUserProfile.email),b.xb(4),b.zc(" ",b.Zb(44,60,"USER.PROFILE.FORM.EMAIL.ERROR")," "),b.xb(5),b.yc(b.Zb(49,62,"USER.PROFILE.FORM.GEBURTSDATUM.LABEL")),b.xb(5),b.Bb("is-invalid",o.invalid&&!o.untouched),b.ec("placeholder",b.Zb(55,64,"USER.PROFILE.FORM.GEBURTSDATUM.PLACEHOLDER")),b.dc("ngModel",t.currentUserProfile.geburtsdatum),b.xb(4),b.zc(" ",b.Zb(58,66,"USER.PROFILE.FORM.GEBURTSDATUM.ERROR")," "),b.xb(5),b.yc(b.Zb(63,68,"USER.PROFILE.FORM.MITGLIEDSNUMMER.LABEL")),b.xb(5),b.Bb("is-invalid",i.invalid&&!i.untouched),b.ec("placeholder",b.Zb(69,70,"USER.PROFILE.FORM.MITGLIEDSNUMMER.PLACEHOLDER")),b.dc("ngModel",t.currentUserProfile.mitgliedsnummer),b.xb(4),b.zc(" ",b.Zb(72,72,"USER.PROFILE.FORM.MITGLIEDSNUMMER.ERROR")," "),b.xb(5),b.yc(b.Zb(77,74,"USER.PROFILE.FORM.NATIONALITAET.LABEL")),b.xb(5),b.Bb("is-invalid",a.invalid&&!a.untouched),b.ec("placeholder",b.Zb(83,76,"USER.PROFILE.FORM.NATIONALITAET.PLACEHOLDER")),b.dc("ngModel",t.currentUserProfile.nationalitaet),b.xb(4),b.zc(" ",b.Zb(86,78,"USER.PROFILE.FORM.NATIONALITAET.ERROR")," "),b.xb(5),b.yc(b.Zb(91,80,"USER.PROFILE.FORM.VEREIN.LABEL")),b.xb(5),b.Bb("is-invalid",l.invalid&&!l.untouched),b.ec("placeholder",b.Zb(97,82,"USER.PROFILE.FORM.VEREIN.PLACEHOLDER")),b.dc("ngModel",t.currentUserProfile.vereinsId),b.xb(4),b.zc(" ",b.Zb(100,84,"USER.PROFILE.FORM.VEREIN.ERROR")," ")}},directives:[h.a,o.D,o.o,o.p,o.c,o.n,o.q,o.u],pipes:[f.d],styles:[".half-page[_ngcontent-%COMP%]{width:50%}.button-box[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-direction:row-reverse;flex-wrap:wrap}@media (max-width:1400px){.half-page[_ngcontent-%COMP%]{width:80%}}@media (max-width:950px){.half-page[_ngcontent-%COMP%]{width:100%}}"]}),e})();var I=n("YfBl");class w{constructor(e,t){this.password=e,this.newPassword=t}}let T=(()=>{class e extends I.DataProviderService{constructor(e){super(),this.restClient=e,this.serviceSubUrl="v1/user"}update(e){return new Promise((t,n)=>{const r=new w(e.password,e.newPassword);this.sendUpdateRequest(r,t,n)})}sendUpdateRequest(e,t,n){this.restClient.PUT((new I.UriBuilder).fromPath(this.getUrl()).build(),e).then(e=>{t(I.RequestResult.SUCCESS)},e=>{n(0===e.status?{result:I.RequestResult.CONNECTION_PROBLEM}:{result:I.RequestResult.FAILURE})})}}return e.\u0275fac=function(t){return new(t||e)(b.Sb(I.RestClient))},e.\u0275prov=b.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class F{constructor(e,t){this.password=e||"",this.newPassword=t||"",this.verifyPassword=t||""}}const y={moduleTranslationKey:"USER",pageTitleTranslationKey:"USER.PWD.TITLE"},D=[{path:"profile",pathMatch:"full",component:C,canActivate:[s]},{path:"pwd",pathMatch:"full",component:(()=>{class e{constructor(e){this.userPwdDataProvider=e,this.config=y,this.changeCredentials=new F,this.loginResult=E.a.PENDING,this.LoginResult=E.a,this.AlertType=u.b}ngOnInit(){}onUpdate(e){this.userPwdDataProvider.update(this.changeCredentials).then(()=>this.handleSuccessUpdate(),e=>this.showFailedUpdate(e))}showFailedUpdate(e){this.loginResult=e}handleSuccessUpdate(){this.loginResult=E.a.SUCCESS}}return e.\u0275fac=function(t){return new(t||e)(b.Jb(T))},e.\u0275cmp=b.Db({type:e,selectors:[["bla-user-pwd"]],decls:55,vars:66,consts:[[3,"config"],["id","pwd"],["id","userPwd-dialog"],[3,"visible","header","alertType"],[1,"card","mb-4","shadow-sm"],[1,"card-body","userPwd-dialog"],["id","userPwdForm"],["userPwdForm","ngForm"],[1,"imgcontainer"],["src","../assets/img/logo.png","alt","Logo",1,"avatar"],[1,"container"],[1,"form-group"],["for","userPwdFormPassword"],["type","password","id","userPwdFormPassword","name","userPwdFormPassword","required","",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["userPwdFormPassword","ngModel"],[1,"invalid-feedback"],["for","userPwdFormNewPwd"],["type","password","required","","pattern","^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[A-Za-z\\d#$^+=!*()@%&?]{8,}$","id","userPwdFormNewPwd","name","userPwdFormNewPwd",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["userPwdFormNewPwd","ngModel"],["for","userPwdFormVerifyPwd"],["type","password","id","userPwdFormVerifyPwd","name","userPwdFormVerifyPwd","required","","minlength","8",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["userPwdFormVerifyPwd","ngModel"],[3,"id","disabled","onClick"]],template:function(e,t){if(1&e&&(b.Ob(0,"bla-common-dialog",0),b.Ob(1,"div",1),b.Ob(2,"div",2),b.Ob(3,"bla-alert",3),b.Yb(4,"translate"),b.xc(5),b.Yb(6,"translate"),b.Nb(),b.Ob(7,"bla-alert",3),b.Yb(8,"translate"),b.xc(9),b.Yb(10,"translate"),b.Nb(),b.Ob(11,"bla-alert",3),b.Yb(12,"translate"),b.xc(13),b.Yb(14,"translate"),b.Nb(),b.Ob(15,"div",4),b.Ob(16,"div",5),b.Ob(17,"form",6,7),b.Ob(19,"div",8),b.Kb(20,"img",9),b.Nb(),b.Ob(21,"div",10),b.Ob(22,"div",11),b.Ob(23,"label",12),b.xc(24),b.Yb(25,"translate"),b.Nb(),b.Ob(26,"input",13,14),b.Vb("ngModelChange",(function(e){return t.changeCredentials.password=e})),b.Yb(28,"translate"),b.Nb(),b.Ob(29,"div",15),b.xc(30),b.Yb(31,"translate"),b.Nb(),b.Nb(),b.Ob(32,"div",11),b.Ob(33,"label",16),b.xc(34),b.Yb(35,"translate"),b.Nb(),b.Ob(36,"input",17,18),b.Vb("ngModelChange",(function(e){return t.changeCredentials.newPassword=e})),b.Yb(38,"translate"),b.Nb(),b.Ob(39,"div",15),b.xc(40),b.Yb(41,"translate"),b.Nb(),b.Nb(),b.Ob(42,"div",11),b.Ob(43,"label",19),b.xc(44),b.Yb(45,"translate"),b.Nb(),b.Ob(46,"input",20,21),b.Vb("ngModelChange",(function(e){return t.changeCredentials.verifyPassword=e})),b.Yb(48,"translate"),b.Nb(),b.Ob(49,"div",15),b.xc(50),b.Yb(51,"translate"),b.Nb(),b.Nb(),b.Ob(52,"bla-button",22),b.Vb("onClick",(function(e){return t.onUpdate(e)})),b.xc(53),b.Yb(54,"translate"),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&e){const e=b.mc(18),n=b.mc(27),r=b.mc(37),o=b.mc(47);b.dc("config",t.config),b.xb(3),b.ec("header",b.Zb(4,34,"USER.PWD.NOTIFICATION.PWD_SUCCESSFUL.HEADER")),b.dc("visible",t.loginResult===t.LoginResult.SUCCESS)("alertType",t.AlertType.SUCCESS),b.xb(2),b.zc(" ",b.Zb(6,36,"USER.PWD.NOTIFICATION.PWD_SUCCESSFUL.TEXT")," "),b.xb(2),b.ec("header",b.Zb(8,38,"USER.PWD.NOTIFICATION.PWD_FAILURE.HEADER")),b.dc("visible",t.loginResult===t.LoginResult.FAILURE)("alertType",t.AlertType.DANGER),b.xb(2),b.zc(" ",b.Zb(10,40,"USER.PWD.NOTIFICATION.PWD_FAILURE.TEXT")," "),b.xb(2),b.ec("header",b.Zb(12,42,"USER.PWD.NOTIFICATION.PWD_CONNECTION_PROBLEM.HEADER")),b.dc("visible",t.loginResult===t.LoginResult.CONNECTION_PROBLEM)("alertType",t.AlertType.WARNING),b.xb(2),b.zc(" ",b.Zb(14,44,"USER.PWD.NOTIFICATION.PWD_CONNECTION_PROBLEM.TEXT")," "),b.xb(11),b.yc(b.Zb(25,46,"USER.PWD.FORM.PASSWORD.LABEL")),b.xb(2),b.Bb("is-invalid",n.invalid&&!n.untouched),b.ec("placeholder",b.Zb(28,48,"USER.PWD.FORM.PASSWORD.PLACEHOLDER")),b.dc("ngModel",t.changeCredentials.password),b.xb(4),b.zc(" ",b.Zb(31,50,"USER.PWD.FORM.PASSWORD.ERROR")," "),b.xb(4),b.yc(b.Zb(35,52,"USER.PWD.FORM.NEWPASSWORD.LABEL")),b.xb(2),b.Bb("is-invalid",r.invalid&&!r.untouched),b.ec("placeholder",b.Zb(38,54,"USER.PWD.FORM.NEWPASSWORD.PLACEHOLDER")),b.dc("ngModel",t.changeCredentials.newPassword),b.xb(4),b.zc(" ",b.Zb(41,56,"USER.PWD.FORM.NEWPASSWORD.ERROR")," "),b.xb(4),b.yc(b.Zb(45,58,"USER.PWD.FORM.VERIFYPASSWORD.LABEL")),b.xb(2),b.Bb("is-invalid",o.value!=r.value),b.ec("placeholder",b.Zb(48,60,"USER.PWD.FORM.VERIFYPASSWORD.PLACEHOLDER")),b.dc("ngModel",t.changeCredentials.verifyPassword),b.xb(4),b.zc(" ",b.Zb(51,62,"USER.PWD.FORM.VERIFYPASSWORD.ERROR")," "),b.xb(2),b.dc("id","userPwdUpdateButton")("disabled",!e.valid),b.xb(1),b.zc("",b.Zb(54,64,"USER.PWD.FORM.UPDATE")," ")}},directives:[h.a,p.a,o.D,o.o,o.p,o.c,o.y,o.n,o.q,o.u,o.m,P.a],pipes:[f.d],styles:["#pwd[_ngcontent-%COMP%]{display:flex;justify-content:center}#userPwd-dialog[_ngcontent-%COMP%]{width:500px;max-width:500px}.imgcontainer[_ngcontent-%COMP%]{text-align:center;margin:24px 0 12px}img.avatar[_ngcontent-%COMP%]{width:40%;border-radius:50%}"]}),e})(),canActivate:[s]},{path:"login",component:S,canActivate:[s]}];n("FpXt");let B=(()=>{class e{}return e.\u0275mod=b.Hb({type:e}),e.\u0275inj=b.Gb({factory:function(t){return new(t||e)},providers:[s],imports:[[r.c,i.g.forChild(D),a.SharedModule.forChild(),o.k]]}),e})()}}]);