!function(){function e(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}function n(e,t){return(n=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,t)}function t(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,i=o(e);if(n){var a=o(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return r(this,t)}}function r(e,n){return!n||"object"!=typeof n&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function a(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,n,t){return n&&a(e.prototype,n),t&&a(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"9N29":function(n,r,o){"use strict";o.r(r),o.d(r,"UserModule",(function(){return H}));var a,b=o("ofXK"),s=o("3Pt+"),c=o("tyNb"),d=o("btWG"),u=o("th7h"),g=o("fXoL"),O=((a=function(){function e(n){i(this,e),this.currentUserService=n}return l(e,[{key:"canActivate",value:function(){return this.currentUserService.hasAnyPermisson([])}}]),e}()).\u0275fac=function(e){return new(e||a)(g.Sb(u.a))},a.\u0275prov=g.Fb({token:a,factory:a.\u0275fac}),a),f=o("X628"),R=o("AytR"),E=o("Rkqy"),m=o("VQQ0"),h=o("U19w"),N=o("RBHD"),p=o("SMp3"),P={moduleTranslationKey:"USER",pageTitleTranslationKey:"USER.LOGIN.TITLE"},L=o("NJqk"),S=o("w90F"),v=o("LJ8u"),M=o("/2r1"),x=o("sYmb");function U(e,n){if(1&e){var t=g.Pb();g.Ob(0,"div"),g.Ob(1,"bla-alert",29),g.Ob(2,"p"),g.xc(3,"Username: admin@bogenliga.de "),g.Kb(4,"br"),g.xc(5,"Password: admin"),g.Kb(6,"br"),g.xc(7,"Rolle: ADMIN"),g.Kb(8,"br"),g.Ob(9,"bla-button",30),g.Vb("onClick",(function(e){return g.nc(t),g.Xb().onAutoLogin(e)})),g.xc(10,"Login als Admin "),g.Nb(),g.Nb(),g.Ob(11,"p"),g.xc(12,"Username: moderator@bogenliga.de "),g.Kb(13,"br"),g.xc(14,"Password: moderator"),g.Kb(15,"br"),g.xc(16,"Rolle: MODERATOR"),g.Kb(17,"br"),g.Ob(18,"bla-button",31),g.Vb("onClick",(function(e){return g.nc(t),g.Xb().onAutoLogin(e)})),g.xc(19,"Login als Moderator "),g.Nb(),g.Nb(),g.Ob(20,"p"),g.xc(21,"Username: user@bogenliga.de "),g.Kb(22,"br"),g.xc(23,"Password: user "),g.Kb(24,"br"),g.xc(25,"Rolle: USER"),g.Kb(26,"br"),g.Ob(27,"bla-button",31),g.Vb("onClick",(function(e){return g.nc(t),g.Xb().onAutoLogin(e)})),g.xc(28,"Login als User "),g.Nb(),g.Nb(),g.Ob(29,"p"),g.xc(30,"Username: Malorie.Artman@bogenliga.de "),g.Kb(31,"br"),g.xc(32,"Password: swt2 "),g.Kb(33,"br"),g.xc(34,"Rolle: USER"),g.Kb(35,"br"),g.Ob(36,"bla-button",31),g.Vb("onClick",(function(e){return g.nc(t),g.Xb().onAutoLogin(e)})),g.xc(37,"Login als Test-Benutzer "),g.Nb(),g.Nb(),g.Ob(38,"p"),g.xc(39,"Username: Nicholas.Corle@bogenliga.de "),g.Kb(40,"br"),g.xc(41,"Password: swt2 "),g.Kb(42,"br"),g.xc(43,"Rolle: MODERATOR"),g.Kb(44,"br"),g.Ob(45,"bla-button",31),g.Vb("onClick",(function(e){return g.nc(t),g.Xb().onAutoLogin(e)})),g.xc(46,"Login als Test-Moderator "),g.Nb(),g.Nb(),g.Ob(47,"p"),g.xc(48,"Username: TeamLigaleiter@bogenliga.de "),g.Kb(49,"br"),g.xc(50,"Password: swt2 "),g.Kb(51,"br"),g.xc(52,"Rolle: LIGALEITER"),g.Kb(53,"br"),g.Ob(54,"bla-button",31),g.Vb("onClick",(function(e){return g.nc(t),g.Xb().onAutoLogin(e)})),g.xc(55,"Login f\xfcr Team Ligaleiter "),g.Nb(),g.Nb(),g.Ob(56,"p"),g.xc(57,"Username: TeamSportleiter@bogenliga.de "),g.Kb(58,"br"),g.xc(59,"Password: swt2 "),g.Kb(60,"br"),g.xc(61,"Rolle: SPORTLEITER"),g.Kb(62,"br"),g.Ob(63,"bla-button",31),g.Vb("onClick",(function(e){return g.nc(t),g.Xb().onAutoLogin(e)})),g.xc(64,"Login f\xfcr Team Sportleiter "),g.Nb(),g.Nb(),g.Ob(65,"p"),g.xc(66,"Username: TeamModerator@bogenliga.de "),g.Kb(67,"br"),g.xc(68,"Password: swt2 "),g.Kb(69,"br"),g.xc(70,"Rolle: MODERATOR"),g.Kb(71,"br"),g.Ob(72,"bla-button",31),g.Vb("onClick",(function(e){return g.nc(t),g.Xb().onAutoLogin(e)})),g.xc(73,"Login f\xfcr Team Moderator "),g.Nb(),g.Nb(),g.Nb(),g.Nb()}if(2&e){var r=g.Xb();g.xb(1),g.dc("alertType",r.AlertType.INFO),g.xb(8),g.dc("buttonSize",r.ButtonSize.SMALL)("value",r.testAdminUser),g.xb(9),g.dc("buttonSize",r.ButtonSize.SMALL)("value",r.testModeratorUser),g.xb(9),g.dc("buttonSize",r.ButtonSize.SMALL)("value",r.testUserUser),g.xb(9),g.dc("buttonSize",r.ButtonSize.SMALL)("value",r.testDummyUserUser),g.xb(9),g.dc("buttonSize",r.ButtonSize.SMALL)("value",r.testDummyModeratorUser),g.xb(9),g.dc("buttonSize",r.ButtonSize.SMALL)("value",r.testTeamLigaleiter),g.xb(9),g.dc("buttonSize",r.ButtonSize.SMALL)("value",r.testTeamSportleiter),g.xb(9),g.dc("buttonSize",r.ButtonSize.SMALL)("value",r.testTeamModerator)}}var A,C,w,I,y=((A=function(){function e(n,t,r,o){i(this,e),this.loginDataProviderService=n,this.currentUserService=t,this.route=r,this.router=o,this.credentials=new N.a,this.loading=!1,this.loginResult=p.a.PENDING,this.ButtonSize=m.b,this.AlertType=E.b,this.LoginResult=p.a,this.inProd=R.a.production,this.isSpotterAuthenticationEnabled=!1,this.testAdminUser=new N.a("admin@bogenliga.de","admin"),this.testModeratorUser=new N.a("moderator@bogenliga.de","moderator"),this.testUserUser=new N.a("user@bogenliga.de","user"),this.testDummyModeratorUser=new N.a("Nicholas.Corle@bogenliga.de","swt2"),this.testDummyUserUser=new N.a("Malorie.Artman@bogenliga.de","swt2"),this.testTeamLigaleiter=new N.a("TeamLigaleiter@bogenliga.de","swt2"),this.testTeamSportleiter=new N.a("TeamSportleiter@bogenliga.de","swt2"),this.testTeamModerator=new N.a("TeamModerator@bogenliga.de","swt2"),this.config=P,this.destinationRouteAfterLogin="/home"}return l(e,[{key:"ngOnInit",value:function(){var e=this;this.route.queryParams.subscribe((function(n){Object(f.c)(n.destination)||(e.destinationRouteAfterLogin=n.destination)})),this.initRememberedUsername()}},{key:"onLogin",value:function(e){var n=this;this.loading=!0,this.currentUserService.disableDefaultUser(),this.loginDataProviderService.signIn(this.credentials).then((function(){return n.handleSuccessfulLogin()}),(function(e){return n.showFailedLogin(e)}))}},{key:"onSpotterLogin",value:function(e){this.destinationRouteAfterLogin="/spotter/authentication",this.credentials=e,this.onLogin(null)}},{key:"onAutoLogin",value:function(e){this.credentials=e,this.onLogin(null)}},{key:"initRememberedUsername",value:function(){this.credentials.username=this.loginDataProviderService.getEmailAddress(),Object(f.a)(this.credentials.username)||(this.credentials.rememberMe=!0)}},{key:"showFailedLogin",value:function(e){this.loading=!1,this.loginResult=e}},{key:"handleSuccessfulLogin",value:function(){this.loading=!1,this.loginResult=p.a.SUCCESS,this.router.navigateByUrl(this.destinationRouteAfterLogin)}}]),e}()).\u0275fac=function(e){return new(e||A)(g.Jb(h.a),g.Jb(L.a),g.Jb(c.a),g.Jb(c.c))},A.\u0275cmp=g.Db({type:A,selectors:[["bla-login"]],decls:68,vars:82,consts:[[3,"config"],["id","login"],["id","login-dialog"],[3,"visible","header","alertType"],[1,"card","mb-4","shadow-sm"],[1,"card-body","login-dialog"],["id","loginForm"],["loginForm","ngForm"],[1,"imgcontainer"],["src","assets/img/logo.png","alt","Logo",1,"avatar"],[1,"h3","mb-3","font-weight-normal"],[1,"container"],[1,"form-group"],["for","loginEmail"],["type","email","name","loginEmail","id","loginEmail","required","","pattern","^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,63}$",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["loginEmail","ngModel"],[1,"invalid-feedback"],["for","loginPassword"],["type","password","id","loginPassword","name","loginPassword","required","","minlength","3",1,"form-control",3,"ngModel","placeholder","ngModelChange","keyup.enter"],["loginPassword","ngModel"],["for","loginCode"],["type","text","id","loginCode","name","loginCode","minlength","3",1,"form-control",3,"ngModel","placeholder","ngModelChange","keyup.enter"],["loginCode","ngModel"],[1,"form-group","form-check"],["type","checkbox","id","loginRememberMe","name","loginRememberMe",1,"form-check-input",3,"ngModel","ngModelChange"],["for","loginRememberMe",1,"form-check-label"],[3,"id","buttonSize","disabled","loading","onClick"],[3,"buttonSize","disabled","visible","onClick"],[4,"ngIf"],["header","Testbenutzer:",3,"alertType"],["data-cy","login-als-admin-button",3,"buttonSize","value","onClick"],[3,"buttonSize","value","onClick"]],template:function(e,n){if(1&e&&(g.Ob(0,"bla-common-dialog",0),g.Ob(1,"div",1),g.Ob(2,"div",2),g.Ob(3,"bla-alert",3),g.Yb(4,"translate"),g.xc(5),g.Yb(6,"translate"),g.Nb(),g.Ob(7,"bla-alert",3),g.Yb(8,"translate"),g.xc(9),g.Yb(10,"translate"),g.Nb(),g.Ob(11,"bla-alert",3),g.Yb(12,"translate"),g.xc(13),g.Yb(14,"translate"),g.Nb(),g.Ob(15,"div",4),g.Ob(16,"div",5),g.Ob(17,"form",6,7),g.Ob(19,"div",8),g.Kb(20,"img",9),g.Ob(21,"h5",10),g.xc(22),g.Yb(23,"translate"),g.Nb(),g.Nb(),g.Ob(24,"div",11),g.Ob(25,"div",12),g.Ob(26,"label",13),g.xc(27),g.Yb(28,"translate"),g.Nb(),g.Ob(29,"input",14,15),g.Vb("ngModelChange",(function(e){return n.credentials.username=e})),g.Yb(31,"translate"),g.Nb(),g.Ob(32,"div",16),g.xc(33),g.Yb(34,"translate"),g.Nb(),g.Nb(),g.Ob(35,"div",12),g.Ob(36,"label",17),g.xc(37),g.Yb(38,"translate"),g.Nb(),g.Ob(39,"input",18,19),g.Vb("ngModelChange",(function(e){return n.credentials.password=e}))("keyup.enter",(function(e){return n.onLogin(e)})),g.Yb(41,"translate"),g.Nb(),g.Ob(42,"div",16),g.xc(43),g.Yb(44,"translate"),g.Nb(),g.Nb(),g.Ob(45,"div",12),g.Ob(46,"label",20),g.xc(47),g.Yb(48,"translate"),g.Nb(),g.Ob(49,"input",21,22),g.Vb("ngModelChange",(function(e){return n.credentials.code=e}))("keyup.enter",(function(e){return n.onLogin(e)})),g.Yb(51,"translate"),g.Nb(),g.Ob(52,"div",16),g.xc(53),g.Yb(54,"translate"),g.Nb(),g.Nb(),g.Ob(55,"div",23),g.Ob(56,"input",24),g.Vb("ngModelChange",(function(e){return n.credentials.rememberMe=e})),g.Nb(),g.Ob(57,"label",25),g.xc(58),g.Yb(59,"translate"),g.Nb(),g.Nb(),g.Ob(60,"bla-button",26),g.Vb("onClick",(function(e){return n.onLogin(e)})),g.xc(61),g.Yb(62,"translate"),g.Nb(),g.Kb(63,"br"),g.Ob(64,"bla-button",27),g.Vb("onClick",(function(){return n.onSpotterLogin(n.testModeratorUser)})),g.xc(65),g.Yb(66,"translate"),g.Nb(),g.Nb(),g.Nb(),g.Nb(),g.Nb(),g.vc(67,U,74,17,"div",28),g.Nb(),g.Nb(),g.Nb()),2&e){var t=g.mc(18),r=g.mc(30),o=g.mc(40),i=g.mc(50);g.dc("config",n.config),g.xb(3),g.ec("header",g.Zb(4,44,"USER.LOGIN.NOTIFICATION.LOGIN_SUCCESSFUL.HEADER")),g.dc("visible",n.loginResult===n.LoginResult.SUCCESS)("alertType",n.AlertType.SUCCESS),g.xb(2),g.zc(" ",g.Zb(6,46,"USER.LOGIN.NOTIFICATION.LOGIN_SUCCESSFUL.TEXT")," "),g.xb(2),g.ec("header",g.Zb(8,48,"USER.LOGIN.NOTIFICATION.LOGIN_FAILURE.HEADER")),g.dc("visible",n.loginResult===n.LoginResult.FAILURE)("alertType",n.AlertType.DANGER),g.xb(2),g.zc(" ",g.Zb(10,50,"USER.LOGIN.NOTIFICATION.LOGIN_FAILURE.TEXT")," "),g.xb(2),g.ec("header",g.Zb(12,52,"USER.LOGIN.NOTIFICATION.LOGIN_CONNECTION_PROBLEM.HEADER")),g.dc("visible",n.loginResult===n.LoginResult.CONNECTION_PROBLEM)("alertType",n.AlertType.WARNING),g.xb(2),g.zc(" ",g.Zb(14,54,"USER.LOGIN.NOTIFICATION.LOGIN_CONNECTION_PROBLEM.TEXT")," "),g.xb(9),g.yc(g.Zb(23,56,"USER.LOGIN.HEADER")),g.xb(5),g.yc(g.Zb(28,58,"USER.LOGIN.USERNAME.LABEL")),g.xb(2),g.Bb("is-invalid",r.invalid&&!r.untouched||n.loginResult===n.LoginResult.FAILURE),g.ec("placeholder",g.Zb(31,60,"USER.LOGIN.USERNAME.LABEL")),g.dc("ngModel",n.credentials.username),g.xb(4),g.zc(" ",g.Zb(34,62,"USER.LOGIN.USERNAME.ERROR")," "),g.xb(4),g.yc(g.Zb(38,64,"USER.LOGIN.PASSWORD.LABEL")),g.xb(2),g.Bb("is-invalid",o.invalid&&!o.untouched||n.loginResult===n.LoginResult.FAILURE),g.ec("placeholder",g.Zb(41,66,"USER.LOGIN.PASSWORD.PLACEHOLDER")),g.dc("ngModel",n.credentials.password),g.xb(4),g.zc(" ",g.Zb(44,68,"USER.LOGIN.PASSWORD.ERROR")," "),g.xb(4),g.yc(g.Zb(48,70,"USER.LOGIN.CODE.LABEL")),g.xb(2),g.Bb("is-invalid",i.invalid&&!i.untouched||n.loginResult===n.LoginResult.FAILURE),g.ec("placeholder",g.Zb(51,72,"USER.LOGIN.CODE.PLACEHOLDER")),g.dc("ngModel",n.credentials.code),g.xb(4),g.zc(" ",g.Zb(54,74,"USER.LOGIN.CODE.ERROR")," "),g.xb(3),g.dc("ngModel",n.credentials.rememberMe),g.xb(2),g.yc(g.Zb(59,76,"USER.LOGIN.REMEMBER_ME.LABEL")),g.xb(2),g.dc("id","loginButton")("buttonSize",n.ButtonSize.LARGE_BLOCK)("disabled",!t.valid)("loading",n.loading),g.xb(1),g.zc("",g.Zb(62,78,"USER.LOGIN.BUTTON.LOGIN")," "),g.xb(3),g.dc("buttonSize",n.ButtonSize.SMALL)("disabled",!n.isSpotterAuthenticationEnabled)("visible",n.isSpotterAuthenticationEnabled),g.xb(1),g.zc(" ",g.Zb(66,80,"SPOTTER.LINK.TEXT")," "),g.xb(2),g.dc("ngIf",!(!0===n.inProd))}},directives:[S.a,v.a,s.D,s.o,s.p,s.c,s.y,s.u,s.n,s.q,s.m,s.a,M.a,b.t],pipes:[x.d],styles:["#login[_ngcontent-%COMP%]{display:flex;justify-content:center}#login-dialog[_ngcontent-%COMP%]{width:500px;max-width:500px}.imgcontainer[_ngcontent-%COMP%]{text-align:center;margin:24px 0 12px}img.avatar[_ngcontent-%COMP%]{width:40%;border-radius:50%}"]}),A),T=o("PEb7"),F=o("gQPg"),D=o("/k8H"),B=o("XUa0"),Y={moduleTranslationKey:"USER",pageTitleTranslationKey:"USER.PROFILE.TITLE"},Z=((C=function(n){e(o,n);var r=t(o);function o(e,n,t,a){var l;return i(this,o),(l=r.call(this)).userProfileDataProvider=e,l.router=n,l.route=t,l.notificationService=a,l.config=Y,l.ButtonType=T.ButtonType,l.currentUserProfile=new B.a,l}return l(o,[{key:"ngOnInit",value:function(){this.loading=!0,this.notificationService.discardNotification(),this.loadCurrentUserProfile()}},{key:"loadCurrentUserProfile",value:function(){var e=this;this.userProfileDataProvider.findCurrentUserProfile().then((function(n){return e.handleSuccess(n)})).catch((function(n){return e.handleFailure(n)}))}},{key:"handleSuccess",value:function(e){this.currentUserProfile=e.payload,this.loading=!1}},{key:"handleFailure",value:function(e){this.loading=!1}}]),o}(T.CommonComponentDirective)).\u0275fac=function(e){return new(e||C)(g.Jb(D.a),g.Jb(c.c),g.Jb(c.a),g.Jb(F.c))},C.\u0275cmp=g.Db({type:C,selectors:[["bla-user-profile"]],features:[g.wb([]),g.ub],decls:101,vars:86,consts:[[3,"config","loading"],["id","userProfileForm",1,"horizontal-form","half-page"],["userProfileForm","ngForm"],[1,"form-group","row"],["for","userProfileVorname",1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["type","text","readonly","","id","userProfileVorname","name","userProfileVorname",1,"form-control-plaintext",3,"ngModel","placeholder","ngModelChange"],["userProfileVorname","ngModel"],[1,"invalid-feedback"],["for","userProfileNachname",1,"col-sm-3","col-form-label"],["type","text","readonly","","id","userProfileNachname","name","userProfileNachname",1,"form-control-plaintext",3,"ngModel","placeholder","ngModelChange"],["userProfileNachname","ngModel"],["for","userProfileEmail",1,"col-sm-3","col-form-label"],["type","text","readonly","","id","userProfileEmail","name","userProfileEmail",1,"form-control-plaintext",3,"ngModel","placeholder","ngModelChange"],["userProfileEmail","ngModel"],["for","userProfileGeburtsdatum",1,"col-sm-3","col-form-label"],["type","text","readonly","","pattern","[0-9]{4}-[0-9]{2}-[0-9]{2}","id","userProfileGeburtsdatum","name","userProfileGeburtsdatum",1,"form-control-plaintext",3,"ngModel","placeholder","ngModelChange"],["userProfileGeburtsdatum","ngModel"],["for","userProfileMitgliedsnummer",1,"col-sm-3","col-form-label"],["type","text","readonly","","id","userProfileMitgliedsnummer","name","userProfileMitgliedsnummer",1,"form-control-plaintext",3,"ngModel","placeholder","ngModelChange"],["userProfileMitgliedsnummer","ngModel"],["for","userProfileNationalitaet",1,"col-sm-3","col-form-label"],["type","text","readonly","","pattern","[D|AT|CH|FR|IT|GB]","id","userProfileNationalitaet","name","userProfileNationalitaet",1,"form-control-plaintext",3,"ngModel","placeholder","ngModelChange"],["userProfileNationalitaet","ngModel"],["for","userProfileVerein",1,"col-sm-3","col-form-label"],["type","text","readonly","","id","userProfileVerein","name","userProfileVerein",1,"form-control-plaintext",3,"ngModel","placeholder","ngModelChange"],["userProfileVerein","ngModel"]],template:function(e,n){if(1&e&&(g.Ob(0,"bla-common-dialog",0),g.Ob(1,"form",1,2),g.Ob(3,"div",3),g.Ob(4,"label",4),g.Ob(5,"span"),g.xc(6),g.Yb(7,"translate"),g.Nb(),g.Ob(8,"span"),g.xc(9," *"),g.Nb(),g.Nb(),g.Ob(10,"div",5),g.Ob(11,"input",6,7),g.Vb("ngModelChange",(function(e){return n.currentUserProfile.vorname=e})),g.Yb(13,"translate"),g.Nb(),g.Ob(14,"div",8),g.xc(15),g.Yb(16,"translate"),g.Nb(),g.Nb(),g.Nb(),g.Ob(17,"div",3),g.Ob(18,"label",9),g.Ob(19,"span"),g.xc(20),g.Yb(21,"translate"),g.Nb(),g.Ob(22,"span"),g.xc(23," *"),g.Nb(),g.Nb(),g.Ob(24,"div",5),g.Ob(25,"input",10,11),g.Vb("ngModelChange",(function(e){return n.currentUserProfile.nachname=e})),g.Yb(27,"translate"),g.Nb(),g.Ob(28,"div",8),g.xc(29),g.Yb(30,"translate"),g.Nb(),g.Nb(),g.Nb(),g.Ob(31,"div",3),g.Ob(32,"label",12),g.Ob(33,"span"),g.xc(34),g.Yb(35,"translate"),g.Nb(),g.Ob(36,"span"),g.xc(37," *"),g.Nb(),g.Nb(),g.Ob(38,"div",5),g.Ob(39,"input",13,14),g.Vb("ngModelChange",(function(e){return n.currentUserProfile.email=e})),g.Yb(41,"translate"),g.Nb(),g.Ob(42,"div",8),g.xc(43),g.Yb(44,"translate"),g.Nb(),g.Nb(),g.Nb(),g.Ob(45,"div",3),g.Ob(46,"label",15),g.Ob(47,"span"),g.xc(48),g.Yb(49,"translate"),g.Nb(),g.Ob(50,"span"),g.xc(51," *"),g.Nb(),g.Nb(),g.Ob(52,"div",5),g.Ob(53,"input",16,17),g.Vb("ngModelChange",(function(e){return n.currentUserProfile.geburtsdatum=e})),g.Yb(55,"translate"),g.Nb(),g.Ob(56,"div",8),g.xc(57),g.Yb(58,"translate"),g.Nb(),g.Nb(),g.Nb(),g.Ob(59,"div",3),g.Ob(60,"label",18),g.Ob(61,"span"),g.xc(62),g.Yb(63,"translate"),g.Nb(),g.Ob(64,"span"),g.xc(65," *"),g.Nb(),g.Nb(),g.Ob(66,"div",5),g.Ob(67,"input",19,20),g.Vb("ngModelChange",(function(e){return n.currentUserProfile.mitgliedsnummer=e})),g.Yb(69,"translate"),g.Nb(),g.Ob(70,"div",8),g.xc(71),g.Yb(72,"translate"),g.Nb(),g.Nb(),g.Nb(),g.Ob(73,"div",3),g.Ob(74,"label",21),g.Ob(75,"span"),g.xc(76),g.Yb(77,"translate"),g.Nb(),g.Ob(78,"span"),g.xc(79," *"),g.Nb(),g.Nb(),g.Ob(80,"div",5),g.Ob(81,"input",22,23),g.Vb("ngModelChange",(function(e){return n.currentUserProfile.nationalitaet=e})),g.Yb(83,"translate"),g.Nb(),g.Ob(84,"div",8),g.xc(85),g.Yb(86,"translate"),g.Nb(),g.Nb(),g.Nb(),g.Ob(87,"div",3),g.Ob(88,"label",24),g.Ob(89,"span"),g.xc(90),g.Yb(91,"translate"),g.Nb(),g.Ob(92,"span"),g.xc(93," *"),g.Nb(),g.Nb(),g.Ob(94,"div",5),g.Ob(95,"input",25,26),g.Vb("ngModelChange",(function(e){return n.currentUserProfile.vereinsId=e})),g.Yb(97,"translate"),g.Nb(),g.Ob(98,"div",8),g.xc(99),g.Yb(100,"translate"),g.Nb(),g.Nb(),g.Nb(),g.Nb(),g.Nb()),2&e){var t=g.mc(12),r=g.mc(26),o=g.mc(40),i=g.mc(54),a=g.mc(68),l=g.mc(82),b=g.mc(96);g.dc("config",n.config)("loading",n.loading),g.xb(6),g.yc(g.Zb(7,44,"USER.PROFILE.FORM.VORNAME.LABEL")),g.xb(5),g.Bb("is-invalid",t.invalid&&!t.untouched),g.ec("placeholder",g.Zb(13,46,"USER.PROFILE.FORM.VORNAME.PLACEHOLDER")),g.dc("ngModel",n.currentUserProfile.vorname),g.xb(4),g.zc(" ",g.Zb(16,48,"USER.PROFILE.FORM.VORNAME.ERROR")," "),g.xb(5),g.yc(g.Zb(21,50,"USER.PROFILE.FORM.NACHNAME.LABEL")),g.xb(5),g.Bb("is-invalid",r.invalid&&!r.untouched),g.ec("placeholder",g.Zb(27,52,"USER.PROFILE.FORM.NACHNAME.PLACEHOLDER")),g.dc("ngModel",n.currentUserProfile.nachname),g.xb(4),g.zc(" ",g.Zb(30,54,"USER.PROFILE.FORM.NACHNAME.ERROR")," "),g.xb(5),g.yc(g.Zb(35,56,"USER.PROFILE.FORM.EMAIL.LABEL")),g.xb(5),g.Bb("is-invalid",o.invalid&&!o.untouched),g.ec("placeholder",g.Zb(41,58,"USER.PROFILE.FORM.EMAIL.PLACEHOLDER")),g.dc("ngModel",n.currentUserProfile.email),g.xb(4),g.zc(" ",g.Zb(44,60,"USER.PROFILE.FORM.EMAIL.ERROR")," "),g.xb(5),g.yc(g.Zb(49,62,"USER.PROFILE.FORM.GEBURTSDATUM.LABEL")),g.xb(5),g.Bb("is-invalid",i.invalid&&!i.untouched),g.ec("placeholder",g.Zb(55,64,"USER.PROFILE.FORM.GEBURTSDATUM.PLACEHOLDER")),g.dc("ngModel",n.currentUserProfile.geburtsdatum),g.xb(4),g.zc(" ",g.Zb(58,66,"USER.PROFILE.FORM.GEBURTSDATUM.ERROR")," "),g.xb(5),g.yc(g.Zb(63,68,"USER.PROFILE.FORM.MITGLIEDSNUMMER.LABEL")),g.xb(5),g.Bb("is-invalid",a.invalid&&!a.untouched),g.ec("placeholder",g.Zb(69,70,"USER.PROFILE.FORM.MITGLIEDSNUMMER.PLACEHOLDER")),g.dc("ngModel",n.currentUserProfile.mitgliedsnummer),g.xb(4),g.zc(" ",g.Zb(72,72,"USER.PROFILE.FORM.MITGLIEDSNUMMER.ERROR")," "),g.xb(5),g.yc(g.Zb(77,74,"USER.PROFILE.FORM.NATIONALITAET.LABEL")),g.xb(5),g.Bb("is-invalid",l.invalid&&!l.untouched),g.ec("placeholder",g.Zb(83,76,"USER.PROFILE.FORM.NATIONALITAET.PLACEHOLDER")),g.dc("ngModel",n.currentUserProfile.nationalitaet),g.xb(4),g.zc(" ",g.Zb(86,78,"USER.PROFILE.FORM.NATIONALITAET.ERROR")," "),g.xb(5),g.yc(g.Zb(91,80,"USER.PROFILE.FORM.VEREIN.LABEL")),g.xb(5),g.Bb("is-invalid",b.invalid&&!b.untouched),g.ec("placeholder",g.Zb(97,82,"USER.PROFILE.FORM.VEREIN.PLACEHOLDER")),g.dc("ngModel",n.currentUserProfile.vereinsId),g.xb(4),g.zc(" ",g.Zb(100,84,"USER.PROFILE.FORM.VEREIN.ERROR")," ")}},directives:[S.a,s.D,s.o,s.p,s.c,s.n,s.q,s.u],pipes:[x.d],styles:[".half-page[_ngcontent-%COMP%]{width:50%}.button-box[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-direction:row-reverse;flex-wrap:wrap}@media (max-width:1400px){.half-page[_ngcontent-%COMP%]{width:80%}}@media (max-width:950px){.half-page[_ngcontent-%COMP%]{width:100%}}"]}),C),z=o("YfBl"),k=function e(n,t){i(this,e),this.password=n,this.newPassword=t},G=((w=function(n){e(o,n);var r=t(o);function o(e){var n;return i(this,o),(n=r.call(this)).restClient=e,n.serviceSubUrl="v1/user",n}return l(o,[{key:"update",value:function(e){var n=this;return new Promise((function(t,r){var o=new k(e.password,e.newPassword);n.sendUpdateRequest(o,t,r)}))}},{key:"sendUpdateRequest",value:function(e,n,t){this.restClient.PUT((new z.UriBuilder).fromPath(this.getUrl()).build(),e).then((function(e){n(z.RequestResult.SUCCESS)}),(function(e){t(0===e.status?{result:z.RequestResult.CONNECTION_PROBLEM}:{result:z.RequestResult.FAILURE})}))}}]),o}(z.DataProviderService)).\u0275fac=function(e){return new(e||w)(g.Sb(z.RestClient))},w.\u0275prov=g.Fb({token:w,factory:w.\u0275fac,providedIn:"root"}),w),V=function e(n,t){i(this,e),this.password=n||"",this.newPassword=t||"",this.verifyPassword=t||""},_={moduleTranslationKey:"USER",pageTitleTranslationKey:"USER.PWD.TITLE"},W=[{path:"profile",pathMatch:"full",component:Z,canActivate:[O]},{path:"pwd",pathMatch:"full",component:(I=function(){function e(n){i(this,e),this.userPwdDataProvider=n,this.config=_,this.changeCredentials=new V,this.loginResult=p.a.PENDING,this.LoginResult=p.a,this.AlertType=E.b}return l(e,[{key:"ngOnInit",value:function(){}},{key:"onUpdate",value:function(e){var n=this;this.userPwdDataProvider.update(this.changeCredentials).then((function(){return n.handleSuccessUpdate()}),(function(e){return n.showFailedUpdate(e)}))}},{key:"showFailedUpdate",value:function(e){this.loginResult=e}},{key:"handleSuccessUpdate",value:function(){this.loginResult=p.a.SUCCESS}}]),e}(),I.\u0275fac=function(e){return new(e||I)(g.Jb(G))},I.\u0275cmp=g.Db({type:I,selectors:[["bla-user-pwd"]],decls:55,vars:66,consts:[[3,"config"],["id","pwd"],["id","userPwd-dialog"],[3,"visible","header","alertType"],[1,"card","mb-4","shadow-sm"],[1,"card-body","userPwd-dialog"],["id","userPwdForm"],["userPwdForm","ngForm"],[1,"imgcontainer"],["src","../assets/img/logo.png","alt","Logo",1,"avatar"],[1,"container"],[1,"form-group"],["for","userPwdFormPassword"],["type","password","id","userPwdFormPassword","name","userPwdFormPassword","required","",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["userPwdFormPassword","ngModel"],[1,"invalid-feedback"],["for","userPwdFormNewPwd"],["type","password","required","","pattern","^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[A-Za-z\\d#$^+=!*()@%&?]{8,}$","id","userPwdFormNewPwd","name","userPwdFormNewPwd",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["userPwdFormNewPwd","ngModel"],["for","userPwdFormVerifyPwd"],["type","password","id","userPwdFormVerifyPwd","name","userPwdFormVerifyPwd","required","","minlength","8",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["userPwdFormVerifyPwd","ngModel"],[3,"id","disabled","onClick"]],template:function(e,n){if(1&e&&(g.Ob(0,"bla-common-dialog",0),g.Ob(1,"div",1),g.Ob(2,"div",2),g.Ob(3,"bla-alert",3),g.Yb(4,"translate"),g.xc(5),g.Yb(6,"translate"),g.Nb(),g.Ob(7,"bla-alert",3),g.Yb(8,"translate"),g.xc(9),g.Yb(10,"translate"),g.Nb(),g.Ob(11,"bla-alert",3),g.Yb(12,"translate"),g.xc(13),g.Yb(14,"translate"),g.Nb(),g.Ob(15,"div",4),g.Ob(16,"div",5),g.Ob(17,"form",6,7),g.Ob(19,"div",8),g.Kb(20,"img",9),g.Nb(),g.Ob(21,"div",10),g.Ob(22,"div",11),g.Ob(23,"label",12),g.xc(24),g.Yb(25,"translate"),g.Nb(),g.Ob(26,"input",13,14),g.Vb("ngModelChange",(function(e){return n.changeCredentials.password=e})),g.Yb(28,"translate"),g.Nb(),g.Ob(29,"div",15),g.xc(30),g.Yb(31,"translate"),g.Nb(),g.Nb(),g.Ob(32,"div",11),g.Ob(33,"label",16),g.xc(34),g.Yb(35,"translate"),g.Nb(),g.Ob(36,"input",17,18),g.Vb("ngModelChange",(function(e){return n.changeCredentials.newPassword=e})),g.Yb(38,"translate"),g.Nb(),g.Ob(39,"div",15),g.xc(40),g.Yb(41,"translate"),g.Nb(),g.Nb(),g.Ob(42,"div",11),g.Ob(43,"label",19),g.xc(44),g.Yb(45,"translate"),g.Nb(),g.Ob(46,"input",20,21),g.Vb("ngModelChange",(function(e){return n.changeCredentials.verifyPassword=e})),g.Yb(48,"translate"),g.Nb(),g.Ob(49,"div",15),g.xc(50),g.Yb(51,"translate"),g.Nb(),g.Nb(),g.Ob(52,"bla-button",22),g.Vb("onClick",(function(e){return n.onUpdate(e)})),g.xc(53),g.Yb(54,"translate"),g.Nb(),g.Nb(),g.Nb(),g.Nb(),g.Nb(),g.Nb(),g.Nb(),g.Nb()),2&e){var t=g.mc(18),r=g.mc(27),o=g.mc(37),i=g.mc(47);g.dc("config",n.config),g.xb(3),g.ec("header",g.Zb(4,34,"USER.PWD.NOTIFICATION.PWD_SUCCESSFUL.HEADER")),g.dc("visible",n.loginResult===n.LoginResult.SUCCESS)("alertType",n.AlertType.SUCCESS),g.xb(2),g.zc(" ",g.Zb(6,36,"USER.PWD.NOTIFICATION.PWD_SUCCESSFUL.TEXT")," "),g.xb(2),g.ec("header",g.Zb(8,38,"USER.PWD.NOTIFICATION.PWD_FAILURE.HEADER")),g.dc("visible",n.loginResult===n.LoginResult.FAILURE)("alertType",n.AlertType.DANGER),g.xb(2),g.zc(" ",g.Zb(10,40,"USER.PWD.NOTIFICATION.PWD_FAILURE.TEXT")," "),g.xb(2),g.ec("header",g.Zb(12,42,"USER.PWD.NOTIFICATION.PWD_CONNECTION_PROBLEM.HEADER")),g.dc("visible",n.loginResult===n.LoginResult.CONNECTION_PROBLEM)("alertType",n.AlertType.WARNING),g.xb(2),g.zc(" ",g.Zb(14,44,"USER.PWD.NOTIFICATION.PWD_CONNECTION_PROBLEM.TEXT")," "),g.xb(11),g.yc(g.Zb(25,46,"USER.PWD.FORM.PASSWORD.LABEL")),g.xb(2),g.Bb("is-invalid",r.invalid&&!r.untouched),g.ec("placeholder",g.Zb(28,48,"USER.PWD.FORM.PASSWORD.PLACEHOLDER")),g.dc("ngModel",n.changeCredentials.password),g.xb(4),g.zc(" ",g.Zb(31,50,"USER.PWD.FORM.PASSWORD.ERROR")," "),g.xb(4),g.yc(g.Zb(35,52,"USER.PWD.FORM.NEWPASSWORD.LABEL")),g.xb(2),g.Bb("is-invalid",o.invalid&&!o.untouched),g.ec("placeholder",g.Zb(38,54,"USER.PWD.FORM.NEWPASSWORD.PLACEHOLDER")),g.dc("ngModel",n.changeCredentials.newPassword),g.xb(4),g.zc(" ",g.Zb(41,56,"USER.PWD.FORM.NEWPASSWORD.ERROR")," "),g.xb(4),g.yc(g.Zb(45,58,"USER.PWD.FORM.VERIFYPASSWORD.LABEL")),g.xb(2),g.Bb("is-invalid",i.value!=o.value),g.ec("placeholder",g.Zb(48,60,"USER.PWD.FORM.VERIFYPASSWORD.PLACEHOLDER")),g.dc("ngModel",n.changeCredentials.verifyPassword),g.xb(4),g.zc(" ",g.Zb(51,62,"USER.PWD.FORM.VERIFYPASSWORD.ERROR")," "),g.xb(2),g.dc("id","userPwdUpdateButton")("disabled",!t.valid),g.xb(1),g.zc("",g.Zb(54,64,"USER.PWD.FORM.UPDATE")," ")}},directives:[S.a,v.a,s.D,s.o,s.p,s.c,s.y,s.n,s.q,s.u,s.m,M.a],pipes:[x.d],styles:["#pwd[_ngcontent-%COMP%]{display:flex;justify-content:center}#userPwd-dialog[_ngcontent-%COMP%]{width:500px;max-width:500px}.imgcontainer[_ngcontent-%COMP%]{text-align:center;margin:24px 0 12px}img.avatar[_ngcontent-%COMP%]{width:40%;border-radius:50%}"]}),I),canActivate:[O]},{path:"login",component:y,canActivate:[O]}];o("FpXt");var K,H=((K=function e(){i(this,e)}).\u0275mod=g.Hb({type:K}),K.\u0275inj=g.Gb({factory:function(e){return new(e||K)},providers:[O],imports:[[b.c,c.g.forChild(W),d.SharedModule.forChild(),s.k]]}),K)}}])}();