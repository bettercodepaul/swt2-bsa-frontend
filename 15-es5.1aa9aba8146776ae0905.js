!function(){function e(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}function n(e,t){return(n=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,t)}function t(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,i=o(e);if(n){var a=o(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return r(this,t)}}function r(e,n){return!n||"object"!=typeof n&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function a(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,n,t){return n&&a(e.prototype,n),t&&a(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"9N29":function(n,r,o){"use strict";o.r(r),o.d(r,"UserModule",(function(){return Z}));var a,c=o("ofXK"),b=o("3Pt+"),s=o("tyNb"),d=o("btWG"),u=o("th7h"),g=o("fXoL"),f=((a=function(){function e(n){i(this,e),this.currentUserService=n}return l(e,[{key:"canActivate",value:function(){return this.currentUserService.hasAnyPermisson([])}}]),e}()).\u0275fac=function(e){return new(e||a)(g.Ub(u.a))},a.\u0275prov=g.Hb({token:a,factory:a.\u0275fac}),a),P=o("X628"),R=o("AytR"),E=o("Rkqy"),h=o("VQQ0"),p=o("U19w"),m=o("RBHD"),L=o("SMp3"),M={moduleTranslationKey:"USER",pageTitleTranslationKey:"USER.LOGIN.TITLE"},O=o("NJqk"),v=o("w90F"),S=o("LJ8u"),U=o("/2r1"),C=o("sYmb");function A(e,n){if(1&e){var t=g.Rb();g.Qb(0,"div"),g.Qb(1,"bla-alert",29),g.Qb(2,"p"),g.Bc(3,"Username: admin@bogenliga.de "),g.Mb(4,"br"),g.Bc(5,"Password: admin"),g.Mb(6,"br"),g.Bc(7,"Rolle: ADMIN"),g.Mb(8,"br"),g.Qb(9,"bla-button",30),g.Xb("onClick",(function(e){return g.pc(t),g.Zb().onAutoLogin(e)})),g.Bc(10,"Login als Admin "),g.Pb(),g.Pb(),g.Qb(11,"p"),g.Bc(12,"Username: moderator@bogenliga.de "),g.Mb(13,"br"),g.Bc(14,"Password: moderator"),g.Mb(15,"br"),g.Bc(16,"Rolle: MODERATOR"),g.Mb(17,"br"),g.Qb(18,"bla-button",31),g.Xb("onClick",(function(e){return g.pc(t),g.Zb().onAutoLogin(e)})),g.Bc(19,"Login als Moderator "),g.Pb(),g.Pb(),g.Qb(20,"p"),g.Bc(21,"Username: user@bogenliga.de "),g.Mb(22,"br"),g.Bc(23,"Password: user "),g.Mb(24,"br"),g.Bc(25,"Rolle: USER"),g.Mb(26,"br"),g.Qb(27,"bla-button",31),g.Xb("onClick",(function(e){return g.pc(t),g.Zb().onAutoLogin(e)})),g.Bc(28,"Login als User "),g.Pb(),g.Pb(),g.Qb(29,"p"),g.Bc(30,"Username: Malorie.Artman@bogenliga.de "),g.Mb(31,"br"),g.Bc(32,"Password: swt2 "),g.Mb(33,"br"),g.Bc(34,"Rolle: USER"),g.Mb(35,"br"),g.Qb(36,"bla-button",31),g.Xb("onClick",(function(e){return g.pc(t),g.Zb().onAutoLogin(e)})),g.Bc(37,"Login als Test-Benutzer "),g.Pb(),g.Pb(),g.Qb(38,"p"),g.Bc(39,"Username: Nicholas.Corle@bogenliga.de "),g.Mb(40,"br"),g.Bc(41,"Password: swt2 "),g.Mb(42,"br"),g.Bc(43,"Rolle: MODERATOR"),g.Mb(44,"br"),g.Qb(45,"bla-button",31),g.Xb("onClick",(function(e){return g.pc(t),g.Zb().onAutoLogin(e)})),g.Bc(46,"Login als Test-Moderator "),g.Pb(),g.Pb(),g.Qb(47,"p"),g.Bc(48,"Username: TeamLigaleiter@bogenliga.de "),g.Mb(49,"br"),g.Bc(50,"Password: swt2 "),g.Mb(51,"br"),g.Bc(52,"Rolle: LIGALEITER"),g.Mb(53,"br"),g.Qb(54,"bla-button",31),g.Xb("onClick",(function(e){return g.pc(t),g.Zb().onAutoLogin(e)})),g.Bc(55,"Login f\xfcr Team Ligaleiter "),g.Pb(),g.Pb(),g.Qb(56,"p"),g.Bc(57,"Username: TeamSportleiter@bogenliga.de "),g.Mb(58,"br"),g.Bc(59,"Password: swt2 "),g.Mb(60,"br"),g.Bc(61,"Rolle: SPORTLEITER"),g.Mb(62,"br"),g.Qb(63,"bla-button",31),g.Xb("onClick",(function(e){return g.pc(t),g.Zb().onAutoLogin(e)})),g.Bc(64,"Login f\xfcr Team Sportleiter "),g.Pb(),g.Pb(),g.Qb(65,"p"),g.Bc(66,"Username: TeamModerator@bogenliga.de "),g.Mb(67,"br"),g.Bc(68,"Password: swt2 "),g.Mb(69,"br"),g.Bc(70,"Rolle: MODERATOR"),g.Mb(71,"br"),g.Qb(72,"bla-button",31),g.Xb("onClick",(function(e){return g.pc(t),g.Zb().onAutoLogin(e)})),g.Bc(73,"Login f\xfcr Team Moderator "),g.Pb(),g.Pb(),g.Pb(),g.Pb()}if(2&e){var r=g.Zb();g.zb(1),g.fc("alertType",r.AlertType.INFO),g.zb(8),g.fc("buttonSize",r.ButtonSize.SMALL)("value",r.testAdminUser),g.zb(9),g.fc("buttonSize",r.ButtonSize.SMALL)("value",r.testModeratorUser),g.zb(9),g.fc("buttonSize",r.ButtonSize.SMALL)("value",r.testUserUser),g.zb(9),g.fc("buttonSize",r.ButtonSize.SMALL)("value",r.testDummyUserUser),g.zb(9),g.fc("buttonSize",r.ButtonSize.SMALL)("value",r.testDummyModeratorUser),g.zb(9),g.fc("buttonSize",r.ButtonSize.SMALL)("value",r.testTeamLigaleiter),g.zb(9),g.fc("buttonSize",r.ButtonSize.SMALL)("value",r.testTeamSportleiter),g.zb(9),g.fc("buttonSize",r.ButtonSize.SMALL)("value",r.testTeamModerator)}}var w,I,T,y,N=((w=function(){function e(n,t,r,o){i(this,e),this.loginDataProviderService=n,this.currentUserService=t,this.route=r,this.router=o,this.credentials=new m.a,this.loading=!1,this.loginResult=L.a.PENDING,this.ButtonSize=h.b,this.AlertType=E.b,this.LoginResult=L.a,this.inProd=R.a.production,this.isSpotterAuthenticationEnabled=!1,this.testAdminUser=new m.a("admin@bogenliga.de","admin"),this.testModeratorUser=new m.a("moderator@bogenliga.de","moderator"),this.testUserUser=new m.a("user@bogenliga.de","user"),this.testDummyModeratorUser=new m.a("Nicholas.Corle@bogenliga.de","swt2"),this.testDummyUserUser=new m.a("Malorie.Artman@bogenliga.de","swt2"),this.testTeamLigaleiter=new m.a("TeamLigaleiter@bogenliga.de","swt2"),this.testTeamSportleiter=new m.a("TeamSportleiter@bogenliga.de","swt2"),this.testTeamModerator=new m.a("TeamModerator@bogenliga.de","swt2"),this.config=M,this.destinationRouteAfterLogin="/home"}return l(e,[{key:"ngOnInit",value:function(){var e=this;this.route.queryParams.subscribe((function(n){Object(P.c)(n.destination)||(e.destinationRouteAfterLogin=n.destination)})),this.initRememberedUsername()}},{key:"onLogin",value:function(e){var n=this;this.loading=!0,this.currentUserService.disableDefaultUser(),this.loginDataProviderService.signIn(this.credentials).then((function(){return n.handleSuccessfulLogin()}),(function(e){return n.showFailedLogin(e)}))}},{key:"onSpotterLogin",value:function(e){this.destinationRouteAfterLogin="/spotter/authentication",this.credentials=e,this.onLogin(null)}},{key:"onAutoLogin",value:function(e){this.credentials=e,this.onLogin(null)}},{key:"initRememberedUsername",value:function(){this.credentials.username=this.loginDataProviderService.getEmailAddress(),Object(P.a)(this.credentials.username)||(this.credentials.rememberMe=!0)}},{key:"showFailedLogin",value:function(e){this.loading=!1,this.loginResult=e}},{key:"handleSuccessfulLogin",value:function(){this.loading=!1,this.loginResult=L.a.SUCCESS,this.router.navigateByUrl(this.destinationRouteAfterLogin)}}]),e}()).\u0275fac=function(e){return new(e||w)(g.Lb(p.a),g.Lb(O.a),g.Lb(s.a),g.Lb(s.c))},w.\u0275cmp=g.Fb({type:w,selectors:[["bla-login"]],decls:68,vars:82,consts:[[3,"config"],["id","login"],["id","login-dialog"],[3,"visible","header","alertType"],[1,"card","mb-4","shadow-sm"],[1,"card-body","login-dialog"],["id","loginForm"],["loginForm","ngForm"],[1,"imgcontainer"],["src","assets/img/logo.png","alt","Logo",1,"avatar"],[1,"h3","mb-3","font-weight-normal"],[1,"container"],[1,"form-group"],["for","loginEmail"],["type","email","name","loginEmail","id","loginEmail","required","","pattern","^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,63}$",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["loginEmail","ngModel"],[1,"invalid-feedback"],["for","loginPassword"],["type","password","id","loginPassword","name","loginPassword","required","","minlength","3",1,"form-control",3,"ngModel","placeholder","ngModelChange","keyup.enter"],["loginPassword","ngModel"],["for","loginCode"],["type","text","id","loginCode","name","loginCode","minlength","3",1,"form-control",3,"ngModel","placeholder","ngModelChange","keyup.enter"],["loginCode","ngModel"],[1,"form-group","form-check"],["type","checkbox","id","loginRememberMe","name","loginRememberMe",1,"form-check-input",3,"ngModel","ngModelChange"],["for","loginRememberMe",1,"form-check-label"],[3,"id","buttonSize","disabled","loading","onClick"],[3,"buttonSize","disabled","visible","onClick"],[4,"ngIf"],["header","Testbenutzer:",3,"alertType"],["data-cy","login-als-admin-button",3,"buttonSize","value","onClick"],[3,"buttonSize","value","onClick"]],template:function(e,n){if(1&e&&(g.Qb(0,"bla-common-dialog",0),g.Qb(1,"div",1),g.Qb(2,"div",2),g.Qb(3,"bla-alert",3),g.ac(4,"translate"),g.Bc(5),g.ac(6,"translate"),g.Pb(),g.Qb(7,"bla-alert",3),g.ac(8,"translate"),g.Bc(9),g.ac(10,"translate"),g.Pb(),g.Qb(11,"bla-alert",3),g.ac(12,"translate"),g.Bc(13),g.ac(14,"translate"),g.Pb(),g.Qb(15,"div",4),g.Qb(16,"div",5),g.Qb(17,"form",6,7),g.Qb(19,"div",8),g.Mb(20,"img",9),g.Qb(21,"h5",10),g.Bc(22),g.ac(23,"translate"),g.Pb(),g.Pb(),g.Qb(24,"div",11),g.Qb(25,"div",12),g.Qb(26,"label",13),g.Bc(27),g.ac(28,"translate"),g.Pb(),g.Qb(29,"input",14,15),g.Xb("ngModelChange",(function(e){return n.credentials.username=e})),g.ac(31,"translate"),g.Pb(),g.Qb(32,"div",16),g.Bc(33),g.ac(34,"translate"),g.Pb(),g.Pb(),g.Qb(35,"div",12),g.Qb(36,"label",17),g.Bc(37),g.ac(38,"translate"),g.Pb(),g.Qb(39,"input",18,19),g.Xb("ngModelChange",(function(e){return n.credentials.password=e}))("keyup.enter",(function(e){return n.onLogin(e)})),g.ac(41,"translate"),g.Pb(),g.Qb(42,"div",16),g.Bc(43),g.ac(44,"translate"),g.Pb(),g.Pb(),g.Qb(45,"div",12),g.Qb(46,"label",20),g.Bc(47),g.ac(48,"translate"),g.Pb(),g.Qb(49,"input",21,22),g.Xb("ngModelChange",(function(e){return n.credentials.code=e}))("keyup.enter",(function(e){return n.onLogin(e)})),g.ac(51,"translate"),g.Pb(),g.Qb(52,"div",16),g.Bc(53),g.ac(54,"translate"),g.Pb(),g.Pb(),g.Qb(55,"div",23),g.Qb(56,"input",24),g.Xb("ngModelChange",(function(e){return n.credentials.rememberMe=e})),g.Pb(),g.Qb(57,"label",25),g.Bc(58),g.ac(59,"translate"),g.Pb(),g.Pb(),g.Qb(60,"bla-button",26),g.Xb("onClick",(function(e){return n.onLogin(e)})),g.Bc(61),g.ac(62,"translate"),g.Pb(),g.Mb(63,"br"),g.Qb(64,"bla-button",27),g.Xb("onClick",(function(){return n.onSpotterLogin(n.testModeratorUser)})),g.Bc(65),g.ac(66,"translate"),g.Pb(),g.Pb(),g.Pb(),g.Pb(),g.Pb(),g.zc(67,A,74,17,"div",28),g.Pb(),g.Pb(),g.Pb()),2&e){var t=g.oc(18),r=g.oc(30),o=g.oc(40),i=g.oc(50);g.fc("config",n.config),g.zb(3),g.gc("header",g.bc(4,44,"USER.LOGIN.NOTIFICATION.LOGIN_SUCCESSFUL.HEADER")),g.fc("visible",n.loginResult===n.LoginResult.SUCCESS)("alertType",n.AlertType.SUCCESS),g.zb(2),g.Dc(" ",g.bc(6,46,"USER.LOGIN.NOTIFICATION.LOGIN_SUCCESSFUL.TEXT")," "),g.zb(2),g.gc("header",g.bc(8,48,"USER.LOGIN.NOTIFICATION.LOGIN_FAILURE.HEADER")),g.fc("visible",n.loginResult===n.LoginResult.FAILURE)("alertType",n.AlertType.DANGER),g.zb(2),g.Dc(" ",g.bc(10,50,"USER.LOGIN.NOTIFICATION.LOGIN_FAILURE.TEXT")," "),g.zb(2),g.gc("header",g.bc(12,52,"USER.LOGIN.NOTIFICATION.LOGIN_CONNECTION_PROBLEM.HEADER")),g.fc("visible",n.loginResult===n.LoginResult.CONNECTION_PROBLEM)("alertType",n.AlertType.WARNING),g.zb(2),g.Dc(" ",g.bc(14,54,"USER.LOGIN.NOTIFICATION.LOGIN_CONNECTION_PROBLEM.TEXT")," "),g.zb(9),g.Cc(g.bc(23,56,"USER.LOGIN.HEADER")),g.zb(5),g.Cc(g.bc(28,58,"USER.LOGIN.USERNAME.LABEL")),g.zb(2),g.Db("is-invalid",r.invalid&&!r.untouched||n.loginResult===n.LoginResult.FAILURE),g.gc("placeholder",g.bc(31,60,"USER.LOGIN.USERNAME.LABEL")),g.fc("ngModel",n.credentials.username),g.zb(4),g.Dc(" ",g.bc(34,62,"USER.LOGIN.USERNAME.ERROR")," "),g.zb(4),g.Cc(g.bc(38,64,"USER.LOGIN.PASSWORD.LABEL")),g.zb(2),g.Db("is-invalid",o.invalid&&!o.untouched||n.loginResult===n.LoginResult.FAILURE),g.gc("placeholder",g.bc(41,66,"USER.LOGIN.PASSWORD.PLACEHOLDER")),g.fc("ngModel",n.credentials.password),g.zb(4),g.Dc(" ",g.bc(44,68,"USER.LOGIN.PASSWORD.ERROR")," "),g.zb(4),g.Cc(g.bc(48,70,"USER.LOGIN.CODE.LABEL")),g.zb(2),g.Db("is-invalid",i.invalid&&!i.untouched||n.loginResult===n.LoginResult.FAILURE),g.gc("placeholder",g.bc(51,72,"USER.LOGIN.CODE.PLACEHOLDER")),g.fc("ngModel",n.credentials.code),g.zb(4),g.Dc(" ",g.bc(54,74,"USER.LOGIN.CODE.ERROR")," "),g.zb(3),g.fc("ngModel",n.credentials.rememberMe),g.zb(2),g.Cc(g.bc(59,76,"USER.LOGIN.REMEMBER_ME.LABEL")),g.zb(2),g.fc("id","loginButton")("buttonSize",n.ButtonSize.LARGE_BLOCK)("disabled",!t.valid)("loading",n.loading),g.zb(1),g.Dc("",g.bc(62,78,"USER.LOGIN.BUTTON.LOGIN")," "),g.zb(3),g.fc("buttonSize",n.ButtonSize.SMALL)("disabled",!n.isSpotterAuthenticationEnabled)("visible",n.isSpotterAuthenticationEnabled),g.zb(1),g.Dc(" ",g.bc(66,80,"SPOTTER.LINK.TEXT")," "),g.zb(2),g.fc("ngIf",!(!0===n.inProd))}},directives:[v.a,S.a,b.D,b.o,b.p,b.c,b.y,b.u,b.n,b.q,b.m,b.a,U.a,c.t],pipes:[C.d],styles:["#login[_ngcontent-%COMP%]{display:flex;justify-content:center}#login-dialog[_ngcontent-%COMP%]{width:500px;max-width:500px}.imgcontainer[_ngcontent-%COMP%]{text-align:center;margin:24px 0 12px}img.avatar[_ngcontent-%COMP%]{width:40%;border-radius:50%}"]}),w),D=o("PEb7"),Q=o("gQPg"),B=o("/k8H"),F=o("XUa0"),z={moduleTranslationKey:"USER",pageTitleTranslationKey:"USER.PROFILE.TITLE"},k=o("20cS"),G=((I=function(n){e(o,n);var r=t(o);function o(e,n,t,a,l,c){var b;return i(this,o),(b=r.call(this)).userProfileDataProvider=e,b.router=n,b.route=t,b.notificationService=a,b.currentUserService=l,b.onOfflineService=c,b.config=z,b.ButtonType=D.ButtonType,b.currentUserProfile=new F.a,b.sessionHandling=new k.a(b.currentUserService,b.onOfflineService),b}return l(o,[{key:"ngOnInit",value:function(){this.loading=!0,this.notificationService.discardNotification(),this.loadCurrentUserProfile()}},{key:"onMouseOver",value:function(e){this.sessionHandling.checkSessionExpired()&&window.location.reload()}},{key:"loadCurrentUserProfile",value:function(){var e=this;this.userProfileDataProvider.findCurrentUserProfile().then((function(n){return e.handleSuccess(n)})).catch((function(n){return e.handleFailure(n)}))}},{key:"handleSuccess",value:function(e){this.currentUserProfile=e.payload,this.loading=!1}},{key:"handleFailure",value:function(e){this.loading=!1}}]),o}(D.CommonComponentDirective)).\u0275fac=function(e){return new(e||I)(g.Lb(B.a),g.Lb(s.c),g.Lb(s.a),g.Lb(Q.c),g.Lb(O.a),g.Lb(O.i))},I.\u0275cmp=g.Fb({type:I,selectors:[["bla-user-profile"]],features:[g.yb([]),g.wb],decls:102,vars:86,consts:[[3,"config","loading"],[3,"mouseover"],["id","userProfileForm",1,"horizontal-form","half-page"],["userProfileForm","ngForm"],[1,"form-group","row"],["for","userProfileVorname",1,"col-sm-3","col-form-label"],[1,"col-sm-9"],["type","text","readonly","","id","userProfileVorname","name","userProfileVorname",1,"form-control-plaintext",3,"ngModel","placeholder","ngModelChange"],["userProfileVorname","ngModel"],[1,"invalid-feedback"],["for","userProfileNachname",1,"col-sm-3","col-form-label"],["type","text","readonly","","id","userProfileNachname","name","userProfileNachname",1,"form-control-plaintext",3,"ngModel","placeholder","ngModelChange"],["userProfileNachname","ngModel"],["for","userProfileEmail",1,"col-sm-3","col-form-label"],["type","text","readonly","","id","userProfileEmail","name","userProfileEmail",1,"form-control-plaintext",3,"ngModel","placeholder","ngModelChange"],["userProfileEmail","ngModel"],["for","userProfileGeburtsdatum",1,"col-sm-3","col-form-label"],["type","text","readonly","","pattern","[0-9]{4}-[0-9]{2}-[0-9]{2}","id","userProfileGeburtsdatum","name","userProfileGeburtsdatum",1,"form-control-plaintext",3,"ngModel","placeholder","ngModelChange"],["userProfileGeburtsdatum","ngModel"],["for","userProfileMitgliedsnummer",1,"col-sm-3","col-form-label"],["type","text","readonly","","id","userProfileMitgliedsnummer","name","userProfileMitgliedsnummer",1,"form-control-plaintext",3,"ngModel","placeholder","ngModelChange"],["userProfileMitgliedsnummer","ngModel"],["for","userProfileNationalitaet",1,"col-sm-3","col-form-label"],["type","text","readonly","","pattern","[D|AT|CH|FR|IT|GB]","id","userProfileNationalitaet","name","userProfileNationalitaet",1,"form-control-plaintext",3,"ngModel","placeholder","ngModelChange"],["userProfileNationalitaet","ngModel"],["for","userProfileVerein",1,"col-sm-3","col-form-label"],["type","text","readonly","","id","userProfileVerein","name","userProfileVerein",1,"form-control-plaintext",3,"ngModel","placeholder","ngModelChange"],["userProfileVerein","ngModel"]],template:function(e,n){if(1&e&&(g.Qb(0,"bla-common-dialog",0),g.Qb(1,"div",1),g.Xb("mouseover",(function(e){return n.onMouseOver(e)})),g.Qb(2,"form",2,3),g.Qb(4,"div",4),g.Qb(5,"label",5),g.Qb(6,"span"),g.Bc(7),g.ac(8,"translate"),g.Pb(),g.Qb(9,"span"),g.Bc(10," *"),g.Pb(),g.Pb(),g.Qb(11,"div",6),g.Qb(12,"input",7,8),g.Xb("ngModelChange",(function(e){return n.currentUserProfile.vorname=e})),g.ac(14,"translate"),g.Pb(),g.Qb(15,"div",9),g.Bc(16),g.ac(17,"translate"),g.Pb(),g.Pb(),g.Pb(),g.Qb(18,"div",4),g.Qb(19,"label",10),g.Qb(20,"span"),g.Bc(21),g.ac(22,"translate"),g.Pb(),g.Qb(23,"span"),g.Bc(24," *"),g.Pb(),g.Pb(),g.Qb(25,"div",6),g.Qb(26,"input",11,12),g.Xb("ngModelChange",(function(e){return n.currentUserProfile.nachname=e})),g.ac(28,"translate"),g.Pb(),g.Qb(29,"div",9),g.Bc(30),g.ac(31,"translate"),g.Pb(),g.Pb(),g.Pb(),g.Qb(32,"div",4),g.Qb(33,"label",13),g.Qb(34,"span"),g.Bc(35),g.ac(36,"translate"),g.Pb(),g.Qb(37,"span"),g.Bc(38," *"),g.Pb(),g.Pb(),g.Qb(39,"div",6),g.Qb(40,"input",14,15),g.Xb("ngModelChange",(function(e){return n.currentUserProfile.email=e})),g.ac(42,"translate"),g.Pb(),g.Qb(43,"div",9),g.Bc(44),g.ac(45,"translate"),g.Pb(),g.Pb(),g.Pb(),g.Qb(46,"div",4),g.Qb(47,"label",16),g.Qb(48,"span"),g.Bc(49),g.ac(50,"translate"),g.Pb(),g.Qb(51,"span"),g.Bc(52," *"),g.Pb(),g.Pb(),g.Qb(53,"div",6),g.Qb(54,"input",17,18),g.Xb("ngModelChange",(function(e){return n.currentUserProfile.geburtsdatum=e})),g.ac(56,"translate"),g.Pb(),g.Qb(57,"div",9),g.Bc(58),g.ac(59,"translate"),g.Pb(),g.Pb(),g.Pb(),g.Qb(60,"div",4),g.Qb(61,"label",19),g.Qb(62,"span"),g.Bc(63),g.ac(64,"translate"),g.Pb(),g.Qb(65,"span"),g.Bc(66," *"),g.Pb(),g.Pb(),g.Qb(67,"div",6),g.Qb(68,"input",20,21),g.Xb("ngModelChange",(function(e){return n.currentUserProfile.mitgliedsnummer=e})),g.ac(70,"translate"),g.Pb(),g.Qb(71,"div",9),g.Bc(72),g.ac(73,"translate"),g.Pb(),g.Pb(),g.Pb(),g.Qb(74,"div",4),g.Qb(75,"label",22),g.Qb(76,"span"),g.Bc(77),g.ac(78,"translate"),g.Pb(),g.Qb(79,"span"),g.Bc(80," *"),g.Pb(),g.Pb(),g.Qb(81,"div",6),g.Qb(82,"input",23,24),g.Xb("ngModelChange",(function(e){return n.currentUserProfile.nationalitaet=e})),g.ac(84,"translate"),g.Pb(),g.Qb(85,"div",9),g.Bc(86),g.ac(87,"translate"),g.Pb(),g.Pb(),g.Pb(),g.Qb(88,"div",4),g.Qb(89,"label",25),g.Qb(90,"span"),g.Bc(91),g.ac(92,"translate"),g.Pb(),g.Qb(93,"span"),g.Bc(94," *"),g.Pb(),g.Pb(),g.Qb(95,"div",6),g.Qb(96,"input",26,27),g.Xb("ngModelChange",(function(e){return n.currentUserProfile.vereinsId=e})),g.ac(98,"translate"),g.Pb(),g.Qb(99,"div",9),g.Bc(100),g.ac(101,"translate"),g.Pb(),g.Pb(),g.Pb(),g.Pb(),g.Pb(),g.Pb()),2&e){var t=g.oc(13),r=g.oc(27),o=g.oc(41),i=g.oc(55),a=g.oc(69),l=g.oc(83),c=g.oc(97);g.fc("config",n.config)("loading",n.loading),g.zb(7),g.Cc(g.bc(8,44,"USER.PROFILE.FORM.VORNAME.LABEL")),g.zb(5),g.Db("is-invalid",t.invalid&&!t.untouched),g.gc("placeholder",g.bc(14,46,"USER.PROFILE.FORM.VORNAME.PLACEHOLDER")),g.fc("ngModel",n.currentUserProfile.vorname),g.zb(4),g.Dc(" ",g.bc(17,48,"USER.PROFILE.FORM.VORNAME.ERROR")," "),g.zb(5),g.Cc(g.bc(22,50,"USER.PROFILE.FORM.NACHNAME.LABEL")),g.zb(5),g.Db("is-invalid",r.invalid&&!r.untouched),g.gc("placeholder",g.bc(28,52,"USER.PROFILE.FORM.NACHNAME.PLACEHOLDER")),g.fc("ngModel",n.currentUserProfile.nachname),g.zb(4),g.Dc(" ",g.bc(31,54,"USER.PROFILE.FORM.NACHNAME.ERROR")," "),g.zb(5),g.Cc(g.bc(36,56,"USER.PROFILE.FORM.EMAIL.LABEL")),g.zb(5),g.Db("is-invalid",o.invalid&&!o.untouched),g.gc("placeholder",g.bc(42,58,"USER.PROFILE.FORM.EMAIL.PLACEHOLDER")),g.fc("ngModel",n.currentUserProfile.email),g.zb(4),g.Dc(" ",g.bc(45,60,"USER.PROFILE.FORM.EMAIL.ERROR")," "),g.zb(5),g.Cc(g.bc(50,62,"USER.PROFILE.FORM.GEBURTSDATUM.LABEL")),g.zb(5),g.Db("is-invalid",i.invalid&&!i.untouched),g.gc("placeholder",g.bc(56,64,"USER.PROFILE.FORM.GEBURTSDATUM.PLACEHOLDER")),g.fc("ngModel",n.currentUserProfile.geburtsdatum),g.zb(4),g.Dc(" ",g.bc(59,66,"USER.PROFILE.FORM.GEBURTSDATUM.ERROR")," "),g.zb(5),g.Cc(g.bc(64,68,"USER.PROFILE.FORM.MITGLIEDSNUMMER.LABEL")),g.zb(5),g.Db("is-invalid",a.invalid&&!a.untouched),g.gc("placeholder",g.bc(70,70,"USER.PROFILE.FORM.MITGLIEDSNUMMER.PLACEHOLDER")),g.fc("ngModel",n.currentUserProfile.mitgliedsnummer),g.zb(4),g.Dc(" ",g.bc(73,72,"USER.PROFILE.FORM.MITGLIEDSNUMMER.ERROR")," "),g.zb(5),g.Cc(g.bc(78,74,"USER.PROFILE.FORM.NATIONALITAET.LABEL")),g.zb(5),g.Db("is-invalid",l.invalid&&!l.untouched),g.gc("placeholder",g.bc(84,76,"USER.PROFILE.FORM.NATIONALITAET.PLACEHOLDER")),g.fc("ngModel",n.currentUserProfile.nationalitaet),g.zb(4),g.Dc(" ",g.bc(87,78,"USER.PROFILE.FORM.NATIONALITAET.ERROR")," "),g.zb(5),g.Cc(g.bc(92,80,"USER.PROFILE.FORM.VEREIN.LABEL")),g.zb(5),g.Db("is-invalid",c.invalid&&!c.untouched),g.gc("placeholder",g.bc(98,82,"USER.PROFILE.FORM.VEREIN.PLACEHOLDER")),g.fc("ngModel",n.currentUserProfile.vereinsId),g.zb(4),g.Dc(" ",g.bc(101,84,"USER.PROFILE.FORM.VEREIN.ERROR")," ")}},directives:[v.a,b.D,b.o,b.p,b.c,b.n,b.q,b.u],pipes:[C.d],styles:[".half-page[_ngcontent-%COMP%]{width:50%}.button-box[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-direction:row-reverse;flex-wrap:wrap}@media (max-width:1400px){.half-page[_ngcontent-%COMP%]{width:80%}}@media (max-width:950px){.half-page[_ngcontent-%COMP%]{width:100%}}"]}),I),x=o("YfBl"),_=function e(n,t){i(this,e),this.password=n,this.newPassword=t},W=((T=function(n){e(o,n);var r=t(o);function o(e){var n;return i(this,o),(n=r.call(this)).restClient=e,n.serviceSubUrl="v1/user",n}return l(o,[{key:"update",value:function(e){var n=this;return new Promise((function(t,r){var o=new _(e.password,e.newPassword);n.sendUpdateRequest(o,t,r)}))}},{key:"sendUpdateRequest",value:function(e,n,t){this.restClient.PUT((new x.UriBuilder).fromPath(this.getUrl()).build(),e).then((function(e){n(x.RequestResult.SUCCESS)}),(function(e){t(0===e.status?{result:x.RequestResult.CONNECTION_PROBLEM}:{result:x.RequestResult.FAILURE})}))}}]),o}(x.DataProviderService)).\u0275fac=function(e){return new(e||T)(g.Ub(x.RestClient))},T.\u0275prov=g.Hb({token:T,factory:T.\u0275fac,providedIn:"root"}),T),X=function e(n,t){i(this,e),this.password=n||"",this.newPassword=t||"",this.verifyPassword=t||""},H={moduleTranslationKey:"USER",pageTitleTranslationKey:"USER.PWD.TITLE"},V=[{path:"profile",pathMatch:"full",component:G,canActivate:[f]},{path:"pwd",pathMatch:"full",component:(y=function(){function e(n,t,r){i(this,e),this.userPwdDataProvider=n,this.currentUserService=t,this.onOfflineService=r,this.config=H,this.changeCredentials=new X,this.loginResult=L.a.PENDING,this.LoginResult=L.a,this.AlertType=E.b,this.sessionHandling=new k.a(this.currentUserService,this.onOfflineService)}return l(e,[{key:"ngOnInit",value:function(){}},{key:"onMouseOver",value:function(e){this.sessionHandling.checkSessionExpired()&&window.location.reload()}},{key:"onUpdate",value:function(e){var n=this;this.userPwdDataProvider.update(this.changeCredentials).then((function(){return n.handleSuccessUpdate()}),(function(e){return n.showFailedUpdate(e)}))}},{key:"showFailedUpdate",value:function(e){this.loginResult=e}},{key:"handleSuccessUpdate",value:function(){this.loginResult=L.a.SUCCESS}}]),e}(),y.\u0275fac=function(e){return new(e||y)(g.Lb(W),g.Lb(O.a),g.Lb(O.i))},y.\u0275cmp=g.Fb({type:y,selectors:[["bla-user-pwd"]],decls:56,vars:66,consts:[[3,"config"],[3,"mouseover"],["id","pwd"],["id","userPwd-dialog"],[3,"alertType","visible","header"],[3,"visible","header","alertType"],[1,"card","mb-4","shadow-sm"],[1,"card-body","userPwd-dialog"],["id","userPwdForm"],["userPwdForm","ngForm"],[1,"imgcontainer"],["src","../assets/img/logo.png","alt","Logo",1,"avatar"],[1,"container"],[1,"form-group"],["for","userPwdFormPassword"],["type","password","id","userPwdFormPassword","name","userPwdFormPassword","required","",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["userPwdFormPassword","ngModel"],[1,"invalid-feedback"],["for","userPwdFormNewPwd"],["type","password","required","","pattern","^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[A-Za-z\\d#$^+=!*()@%&?]{8,}$","id","userPwdFormNewPwd","name","userPwdFormNewPwd",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["userPwdFormNewPwd","ngModel"],["for","userPwdFormVerifyPwd"],["type","password","id","userPwdFormVerifyPwd","name","userPwdFormVerifyPwd","required","","minlength","8",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["userPwdFormVerifyPwd","ngModel"],[3,"id","disabled","onClick"]],template:function(e,n){if(1&e&&(g.Qb(0,"bla-common-dialog",0),g.Qb(1,"div",1),g.Xb("mouseover",(function(e){return n.onMouseOver(e)})),g.Qb(2,"div",2),g.Qb(3,"div",3),g.Qb(4,"bla-alert",4),g.ac(5,"translate"),g.Bc(6),g.ac(7,"translate"),g.Pb(),g.Qb(8,"bla-alert",5),g.ac(9,"translate"),g.Bc(10),g.ac(11,"translate"),g.Pb(),g.Qb(12,"bla-alert",5),g.ac(13,"translate"),g.Bc(14),g.ac(15,"translate"),g.Pb(),g.Qb(16,"div",6),g.Qb(17,"div",7),g.Qb(18,"form",8,9),g.Qb(20,"div",10),g.Mb(21,"img",11),g.Pb(),g.Qb(22,"div",12),g.Qb(23,"div",13),g.Qb(24,"label",14),g.Bc(25),g.ac(26,"translate"),g.Pb(),g.Qb(27,"input",15,16),g.Xb("ngModelChange",(function(e){return n.changeCredentials.password=e})),g.ac(29,"translate"),g.Pb(),g.Qb(30,"div",17),g.Bc(31),g.ac(32,"translate"),g.Pb(),g.Pb(),g.Qb(33,"div",13),g.Qb(34,"label",18),g.Bc(35),g.ac(36,"translate"),g.Pb(),g.Qb(37,"input",19,20),g.Xb("ngModelChange",(function(e){return n.changeCredentials.newPassword=e})),g.ac(39,"translate"),g.Pb(),g.Qb(40,"div",17),g.Bc(41),g.ac(42,"translate"),g.Pb(),g.Pb(),g.Qb(43,"div",13),g.Qb(44,"label",21),g.Bc(45),g.ac(46,"translate"),g.Pb(),g.Qb(47,"input",22,23),g.Xb("ngModelChange",(function(e){return n.changeCredentials.verifyPassword=e})),g.ac(49,"translate"),g.Pb(),g.Qb(50,"div",17),g.Bc(51),g.ac(52,"translate"),g.Pb(),g.Pb(),g.Qb(53,"bla-button",24),g.Xb("onClick",(function(e){return n.onUpdate(e)})),g.Bc(54),g.ac(55,"translate"),g.Pb(),g.Pb(),g.Pb(),g.Pb(),g.Pb(),g.Pb(),g.Pb(),g.Pb(),g.Pb()),2&e){var t=g.oc(19),r=g.oc(28),o=g.oc(38),i=g.oc(48);g.fc("config",n.config),g.zb(4),g.gc("header",g.bc(5,34,"USER.PWD.NOTIFICATION.PWD_SUCCESSFUL.HEADER")),g.fc("alertType",n.AlertType.SUCCESS)("visible",n.loginResult===n.LoginResult.SUCCESS),g.zb(2),g.Dc(" ",g.bc(7,36,"USER.PWD.NOTIFICATION.PWD_SUCCESSFUL.TEXT")," "),g.zb(2),g.gc("header",g.bc(9,38,"USER.PWD.NOTIFICATION.PWD_FAILURE.HEADER")),g.fc("visible",n.loginResult===n.LoginResult.FAILURE)("alertType",n.AlertType.DANGER),g.zb(2),g.Dc(" ",g.bc(11,40,"USER.PWD.NOTIFICATION.PWD_FAILURE.TEXT")," "),g.zb(2),g.gc("header",g.bc(13,42,"USER.PWD.NOTIFICATION.PWD_CONNECTION_PROBLEM.HEADER")),g.fc("visible",n.loginResult===n.LoginResult.CONNECTION_PROBLEM)("alertType",n.AlertType.WARNING),g.zb(2),g.Dc(" ",g.bc(15,44,"USER.PWD.NOTIFICATION.PWD_CONNECTION_PROBLEM.TEXT")," "),g.zb(11),g.Cc(g.bc(26,46,"USER.PWD.FORM.PASSWORD.LABEL")),g.zb(2),g.Db("is-invalid",r.invalid&&!r.untouched),g.gc("placeholder",g.bc(29,48,"USER.PWD.FORM.PASSWORD.PLACEHOLDER")),g.fc("ngModel",n.changeCredentials.password),g.zb(4),g.Dc(" ",g.bc(32,50,"USER.PWD.FORM.PASSWORD.ERROR")," "),g.zb(4),g.Cc(g.bc(36,52,"USER.PWD.FORM.NEWPASSWORD.LABEL")),g.zb(2),g.Db("is-invalid",o.invalid&&!o.untouched),g.gc("placeholder",g.bc(39,54,"USER.PWD.FORM.NEWPASSWORD.PLACEHOLDER")),g.fc("ngModel",n.changeCredentials.newPassword),g.zb(4),g.Dc(" ",g.bc(42,56,"USER.PWD.FORM.NEWPASSWORD.ERROR")," "),g.zb(4),g.Cc(g.bc(46,58,"USER.PWD.FORM.VERIFYPASSWORD.LABEL")),g.zb(2),g.Db("is-invalid",i.value!=o.value),g.gc("placeholder",g.bc(49,60,"USER.PWD.FORM.VERIFYPASSWORD.PLACEHOLDER")),g.fc("ngModel",n.changeCredentials.verifyPassword),g.zb(4),g.Dc(" ",g.bc(52,62,"USER.PWD.FORM.VERIFYPASSWORD.ERROR")," "),g.zb(2),g.fc("id","userPwdUpdateButton")("disabled",!t.valid),g.zb(1),g.Dc("",g.bc(55,64,"USER.PWD.FORM.UPDATE")," ")}},directives:[v.a,S.a,b.D,b.o,b.p,b.c,b.y,b.n,b.q,b.u,b.m,U.a],pipes:[C.d],styles:["#pwd[_ngcontent-%COMP%]{display:flex;justify-content:center}#userPwd-dialog[_ngcontent-%COMP%]{width:500px;max-width:500px}.imgcontainer[_ngcontent-%COMP%]{text-align:center;margin:24px 0 12px}img.avatar[_ngcontent-%COMP%]{width:40%;border-radius:50%}"]}),y),canActivate:[f]},{path:"login",component:N,canActivate:[f]}];o("FpXt");var q,Z=((q=function e(){i(this,e)}).\u0275mod=g.Jb({type:q}),q.\u0275inj=g.Ib({factory:function(e){return new(e||q)},providers:[f],imports:[[c.c,s.g.forChild(V),d.SharedModule.forChild(),b.k]]}),q)}}])}();